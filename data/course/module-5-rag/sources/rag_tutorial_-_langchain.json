{
  "name": "RAG Tutorial - LangChain",
  "url": "https://python.langchain.com/docs/tutorials/rag/",
  "pages": [
    {
      "url": "https://python.langchain.com/docs/tutorials/rag/",
      "title": "RAG Tutorial - LangChain",
      "content_html": "<div class=\"mdx-content relative mt-8 mb-14 prose prose-gray dark:prose-invert [contain:inline-size] isolate\" data-page-href=\"/oss/python/langchain/rag\" data-page-title=\"Build a RAG agent with LangChain\" id=\"content\"><h2 class=\"flex whitespace-pre-wrap group font-semibold\" id=\"overview\"><div class=\"absolute\" tabindex=\"-1\"><a aria-label=\"Navigate to header\" class=\"-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100 focus:opacity-100 focus:outline-0 group/link\" href=\"https://python.langchain.com/docs/tutorials/rag/#overview\" target=\"_blank\">​<div class=\"w-6 h-6 rounded-md flex items-center justify-center shadow-sm text-gray-400 dark:text-white/50 dark:bg-background-dark dark:brightness-[1.35] dark:ring-1 dark:hover:brightness-150 bg-white ring-1 ring-gray-400/30 dark:ring-gray-700/25 hover:ring-gray-400/60 dark:hover:ring-white/20 group-focus/link:border-2 group-focus/link:border-primary dark:group-focus/link:border-primary-light\"><svg fill=\"gray\" height=\"12px\" viewbox=\"0 0 576 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 256C0 167.6 71.6 96 160 96h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C98.1 144 48 194.1 48 256s50.1 112 112 112h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C71.6 416 0 344.4 0 256zm576 0c0 88.4-71.6 160-160 160H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c61.9 0 112-50.1 112-112s-50.1-112-112-112H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c88.4 0 160 71.6 160 160zM184 232H392c13.3 0 24 10.7 24 24s-10.7 24-24 24H184c-13.3 0-24-10.7-24-24s10.7-24 24-24z\"></path></svg></div></a></div><span class=\"cursor-pointer\">Overview</span></h2>\n<span data-as=\"p\">One of the most powerful applications enabled by LLMs is sophisticated question-answering (Q&amp;A) chatbots. These are applications that can answer questions about specific source information. These applications use a technique known as Retrieval Augmented Generation, or <a class=\"link\" href=\"https://python.langchain.com/oss/python/langchain/retrieval\" target=\"_blank\">RAG</a>.</span>\n<span data-as=\"p\">This tutorial will show how to build a simple Q&amp;A application over an unstructured text data source. We will demonstrate:</span>\n<ol>\n<li>A RAG <a class=\"link\" href=\"https://python.langchain.com/docs/tutorials/rag/#rag-agents\" target=\"_blank\">agent</a> that executes searches with a simple tool. This is a good general-purpose implementation.</li>\n<li>A two-step RAG <a class=\"link\" href=\"https://python.langchain.com/docs/tutorials/rag/#rag-chains\" target=\"_blank\">chain</a> that uses just a single LLM call per query. This is a fast and effective method for simple queries.</li>\n</ol>\n<h3 class=\"flex whitespace-pre-wrap group font-semibold\" id=\"concepts\"><div class=\"absolute\" tabindex=\"-1\"><a aria-label=\"Navigate to header\" class=\"-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100 focus:opacity-100 focus:outline-0 group/link\" href=\"https://python.langchain.com/docs/tutorials/rag/#concepts\" target=\"_blank\">​<div class=\"w-6 h-6 rounded-md flex items-center justify-center shadow-sm text-gray-400 dark:text-white/50 dark:bg-background-dark dark:brightness-[1.35] dark:ring-1 dark:hover:brightness-150 bg-white ring-1 ring-gray-400/30 dark:ring-gray-700/25 hover:ring-gray-400/60 dark:hover:ring-white/20 group-focus/link:border-2 group-focus/link:border-primary dark:group-focus/link:border-primary-light\"><svg fill=\"gray\" height=\"12px\" viewbox=\"0 0 576 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 256C0 167.6 71.6 96 160 96h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C98.1 144 48 194.1 48 256s50.1 112 112 112h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C71.6 416 0 344.4 0 256zm576 0c0 88.4-71.6 160-160 160H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c61.9 0 112-50.1 112-112s-50.1-112-112-112H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c88.4 0 160 71.6 160 160zM184 232H392c13.3 0 24 10.7 24 24s-10.7 24-24 24H184c-13.3 0-24-10.7-24-24s10.7-24 24-24z\"></path></svg></div></a></div><span class=\"cursor-pointer\">Concepts</span></h3>\n<span data-as=\"p\">We will cover the following concepts:</span>\n<ul>\n<li>\n<span data-as=\"p\"><strong>Indexing</strong>: a pipeline for ingesting data from a source and indexing it. <em>This usually happens in a separate process.</em></span>\n</li>\n<li>\n<span data-as=\"p\"><strong>Retrieval and generation</strong>: the actual RAG process, which takes the user query at run time and retrieves the relevant data from the index, then passes that to the model.</span>\n</li>\n</ul>\n<span data-as=\"p\">Once we’ve indexed our data, we will use an <a class=\"link\" href=\"https://python.langchain.com/oss/python/langchain/agents\" target=\"_blank\">agent</a> as our orchestration framework to implement the retrieval and generation steps.</span>\n<div class=\"callout my-4 px-5 py-4 overflow-hidden rounded-2xl flex gap-3 border border-sky-500/20 bg-sky-50/50 dark:border-sky-500/30 dark:bg-sky-500/10\" data-callout-type=\"note\"><div class=\"mt-0.5 w-4\" data-component-part=\"callout-icon\"><svg aria-label=\"Note\" class=\"w-4 h-4 text-sky-500\" fill=\"currentColor\" height=\"14\" viewbox=\"0 0 14 14\" width=\"14\" xmlns=\"http://www.w3.org/2000/svg\"><path clip-rule=\"evenodd\" d=\"M7 1.3C10.14 1.3 12.7 3.86 12.7 7C12.7 10.14 10.14 12.7 7 12.7C5.48908 12.6974 4.0408 12.096 2.97241 11.0276C1.90403 9.9592 1.30264 8.51092 1.3 7C1.3 3.86 3.86 1.3 7 1.3ZM7 0C3.14 0 0 3.14 0 7C0 10.86 3.14 14 7 14C10.86 14 14 10.86 14 7C14 3.14 10.86 0 7 0ZM8 3H6V8H8V3ZM8 9H6V11H8V9Z\" fill-rule=\"evenodd\"></path></svg></div><div class=\"text-sm prose dark:prose-invert min-w-0 w-full [&amp;_kbd]:bg-background-light dark:[&amp;_kbd]:bg-background-dark [&amp;_code]:!text-current [&amp;_kbd]:!text-current [&amp;_a]:!text-current [&amp;_a]:border-current text-sky-900 dark:text-sky-200\" data-component-part=\"callout-content\"><span data-as=\"p\">The indexing portion of this tutorial will largely follow the <a class=\"link\" href=\"https://python.langchain.com/oss/python/langchain/knowledge-base\" target=\"_blank\">semantic search tutorial</a>.</span><span data-as=\"p\">If your data is already available for search (i.e., you have a function to execute a search), or you’re comfortable with the content from that tutorial, feel free to skip to the section on <a class=\"link\" href=\"https://python.langchain.com/docs/tutorials/rag/#2-retrieval-and-generation\" target=\"_blank\">retrieval and generation</a></span></div></div>\n<h3 class=\"flex whitespace-pre-wrap group font-semibold\" id=\"preview\"><div class=\"absolute\" tabindex=\"-1\"><a aria-label=\"Navigate to header\" class=\"-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100 focus:opacity-100 focus:outline-0 group/link\" href=\"https://python.langchain.com/docs/tutorials/rag/#preview\" target=\"_blank\">​<div class=\"w-6 h-6 rounded-md flex items-center justify-center shadow-sm text-gray-400 dark:text-white/50 dark:bg-background-dark dark:brightness-[1.35] dark:ring-1 dark:hover:brightness-150 bg-white ring-1 ring-gray-400/30 dark:ring-gray-700/25 hover:ring-gray-400/60 dark:hover:ring-white/20 group-focus/link:border-2 group-focus/link:border-primary dark:group-focus/link:border-primary-light\"><svg fill=\"gray\" height=\"12px\" viewbox=\"0 0 576 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 256C0 167.6 71.6 96 160 96h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C98.1 144 48 194.1 48 256s50.1 112 112 112h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C71.6 416 0 344.4 0 256zm576 0c0 88.4-71.6 160-160 160H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c61.9 0 112-50.1 112-112s-50.1-112-112-112H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c88.4 0 160 71.6 160 160zM184 232H392c13.3 0 24 10.7 24 24s-10.7 24-24 24H184c-13.3 0-24-10.7-24-24s10.7-24 24-24z\"></path></svg></div></a></div><span class=\"cursor-pointer\">Preview</span></h3>\n<span data-as=\"p\">In this guide we’ll build an app that answers questions about the website’s content. The specific website we will use is the <a class=\"link\" href=\"https://lilianweng.github.io/posts/2023-06-23-agent/\" rel=\"noreferrer\" target=\"_blank\">LLM Powered Autonomous Agents</a> blog post by Lilian Weng, which allows us to ask questions about the contents of the post.</span>\n<span data-as=\"p\">We can create a simple indexing pipeline and RAG chain to do this in ~40 lines of code. See below for the full code snippet:</span>\n<details class=\"accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default\"><summary aria-controls=\"expand-for-full-code-snippet accordion children\" aria-expanded=\"false\" class=\"relative not-prose flex flex-row items-center content-center w-full cursor-pointer list-none [&amp;::-webkit-details-marker]:hidden py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl\" data-component-part=\"accordion-button\"><div class=\"absolute -top-[8rem]\" id=\"expand-for-full-code-snippet\"></div><div class=\"mr-0.5\" data-component-part=\"accordion-caret-right\"><svg class=\"h-3 w-3 transition bg-gray-700 dark:bg-gray-400 duration-75\" style=\"-webkit-mask-image:url(https://d3gk2c5xim1je2.cloudfront.net/v7.1.0/solid/caret-right.svg);-webkit-mask-repeat:no-repeat;-webkit-mask-position:center;mask-image:url(https://d3gk2c5xim1je2.cloudfront.net/v7.1.0/solid/caret-right.svg);mask-repeat:no-repeat;mask-position:center\"></svg></div><div class=\"leading-tight text-left\" contenteditable=\"false\" data-component-part=\"accordion-title-container\"><p class=\"m-0 font-medium text-gray-900 dark:text-gray-200\" data-component-part=\"accordion-title\">Expand for full code snippet</p></div></summary><div aria-labelledby=\"expand-for-full-code-snippet\" class=\"mt-2 mb-4 mx-6 prose prose-gray dark:prose-invert overflow-x-auto cursor-default\" data-component-part=\"accordion-content\" id=\"expand-for-full-code-snippet accordion children\" role=\"region\"><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"41\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"41\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> bs4</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain.agents </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> AgentState, create_agent</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain_community.document_loaders </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> WebBaseLoader</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain.messages </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> MessageLikeRepresentation</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain_text_splitters </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> RecursiveCharacterTextSplitter</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6E7781;--shiki-dark:#6A9955\"># Load and chunk contents of the blog</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">loader </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> WebBaseLoader(</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    web_paths</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">(</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"https://lilianweng.github.io/posts/2023-06-23-agent/\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">,),</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    bs_kwargs</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0550AE;--shiki-dark:#4EC9B0\">dict</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">(</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">        parse_only</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">bs4.SoupStrainer(</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">            class_</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">(</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"post-content\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">, </span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"post-title\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">, </span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"post-header\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">        )</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">    ),</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">docs </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> loader.load()</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">text_splitter </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> RecursiveCharacterTextSplitter(</span><span style=\"color:#953800;--shiki-dark:#9CDCFE\">chunk_size</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0550AE;--shiki-dark:#B5CEA8\">1000</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">, </span><span style=\"color:#953800;--shiki-dark:#9CDCFE\">chunk_overlap</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0550AE;--shiki-dark:#B5CEA8\">200</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">all_splits </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> text_splitter.split_documents(docs)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6E7781;--shiki-dark:#6A9955\"># Index chunks</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">_ </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> vector_store.add_documents(</span><span style=\"color:#953800;--shiki-dark:#9CDCFE\">documents</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">all_splits)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6E7781;--shiki-dark:#6A9955\"># Construct a tool for retrieving context</span></span>\n<span class=\"line\"><span style=\"color:#8250DF;--shiki-dark:#DCDCAA\">@tool</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">(</span><span style=\"color:#953800;--shiki-dark:#9CDCFE\">response_format</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"content_and_artifact\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#569CD6\">def</span><span style=\"color:#8250DF;--shiki-dark:#DCDCAA\"> retrieve_context</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">(</span><span style=\"color:#1F2328;--shiki-dark:#9CDCFE\">query</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">: </span><span style=\"color:#0550AE;--shiki-dark:#4EC9B0\">str</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">):</span></span>\n<span class=\"line\"><span style=\"color:#0A3069;--shiki-dark:#CE9178\">    \"\"\"Retrieve information to help answer a query.\"\"\"</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">    retrieved_docs </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> vector_store.similarity_search(query, </span><span style=\"color:#953800;--shiki-dark:#9CDCFE\">k</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0550AE;--shiki-dark:#B5CEA8\">2</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">    serialized </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> \"</span><span style=\"color:#CF222E;--shiki-dark:#D7BA7D\">\\n\\n</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">.join(</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">        (</span><span style=\"color:#CF222E;--shiki-dark:#569CD6\">f</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"Source: </span><span style=\"color:#CF222E;--shiki-dark:#569CD6\">{</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">doc.metadata</span><span style=\"color:#CF222E;--shiki-dark:#569CD6\">}</span><span style=\"color:#CF222E;--shiki-dark:#D7BA7D\">\\n</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">Content: </span><span style=\"color:#CF222E;--shiki-dark:#569CD6\">{</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">doc.page_content</span><span style=\"color:#CF222E;--shiki-dark:#569CD6\">}</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">        for</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> doc </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">in</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> retrieved_docs</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">    )</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">    return</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> serialized, retrieved_docs</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">tools </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> [retrieve_context]</span></span>\n<span class=\"line\"><span style=\"color:#6E7781;--shiki-dark:#6A9955\"># If desired, specify custom instructions</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">prompt </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> (</span></span>\n<span class=\"line\"><span style=\"color:#0A3069;--shiki-dark:#CE9178\">    \"You have access to a tool that retrieves context from a blog post. \"</span></span>\n<span class=\"line\"><span style=\"color:#0A3069;--shiki-dark:#CE9178\">    \"Use the tool to help answer user queries.\"</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">agent </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> create_agent(model, tools, </span><span style=\"color:#953800;--shiki-dark:#9CDCFE\">system_prompt</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">prompt)</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"6\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"6\"><span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">query </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> \"What is task decomposition?\"</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">for</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> step </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">in</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> agent.stream(</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">    {</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"messages\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">: [{</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"role\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">: </span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"user\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">, </span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"content\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">: query}]},</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    stream_mode</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"values\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">,</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">):</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">    step[</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"messages\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">][</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">-</span><span style=\"color:#0550AE;--shiki-dark:#B5CEA8\">1</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">].pretty_print()</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"text\" numberoflines=\"21\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"text\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"text\" numberoflines=\"21\"><span class=\"line\"><span>================================ Human Message =================================</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>What is task decomposition?</span></span>\n<span class=\"line\"><span>================================== Ai Message ==================================</span></span>\n<span class=\"line\"><span>Tool Calls:</span></span>\n<span class=\"line\"><span>  retrieve_context (call_xTkJr8njRY0geNz43ZvGkX0R)</span></span>\n<span class=\"line\"><span> Call ID: call_xTkJr8njRY0geNz43ZvGkX0R</span></span>\n<span class=\"line\"><span>  Args:</span></span>\n<span class=\"line\"><span>    query: task decomposition</span></span>\n<span class=\"line\"><span>================================= Tool Message =================================</span></span>\n<span class=\"line\"><span>Name: retrieve_context</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>Source: {'source': 'https://lilianweng.github.io/posts/2023-06-23-agent/'}</span></span>\n<span class=\"line\"><span>Content: Task decomposition can be done by...</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>Source: {'source': 'https://lilianweng.github.io/posts/2023-06-23-agent/'}</span></span>\n<span class=\"line\"><span>Content: Component One: Planning...</span></span>\n<span class=\"line\"><span>================================== Ai Message ==================================</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>Task decomposition refers to...</span></span>\n<span class=\"line\"><span></span></span></code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><span data-as=\"p\">Check out the <a class=\"link\" href=\"https://smith.langchain.com/public/a117a1f8-c96c-4c16-a285-00b85646118e/r\" rel=\"noreferrer\" target=\"_blank\">LangSmith trace</a>.</span></div></details>\n<h2 class=\"flex whitespace-pre-wrap group font-semibold\" id=\"setup\"><div class=\"absolute\" tabindex=\"-1\"><a aria-label=\"Navigate to header\" class=\"-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100 focus:opacity-100 focus:outline-0 group/link\" href=\"https://python.langchain.com/docs/tutorials/rag/#setup\" target=\"_blank\">​<div class=\"w-6 h-6 rounded-md flex items-center justify-center shadow-sm text-gray-400 dark:text-white/50 dark:bg-background-dark dark:brightness-[1.35] dark:ring-1 dark:hover:brightness-150 bg-white ring-1 ring-gray-400/30 dark:ring-gray-700/25 hover:ring-gray-400/60 dark:hover:ring-white/20 group-focus/link:border-2 group-focus/link:border-primary dark:group-focus/link:border-primary-light\"><svg fill=\"gray\" height=\"12px\" viewbox=\"0 0 576 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 256C0 167.6 71.6 96 160 96h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C98.1 144 48 194.1 48 256s50.1 112 112 112h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C71.6 416 0 344.4 0 256zm576 0c0 88.4-71.6 160-160 160H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c61.9 0 112-50.1 112-112s-50.1-112-112-112H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c88.4 0 160 71.6 160 160zM184 232H392c13.3 0 24 10.7 24 24s-10.7 24-24 24H184c-13.3 0-24-10.7-24-24s10.7-24 24-24z\"></path></svg></div></a></div><span class=\"cursor-pointer\">Setup</span></h2>\n<h3 class=\"flex whitespace-pre-wrap group font-semibold\" id=\"installation\"><div class=\"absolute\" tabindex=\"-1\"><a aria-label=\"Navigate to header\" class=\"-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100 focus:opacity-100 focus:outline-0 group/link\" href=\"https://python.langchain.com/docs/tutorials/rag/#installation\" target=\"_blank\">​<div class=\"w-6 h-6 rounded-md flex items-center justify-center shadow-sm text-gray-400 dark:text-white/50 dark:bg-background-dark dark:brightness-[1.35] dark:ring-1 dark:hover:brightness-150 bg-white ring-1 ring-gray-400/30 dark:ring-gray-700/25 hover:ring-gray-400/60 dark:hover:ring-white/20 group-focus/link:border-2 group-focus/link:border-primary dark:group-focus/link:border-primary-light\"><svg fill=\"gray\" height=\"12px\" viewbox=\"0 0 576 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 256C0 167.6 71.6 96 160 96h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C98.1 144 48 194.1 48 256s50.1 112 112 112h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C71.6 416 0 344.4 0 256zm576 0c0 88.4-71.6 160-160 160H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c61.9 0 112-50.1 112-112s-50.1-112-112-112H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c88.4 0 160 71.6 160 160zM184 232H392c13.3 0 24 10.7 24 24s-10.7 24-24 24H184c-13.3 0-24-10.7-24-24s10.7-24 24-24z\"></path></svg></div></a></div><span class=\"cursor-pointer\">Installation</span></h3>\n<span data-as=\"p\">This tutorial requires these langchain dependencies:</span>\n<div class=\"code-group p-0.5 mt-5 mb-8 flex flex-col not-prose relative overflow-hidden rounded-2xl border border-gray-950/10 dark:border-white/10 bg-gray-50 dark:bg-white/5 dark:codeblock-dark text-gray-950 dark:text-gray-50 codeblock-light\" data-orientation=\"horizontal\" dir=\"ltr\"><div class=\"flex items-center justify-between gap-2 relative pr-2.5 *:first:*:ml-2.5\" data-component-part=\"code-group-tab-bar\"><div aria-orientation=\"horizontal\" class=\"flex-1 w-0 text-xs leading-6 rounded-tl-xl gap-1 flex overflow-x-auto overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-orientation=\"horizontal\" role=\"tablist\" style=\"outline:none\" tabindex=\"-1\"><button aria-controls=\"radix-_R_22qcuav5tl9t5qbsnpfdb_-content-0\" aria-selected=\"true\" class=\"group flex items-center relative gap-1.5 my-1 mb-1.5 outline-0 whitespace-nowrap font-medium !ml-0 first:!ml-2.5 focus:outline-2 text-primary dark:text-primary-light\" data-orientation=\"horizontal\" data-radix-collection-item=\"\" data-state=\"active\" id=\"radix-_R_22qcuav5tl9t5qbsnpfdb_-trigger-0\" role=\"tab\" tabindex=\"-1\" type=\"button\"><div class=\"flex items-center gap-1.5 px-1.5 rounded-lg z-10 group-hover:bg-gray-200/50 dark:group-hover:bg-gray-700/70 group-hover:text-primary dark:group-hover:text-primary-light\">pip</div><div class=\"absolute -bottom-1.5 left-0 right-0 h-0.5 rounded-full bg-primary dark:bg-primary-light\"></div></button><button aria-controls=\"radix-_R_22qcuav5tl9t5qbsnpfdb_-content-1\" aria-selected=\"false\" class=\"group flex items-center relative gap-1.5 my-1 mb-1.5 outline-0 whitespace-nowrap font-medium !ml-0 first:!ml-2.5 focus:outline-2 text-gray-500 dark:text-gray-400\" data-orientation=\"horizontal\" data-radix-collection-item=\"\" data-state=\"inactive\" id=\"radix-_R_22qcuav5tl9t5qbsnpfdb_-trigger-1\" role=\"tab\" tabindex=\"-1\" type=\"button\"><div class=\"flex items-center gap-1.5 px-1.5 rounded-lg z-10 group-hover:bg-gray-200/50 dark:group-hover:bg-gray-700/70 group-hover:text-primary dark:group-hover:text-primary-light\">uv</div></button></div><div class=\"flex items-center justify-end shrink-0 gap-1.5\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div></div><div class=\"flex flex-1 overflow-hidden\"><div aria-labelledby=\"radix-_R_22qcuav5tl9t5qbsnpfdb_-trigger-0\" class=\"w-full min-w-full max-w-full h-full max-h-full relative\" data-orientation=\"horizontal\" data-state=\"active\" id=\"radix-_R_22qcuav5tl9t5qbsnpfdb_-content-0\" role=\"tabpanel\" style=\"animation-duration:0s\" tabindex=\"-1\"><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-xt bg-white overflow-auto overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:100%;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre flex-none text-sm h-full leading-6\" data-component-part=\"code-group-tab-content\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"shellscript\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"shellscript\" numberoflines=\"1\"><span class=\"line\"><span style=\"color:#953800;--shiki-dark:#DCDCAA\">pip</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> install</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> langchain</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> langchain-text-splitters</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> langchain-community</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> bs4</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div aria-labelledby=\"radix-_R_22qcuav5tl9t5qbsnpfdb_-trigger-1\" class=\"w-full min-w-full max-w-full h-full max-h-full relative\" data-orientation=\"horizontal\" data-state=\"inactive\" hidden=\"\" id=\"radix-_R_22qcuav5tl9t5qbsnpfdb_-content-1\" role=\"tabpanel\" tabindex=\"-1\"></div></div></div>\n<span data-as=\"p\">For more details, see our <a class=\"link\" href=\"https://python.langchain.com/oss/python/langchain/install\" target=\"_blank\">Installation guide</a>.</span>\n<h3 class=\"flex whitespace-pre-wrap group font-semibold\" id=\"langsmith\"><div class=\"absolute\" tabindex=\"-1\"><a aria-label=\"Navigate to header\" class=\"-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100 focus:opacity-100 focus:outline-0 group/link\" href=\"https://python.langchain.com/docs/tutorials/rag/#langsmith\" target=\"_blank\">​<div class=\"w-6 h-6 rounded-md flex items-center justify-center shadow-sm text-gray-400 dark:text-white/50 dark:bg-background-dark dark:brightness-[1.35] dark:ring-1 dark:hover:brightness-150 bg-white ring-1 ring-gray-400/30 dark:ring-gray-700/25 hover:ring-gray-400/60 dark:hover:ring-white/20 group-focus/link:border-2 group-focus/link:border-primary dark:group-focus/link:border-primary-light\"><svg fill=\"gray\" height=\"12px\" viewbox=\"0 0 576 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 256C0 167.6 71.6 96 160 96h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C98.1 144 48 194.1 48 256s50.1 112 112 112h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C71.6 416 0 344.4 0 256zm576 0c0 88.4-71.6 160-160 160H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c61.9 0 112-50.1 112-112s-50.1-112-112-112H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c88.4 0 160 71.6 160 160zM184 232H392c13.3 0 24 10.7 24 24s-10.7 24-24 24H184c-13.3 0-24-10.7-24-24s10.7-24 24-24z\"></path></svg></div></a></div><span class=\"cursor-pointer\">LangSmith</span></h3>\n<span data-as=\"p\">Many of the applications you build with LangChain will contain multiple steps with multiple invocations of LLM calls. As these applications get more complex, it becomes crucial to be able to inspect what exactly is going on inside your chain or agent. The best way to do this is with <a class=\"link\" href=\"https://smith.langchain.com\" rel=\"noreferrer\" target=\"_blank\">LangSmith</a>.</span>\n<span data-as=\"p\">After you sign up at the link above, make sure to set your environment variables to start logging traces:</span>\n<div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"shellscript\" numberoflines=\"2\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"shellscript\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"shellscript\" numberoflines=\"2\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#569CD6\">export</span><span style=\"color:#1F2328;--shiki-dark:#9CDCFE\"> LANGSMITH_TRACING</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"true\"</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#569CD6\">export</span><span style=\"color:#1F2328;--shiki-dark:#9CDCFE\"> LANGSMITH_API_KEY</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"...\"</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div>\n<span data-as=\"p\">Or, set them in Python:</span>\n<div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"5\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"5\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> getpass</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> os</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">os.environ[</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"LANGSMITH_TRACING\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">] </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> \"true\"</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">os.environ[</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"LANGSMITH_API_KEY\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">] </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> getpass.getpass()</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div>\n<h3 class=\"flex whitespace-pre-wrap group font-semibold\" id=\"components\"><div class=\"absolute\" tabindex=\"-1\"><a aria-label=\"Navigate to header\" class=\"-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100 focus:opacity-100 focus:outline-0 group/link\" href=\"https://python.langchain.com/docs/tutorials/rag/#components\" target=\"_blank\">​<div class=\"w-6 h-6 rounded-md flex items-center justify-center shadow-sm text-gray-400 dark:text-white/50 dark:bg-background-dark dark:brightness-[1.35] dark:ring-1 dark:hover:brightness-150 bg-white ring-1 ring-gray-400/30 dark:ring-gray-700/25 hover:ring-gray-400/60 dark:hover:ring-white/20 group-focus/link:border-2 group-focus/link:border-primary dark:group-focus/link:border-primary-light\"><svg fill=\"gray\" height=\"12px\" viewbox=\"0 0 576 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 256C0 167.6 71.6 96 160 96h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C98.1 144 48 194.1 48 256s50.1 112 112 112h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C71.6 416 0 344.4 0 256zm576 0c0 88.4-71.6 160-160 160H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c61.9 0 112-50.1 112-112s-50.1-112-112-112H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c88.4 0 160 71.6 160 160zM184 232H392c13.3 0 24 10.7 24 24s-10.7 24-24 24H184c-13.3 0-24-10.7-24-24s10.7-24 24-24z\"></path></svg></div></a></div><span class=\"cursor-pointer\">Components</span></h3>\n<span data-as=\"p\">We will need to select three components from LangChain’s suite of integrations.</span>\n<span data-as=\"p\">Select a chat model:</span>\n<div class=\"tabs tabs tab-container\" id=\"openai\"><ul class=\"not-prose mb-6 pb-[1px] flex-none min-w-full overflow-auto border-b border-gray-200 gap-x-6 flex dark:border-gray-200/10\" data-component-part=\"tabs-list\" role=\"tablist\"><li aria-controls=\"panel-openai-0\" aria-selected=\"true\" class=\"cursor-pointer\" id=\"openai\" role=\"tab\" tabindex=\"0\"><div class=\"flex text-sm items-center gap-1.5 leading-6 font-semibold whitespace-nowrap pt-3 pb-2.5 -mb-px max-w-max border-b text-primary dark:text-primary-light border-current\" data-active=\"true\" data-component-part=\"tab-button\" data-testid=\"tab-OpenAI\"> <!-- -->OpenAI</div></li><li aria-controls=\"panel-anthropic-1\" aria-selected=\"false\" class=\"cursor-pointer\" id=\"anthropic\" role=\"tab\" tabindex=\"-1\"><div class=\"flex text-sm items-center gap-1.5 leading-6 font-semibold whitespace-nowrap pt-3 pb-2.5 -mb-px max-w-max border-b text-gray-900 border-transparent hover:border-gray-300 dark:text-gray-200 dark:hover:border-gray-700\" data-active=\"false\" data-component-part=\"tab-button\" data-testid=\"tab-Anthropic\"> <!-- -->Anthropic</div></li><li aria-controls=\"panel-azure-2\" aria-selected=\"false\" class=\"cursor-pointer\" id=\"azure\" role=\"tab\" tabindex=\"-1\"><div class=\"flex text-sm items-center gap-1.5 leading-6 font-semibold whitespace-nowrap pt-3 pb-2.5 -mb-px max-w-max border-b text-gray-900 border-transparent hover:border-gray-300 dark:text-gray-200 dark:hover:border-gray-700\" data-active=\"false\" data-component-part=\"tab-button\" data-testid=\"tab-Azure\"> <!-- -->Azure</div></li><li aria-controls=\"panel-google-gemini-3\" aria-selected=\"false\" class=\"cursor-pointer\" id=\"google-gemini\" role=\"tab\" tabindex=\"-1\"><div class=\"flex text-sm items-center gap-1.5 leading-6 font-semibold whitespace-nowrap pt-3 pb-2.5 -mb-px max-w-max border-b text-gray-900 border-transparent hover:border-gray-300 dark:text-gray-200 dark:hover:border-gray-700\" data-active=\"false\" data-component-part=\"tab-button\" data-testid=\"tab-Google Gemini\"> <!-- -->Google Gemini</div></li><li aria-controls=\"panel-aws-bedrock-4\" aria-selected=\"false\" class=\"cursor-pointer\" id=\"aws-bedrock\" role=\"tab\" tabindex=\"-1\"><div class=\"flex text-sm items-center gap-1.5 leading-6 font-semibold whitespace-nowrap pt-3 pb-2.5 -mb-px max-w-max border-b text-gray-900 border-transparent hover:border-gray-300 dark:text-gray-200 dark:hover:border-gray-700\" data-active=\"false\" data-component-part=\"tab-button\" data-testid=\"tab-AWS Bedrock\"> <!-- -->AWS Bedrock</div></li><li aria-controls=\"panel-huggingface-5\" aria-selected=\"false\" class=\"cursor-pointer\" id=\"huggingface\" role=\"tab\" tabindex=\"-1\"><div class=\"flex text-sm items-center gap-1.5 leading-6 font-semibold whitespace-nowrap pt-3 pb-2.5 -mb-px max-w-max border-b text-gray-900 border-transparent hover:border-gray-300 dark:text-gray-200 dark:hover:border-gray-700\" data-active=\"false\" data-component-part=\"tab-button\" data-testid=\"tab-HuggingFace\"> <!-- -->HuggingFace</div></li></ul><div><div aria-labelledby=\"openai\" class='prose dark:prose-dark overflow-x-auto [&amp;_[data-table-wrapper]]:![--page-padding:0px] [&amp;_[role=\"listitem\"]]:pl-4' data-component-part=\"tab-content\" id=\"panel-openai-0\" role=\"tabpanel\"><span data-as=\"p\">👉 Read the <a class=\"link\" href=\"https://python.langchain.com/oss/python/integrations/chat/openai\" target=\"_blank\">OpenAI chat model integration docs</a></span><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"shellscript\" numberoflines=\"1\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"shellscript\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"shellscript\" numberoflines=\"1\"><span class=\"line\"><span style=\"color:#953800;--shiki-dark:#DCDCAA\">pip</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> install</span><span style=\"color:#0550AE;--shiki-dark:#569CD6\"> -U</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> \"langchain[openai]\"</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div class=\"code-group p-0.5 mt-5 mb-8 flex flex-col not-prose relative overflow-hidden rounded-2xl border border-gray-950/10 dark:border-white/10 bg-gray-50 dark:bg-white/5 dark:codeblock-dark text-gray-950 dark:text-gray-50 codeblock-light\" data-orientation=\"horizontal\" dir=\"ltr\"><div class=\"flex items-center justify-between gap-2 relative pr-2.5 *:first:*:ml-2.5\" data-component-part=\"code-group-tab-bar\"><div aria-orientation=\"horizontal\" class=\"flex-1 w-0 text-xs leading-6 rounded-tl-xl gap-1 flex overflow-x-auto overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-orientation=\"horizontal\" role=\"tablist\" style=\"outline:none\" tabindex=\"-1\"><button aria-controls=\"radix-_R_1j3eqcuav5tl9t5qbsnpfdb_-content-0\" aria-selected=\"true\" class=\"group flex items-center relative gap-1.5 my-1 mb-1.5 outline-0 whitespace-nowrap font-medium !ml-0 first:!ml-2.5 focus:outline-2 text-primary dark:text-primary-light\" data-orientation=\"horizontal\" data-radix-collection-item=\"\" data-state=\"active\" id=\"radix-_R_1j3eqcuav5tl9t5qbsnpfdb_-trigger-0\" role=\"tab\" tabindex=\"-1\" type=\"button\"><div class=\"flex items-center gap-1.5 px-1.5 rounded-lg z-10 group-hover:bg-gray-200/50 dark:group-hover:bg-gray-700/70 group-hover:text-primary dark:group-hover:text-primary-light\">init_chat_model</div><div class=\"absolute -bottom-1.5 left-0 right-0 h-0.5 rounded-full bg-primary dark:bg-primary-light\"></div></button><button aria-controls=\"radix-_R_1j3eqcuav5tl9t5qbsnpfdb_-content-1\" aria-selected=\"false\" class=\"group flex items-center relative gap-1.5 my-1 mb-1.5 outline-0 whitespace-nowrap font-medium !ml-0 first:!ml-2.5 focus:outline-2 text-gray-500 dark:text-gray-400\" data-orientation=\"horizontal\" data-radix-collection-item=\"\" data-state=\"inactive\" id=\"radix-_R_1j3eqcuav5tl9t5qbsnpfdb_-trigger-1\" role=\"tab\" tabindex=\"-1\" type=\"button\"><div class=\"flex items-center gap-1.5 px-1.5 rounded-lg z-10 group-hover:bg-gray-200/50 dark:group-hover:bg-gray-700/70 group-hover:text-primary dark:group-hover:text-primary-light\">Model Class</div></button></div><div class=\"flex items-center justify-end shrink-0 gap-1.5\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div></div><div class=\"flex flex-1 overflow-hidden\"><div aria-labelledby=\"radix-_R_1j3eqcuav5tl9t5qbsnpfdb_-trigger-0\" class=\"w-full min-w-full max-w-full h-full max-h-full relative\" data-orientation=\"horizontal\" data-state=\"active\" id=\"radix-_R_1j3eqcuav5tl9t5qbsnpfdb_-content-0\" role=\"tabpanel\" style=\"animation-duration:0s\" tabindex=\"-1\"><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-xt bg-white overflow-auto overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:100%;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre flex-none text-sm h-full leading-6\" data-component-part=\"code-group-tab-content\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"6\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> os</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain.chat_models </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> init_chat_model</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">os.environ[</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"OPENAI_API_KEY\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">] </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> \"sk-...\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">model </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> init_chat_model(</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"gpt-4.1\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div aria-labelledby=\"radix-_R_1j3eqcuav5tl9t5qbsnpfdb_-trigger-1\" class=\"w-full min-w-full max-w-full h-full max-h-full relative\" data-orientation=\"horizontal\" data-state=\"inactive\" hidden=\"\" id=\"radix-_R_1j3eqcuav5tl9t5qbsnpfdb_-content-1\" role=\"tabpanel\" tabindex=\"-1\"></div></div></div></div><div aria-labelledby=\"anthropic\" class='prose dark:prose-dark overflow-x-auto [&amp;_[data-table-wrapper]]:![--page-padding:0px] [&amp;_[role=\"listitem\"]]:pl-4 hidden' data-component-part=\"tab-content\" id=\"panel-anthropic-1\" role=\"tabpanel\"><span data-as=\"p\">👉 Read the <a class=\"link\" href=\"https://python.langchain.com/oss/python/integrations/chat/anthropic\" target=\"_blank\">Anthropic chat model integration docs</a></span><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"shellscript\" numberoflines=\"1\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"shellscript\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"shellscript\" numberoflines=\"1\"><span class=\"line\"><span style=\"color:#953800;--shiki-dark:#DCDCAA\">pip</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> install</span><span style=\"color:#0550AE;--shiki-dark:#569CD6\"> -U</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> \"langchain[anthropic]\"</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div class=\"code-group p-0.5 mt-5 mb-8 flex flex-col not-prose relative overflow-hidden rounded-2xl border border-gray-950/10 dark:border-white/10 bg-gray-50 dark:bg-white/5 dark:codeblock-dark text-gray-950 dark:text-gray-50 codeblock-light\" data-orientation=\"horizontal\" dir=\"ltr\"><div class=\"flex items-center justify-between gap-2 relative pr-2.5 *:first:*:ml-2.5\" data-component-part=\"code-group-tab-bar\"><div aria-orientation=\"horizontal\" class=\"flex-1 w-0 text-xs leading-6 rounded-tl-xl gap-1 flex overflow-x-auto overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-orientation=\"horizontal\" role=\"tablist\" style=\"outline:none\" tabindex=\"-1\"><button aria-controls=\"radix-_R_1l3eqcuav5tl9t5qbsnpfdb_-content-0\" aria-selected=\"true\" class=\"group flex items-center relative gap-1.5 my-1 mb-1.5 outline-0 whitespace-nowrap font-medium !ml-0 first:!ml-2.5 focus:outline-2 text-primary dark:text-primary-light\" data-orientation=\"horizontal\" data-radix-collection-item=\"\" data-state=\"active\" id=\"radix-_R_1l3eqcuav5tl9t5qbsnpfdb_-trigger-0\" role=\"tab\" tabindex=\"-1\" type=\"button\"><div class=\"flex items-center gap-1.5 px-1.5 rounded-lg z-10 group-hover:bg-gray-200/50 dark:group-hover:bg-gray-700/70 group-hover:text-primary dark:group-hover:text-primary-light\">init_chat_model</div><div class=\"absolute -bottom-1.5 left-0 right-0 h-0.5 rounded-full bg-primary dark:bg-primary-light\"></div></button><button aria-controls=\"radix-_R_1l3eqcuav5tl9t5qbsnpfdb_-content-1\" aria-selected=\"false\" class=\"group flex items-center relative gap-1.5 my-1 mb-1.5 outline-0 whitespace-nowrap font-medium !ml-0 first:!ml-2.5 focus:outline-2 text-gray-500 dark:text-gray-400\" data-orientation=\"horizontal\" data-radix-collection-item=\"\" data-state=\"inactive\" id=\"radix-_R_1l3eqcuav5tl9t5qbsnpfdb_-trigger-1\" role=\"tab\" tabindex=\"-1\" type=\"button\"><div class=\"flex items-center gap-1.5 px-1.5 rounded-lg z-10 group-hover:bg-gray-200/50 dark:group-hover:bg-gray-700/70 group-hover:text-primary dark:group-hover:text-primary-light\">Model Class</div></button></div><div class=\"flex items-center justify-end shrink-0 gap-1.5\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div></div><div class=\"flex flex-1 overflow-hidden\"><div aria-labelledby=\"radix-_R_1l3eqcuav5tl9t5qbsnpfdb_-trigger-0\" class=\"w-full min-w-full max-w-full h-full max-h-full relative\" data-orientation=\"horizontal\" data-state=\"active\" id=\"radix-_R_1l3eqcuav5tl9t5qbsnpfdb_-content-0\" role=\"tabpanel\" style=\"animation-duration:0s\" tabindex=\"-1\"><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-xt bg-white overflow-auto overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:100%;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre flex-none text-sm h-full leading-6\" data-component-part=\"code-group-tab-content\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"6\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> os</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain.chat_models </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> init_chat_model</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">os.environ[</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"ANTHROPIC_API_KEY\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">] </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> \"sk-...\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">model </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> init_chat_model(</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"claude-sonnet-4-5-20250929\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div aria-labelledby=\"radix-_R_1l3eqcuav5tl9t5qbsnpfdb_-trigger-1\" class=\"w-full min-w-full max-w-full h-full max-h-full relative\" data-orientation=\"horizontal\" data-state=\"inactive\" hidden=\"\" id=\"radix-_R_1l3eqcuav5tl9t5qbsnpfdb_-content-1\" role=\"tabpanel\" tabindex=\"-1\"></div></div></div></div><div aria-labelledby=\"azure\" class='prose dark:prose-dark overflow-x-auto [&amp;_[data-table-wrapper]]:![--page-padding:0px] [&amp;_[role=\"listitem\"]]:pl-4 hidden' data-component-part=\"tab-content\" id=\"panel-azure-2\" role=\"tabpanel\"><span data-as=\"p\">👉 Read the <a class=\"link\" href=\"https://python.langchain.com/oss/python/integrations/chat/azure_chat_openai\" target=\"_blank\">Azure chat model integration docs</a></span><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"shellscript\" numberoflines=\"1\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"shellscript\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"shellscript\" numberoflines=\"1\"><span class=\"line\"><span style=\"color:#953800;--shiki-dark:#DCDCAA\">pip</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> install</span><span style=\"color:#0550AE;--shiki-dark:#569CD6\"> -U</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> \"langchain[openai]\"</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div class=\"code-group p-0.5 mt-5 mb-8 flex flex-col not-prose relative overflow-hidden rounded-2xl border border-gray-950/10 dark:border-white/10 bg-gray-50 dark:bg-white/5 dark:codeblock-dark text-gray-950 dark:text-gray-50 codeblock-light\" data-orientation=\"horizontal\" dir=\"ltr\"><div class=\"flex items-center justify-between gap-2 relative pr-2.5 *:first:*:ml-2.5\" data-component-part=\"code-group-tab-bar\"><div aria-orientation=\"horizontal\" class=\"flex-1 w-0 text-xs leading-6 rounded-tl-xl gap-1 flex overflow-x-auto overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-orientation=\"horizontal\" role=\"tablist\" style=\"outline:none\" tabindex=\"-1\"><button aria-controls=\"radix-_R_1n3eqcuav5tl9t5qbsnpfdb_-content-0\" aria-selected=\"true\" class=\"group flex items-center relative gap-1.5 my-1 mb-1.5 outline-0 whitespace-nowrap font-medium !ml-0 first:!ml-2.5 focus:outline-2 text-primary dark:text-primary-light\" data-orientation=\"horizontal\" data-radix-collection-item=\"\" data-state=\"active\" id=\"radix-_R_1n3eqcuav5tl9t5qbsnpfdb_-trigger-0\" role=\"tab\" tabindex=\"-1\" type=\"button\"><div class=\"flex items-center gap-1.5 px-1.5 rounded-lg z-10 group-hover:bg-gray-200/50 dark:group-hover:bg-gray-700/70 group-hover:text-primary dark:group-hover:text-primary-light\">init_chat_model</div><div class=\"absolute -bottom-1.5 left-0 right-0 h-0.5 rounded-full bg-primary dark:bg-primary-light\"></div></button><button aria-controls=\"radix-_R_1n3eqcuav5tl9t5qbsnpfdb_-content-1\" aria-selected=\"false\" class=\"group flex items-center relative gap-1.5 my-1 mb-1.5 outline-0 whitespace-nowrap font-medium !ml-0 first:!ml-2.5 focus:outline-2 text-gray-500 dark:text-gray-400\" data-orientation=\"horizontal\" data-radix-collection-item=\"\" data-state=\"inactive\" id=\"radix-_R_1n3eqcuav5tl9t5qbsnpfdb_-trigger-1\" role=\"tab\" tabindex=\"-1\" type=\"button\"><div class=\"flex items-center gap-1.5 px-1.5 rounded-lg z-10 group-hover:bg-gray-200/50 dark:group-hover:bg-gray-700/70 group-hover:text-primary dark:group-hover:text-primary-light\">Model Class</div></button></div><div class=\"flex items-center justify-end shrink-0 gap-1.5\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div></div><div class=\"flex flex-1 overflow-hidden\"><div aria-labelledby=\"radix-_R_1n3eqcuav5tl9t5qbsnpfdb_-trigger-0\" class=\"w-full min-w-full max-w-full h-full max-h-full relative\" data-orientation=\"horizontal\" data-state=\"active\" id=\"radix-_R_1n3eqcuav5tl9t5qbsnpfdb_-content-0\" role=\"tabpanel\" style=\"animation-duration:0s\" tabindex=\"-1\"><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-xt bg-white overflow-auto overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:100%;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre flex-none text-sm h-full leading-6\" data-component-part=\"code-group-tab-content\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"11\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> os</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain.chat_models </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> init_chat_model</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">os.environ[</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"AZURE_OPENAI_API_KEY\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">] </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> \"...\"</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">os.environ[</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"AZURE_OPENAI_ENDPOINT\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">] </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> \"...\"</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">os.environ[</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"OPENAI_API_VERSION\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">] </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> \"2025-03-01-preview\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">model </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> init_chat_model(</span></span>\n<span class=\"line\"><span style=\"color:#0A3069;--shiki-dark:#CE9178\">    \"azure_openai:gpt-4.1\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">,</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    azure_deployment</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">os.environ[</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"AZURE_OPENAI_DEPLOYMENT_NAME\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">],</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div aria-labelledby=\"radix-_R_1n3eqcuav5tl9t5qbsnpfdb_-trigger-1\" class=\"w-full min-w-full max-w-full h-full max-h-full relative\" data-orientation=\"horizontal\" data-state=\"inactive\" hidden=\"\" id=\"radix-_R_1n3eqcuav5tl9t5qbsnpfdb_-content-1\" role=\"tabpanel\" tabindex=\"-1\"></div></div></div></div><div aria-labelledby=\"google-gemini\" class='prose dark:prose-dark overflow-x-auto [&amp;_[data-table-wrapper]]:![--page-padding:0px] [&amp;_[role=\"listitem\"]]:pl-4 hidden' data-component-part=\"tab-content\" id=\"panel-google-gemini-3\" role=\"tabpanel\"><span data-as=\"p\">👉 Read the <a class=\"link\" href=\"https://python.langchain.com/oss/python/integrations/chat/google_generative_ai\" target=\"_blank\">Google GenAI chat model integration docs</a></span><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"shellscript\" numberoflines=\"1\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"shellscript\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"shellscript\" numberoflines=\"1\"><span class=\"line\"><span style=\"color:#953800;--shiki-dark:#DCDCAA\">pip</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> install</span><span style=\"color:#0550AE;--shiki-dark:#569CD6\"> -U</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> \"langchain[google-genai]\"</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div class=\"code-group p-0.5 mt-5 mb-8 flex flex-col not-prose relative overflow-hidden rounded-2xl border border-gray-950/10 dark:border-white/10 bg-gray-50 dark:bg-white/5 dark:codeblock-dark text-gray-950 dark:text-gray-50 codeblock-light\" data-orientation=\"horizontal\" dir=\"ltr\"><div class=\"flex items-center justify-between gap-2 relative pr-2.5 *:first:*:ml-2.5\" data-component-part=\"code-group-tab-bar\"><div aria-orientation=\"horizontal\" class=\"flex-1 w-0 text-xs leading-6 rounded-tl-xl gap-1 flex overflow-x-auto overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-orientation=\"horizontal\" role=\"tablist\" style=\"outline:none\" tabindex=\"-1\"><button aria-controls=\"radix-_R_1p3eqcuav5tl9t5qbsnpfdb_-content-0\" aria-selected=\"true\" class=\"group flex items-center relative gap-1.5 my-1 mb-1.5 outline-0 whitespace-nowrap font-medium !ml-0 first:!ml-2.5 focus:outline-2 text-primary dark:text-primary-light\" data-orientation=\"horizontal\" data-radix-collection-item=\"\" data-state=\"active\" id=\"radix-_R_1p3eqcuav5tl9t5qbsnpfdb_-trigger-0\" role=\"tab\" tabindex=\"-1\" type=\"button\"><div class=\"flex items-center gap-1.5 px-1.5 rounded-lg z-10 group-hover:bg-gray-200/50 dark:group-hover:bg-gray-700/70 group-hover:text-primary dark:group-hover:text-primary-light\">init_chat_model</div><div class=\"absolute -bottom-1.5 left-0 right-0 h-0.5 rounded-full bg-primary dark:bg-primary-light\"></div></button><button aria-controls=\"radix-_R_1p3eqcuav5tl9t5qbsnpfdb_-content-1\" aria-selected=\"false\" class=\"group flex items-center relative gap-1.5 my-1 mb-1.5 outline-0 whitespace-nowrap font-medium !ml-0 first:!ml-2.5 focus:outline-2 text-gray-500 dark:text-gray-400\" data-orientation=\"horizontal\" data-radix-collection-item=\"\" data-state=\"inactive\" id=\"radix-_R_1p3eqcuav5tl9t5qbsnpfdb_-trigger-1\" role=\"tab\" tabindex=\"-1\" type=\"button\"><div class=\"flex items-center gap-1.5 px-1.5 rounded-lg z-10 group-hover:bg-gray-200/50 dark:group-hover:bg-gray-700/70 group-hover:text-primary dark:group-hover:text-primary-light\">Model Class</div></button></div><div class=\"flex items-center justify-end shrink-0 gap-1.5\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div></div><div class=\"flex flex-1 overflow-hidden\"><div aria-labelledby=\"radix-_R_1p3eqcuav5tl9t5qbsnpfdb_-trigger-0\" class=\"w-full min-w-full max-w-full h-full max-h-full relative\" data-orientation=\"horizontal\" data-state=\"active\" id=\"radix-_R_1p3eqcuav5tl9t5qbsnpfdb_-content-0\" role=\"tabpanel\" style=\"animation-duration:0s\" tabindex=\"-1\"><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-xt bg-white overflow-auto overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:100%;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre flex-none text-sm h-full leading-6\" data-component-part=\"code-group-tab-content\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"6\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> os</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain.chat_models </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> init_chat_model</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">os.environ[</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"GOOGLE_API_KEY\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">] </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> \"...\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">model </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> init_chat_model(</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"google_genai:gemini-2.5-flash-lite\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div aria-labelledby=\"radix-_R_1p3eqcuav5tl9t5qbsnpfdb_-trigger-1\" class=\"w-full min-w-full max-w-full h-full max-h-full relative\" data-orientation=\"horizontal\" data-state=\"inactive\" hidden=\"\" id=\"radix-_R_1p3eqcuav5tl9t5qbsnpfdb_-content-1\" role=\"tabpanel\" tabindex=\"-1\"></div></div></div></div><div aria-labelledby=\"aws-bedrock\" class='prose dark:prose-dark overflow-x-auto [&amp;_[data-table-wrapper]]:![--page-padding:0px] [&amp;_[role=\"listitem\"]]:pl-4 hidden' data-component-part=\"tab-content\" id=\"panel-aws-bedrock-4\" role=\"tabpanel\"><span data-as=\"p\">👉 Read the <a class=\"link\" href=\"https://python.langchain.com/oss/python/integrations/chat/bedrock\" target=\"_blank\">AWS Bedrock chat model integration docs</a></span><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"shellscript\" numberoflines=\"1\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"shellscript\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"shellscript\" numberoflines=\"1\"><span class=\"line\"><span style=\"color:#953800;--shiki-dark:#DCDCAA\">pip</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> install</span><span style=\"color:#0550AE;--shiki-dark:#569CD6\"> -U</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> \"langchain[aws]\"</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div class=\"code-group p-0.5 mt-5 mb-8 flex flex-col not-prose relative overflow-hidden rounded-2xl border border-gray-950/10 dark:border-white/10 bg-gray-50 dark:bg-white/5 dark:codeblock-dark text-gray-950 dark:text-gray-50 codeblock-light\" data-orientation=\"horizontal\" dir=\"ltr\"><div class=\"flex items-center justify-between gap-2 relative pr-2.5 *:first:*:ml-2.5\" data-component-part=\"code-group-tab-bar\"><div aria-orientation=\"horizontal\" class=\"flex-1 w-0 text-xs leading-6 rounded-tl-xl gap-1 flex overflow-x-auto overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-orientation=\"horizontal\" role=\"tablist\" style=\"outline:none\" tabindex=\"-1\"><button aria-controls=\"radix-_R_1r3eqcuav5tl9t5qbsnpfdb_-content-0\" aria-selected=\"true\" class=\"group flex items-center relative gap-1.5 my-1 mb-1.5 outline-0 whitespace-nowrap font-medium !ml-0 first:!ml-2.5 focus:outline-2 text-primary dark:text-primary-light\" data-orientation=\"horizontal\" data-radix-collection-item=\"\" data-state=\"active\" id=\"radix-_R_1r3eqcuav5tl9t5qbsnpfdb_-trigger-0\" role=\"tab\" tabindex=\"-1\" type=\"button\"><div class=\"flex items-center gap-1.5 px-1.5 rounded-lg z-10 group-hover:bg-gray-200/50 dark:group-hover:bg-gray-700/70 group-hover:text-primary dark:group-hover:text-primary-light\">init_chat_model</div><div class=\"absolute -bottom-1.5 left-0 right-0 h-0.5 rounded-full bg-primary dark:bg-primary-light\"></div></button><button aria-controls=\"radix-_R_1r3eqcuav5tl9t5qbsnpfdb_-content-1\" aria-selected=\"false\" class=\"group flex items-center relative gap-1.5 my-1 mb-1.5 outline-0 whitespace-nowrap font-medium !ml-0 first:!ml-2.5 focus:outline-2 text-gray-500 dark:text-gray-400\" data-orientation=\"horizontal\" data-radix-collection-item=\"\" data-state=\"inactive\" id=\"radix-_R_1r3eqcuav5tl9t5qbsnpfdb_-trigger-1\" role=\"tab\" tabindex=\"-1\" type=\"button\"><div class=\"flex items-center gap-1.5 px-1.5 rounded-lg z-10 group-hover:bg-gray-200/50 dark:group-hover:bg-gray-700/70 group-hover:text-primary dark:group-hover:text-primary-light\">Model Class</div></button></div><div class=\"flex items-center justify-end shrink-0 gap-1.5\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div></div><div class=\"flex flex-1 overflow-hidden\"><div aria-labelledby=\"radix-_R_1r3eqcuav5tl9t5qbsnpfdb_-trigger-0\" class=\"w-full min-w-full max-w-full h-full max-h-full relative\" data-orientation=\"horizontal\" data-state=\"active\" id=\"radix-_R_1r3eqcuav5tl9t5qbsnpfdb_-content-0\" role=\"tabpanel\" style=\"animation-duration:0s\" tabindex=\"-1\"><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-xt bg-white overflow-auto overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:100%;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre flex-none text-sm h-full leading-6\" data-component-part=\"code-group-tab-content\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"9\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain.chat_models </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> init_chat_model</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6E7781;--shiki-dark:#6A9955\"># Follow the steps here to configure your credentials:</span></span>\n<span class=\"line\"><span style=\"color:#6E7781;--shiki-dark:#6A9955\"># https://docs.aws.amazon.com/bedrock/latest/userguide/getting-started.html</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">model </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> init_chat_model(</span></span>\n<span class=\"line\"><span style=\"color:#0A3069;--shiki-dark:#CE9178\">    \"anthropic.claude-3-5-sonnet-20240620-v1:0\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">,</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    model_provider</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"bedrock_converse\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">,</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div aria-labelledby=\"radix-_R_1r3eqcuav5tl9t5qbsnpfdb_-trigger-1\" class=\"w-full min-w-full max-w-full h-full max-h-full relative\" data-orientation=\"horizontal\" data-state=\"inactive\" hidden=\"\" id=\"radix-_R_1r3eqcuav5tl9t5qbsnpfdb_-content-1\" role=\"tabpanel\" tabindex=\"-1\"></div></div></div></div><div aria-labelledby=\"huggingface\" class='prose dark:prose-dark overflow-x-auto [&amp;_[data-table-wrapper]]:![--page-padding:0px] [&amp;_[role=\"listitem\"]]:pl-4 hidden' data-component-part=\"tab-content\" id=\"panel-huggingface-5\" role=\"tabpanel\"><span data-as=\"p\">👉 Read the <a class=\"link\" href=\"https://python.langchain.com/oss/python/integrations/chat/huggingface\" target=\"_blank\">HuggingFace chat model integration docs</a></span><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"shellscript\" numberoflines=\"1\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"shellscript\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"shellscript\" numberoflines=\"1\"><span class=\"line\"><span style=\"color:#953800;--shiki-dark:#DCDCAA\">pip</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> install</span><span style=\"color:#0550AE;--shiki-dark:#569CD6\"> -U</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> \"langchain[huggingface]\"</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div class=\"code-group p-0.5 mt-5 mb-8 flex flex-col not-prose relative overflow-hidden rounded-2xl border border-gray-950/10 dark:border-white/10 bg-gray-50 dark:bg-white/5 dark:codeblock-dark text-gray-950 dark:text-gray-50 codeblock-light\" data-orientation=\"horizontal\" dir=\"ltr\"><div class=\"flex items-center justify-between gap-2 relative pr-2.5 *:first:*:ml-2.5\" data-component-part=\"code-group-tab-bar\"><div aria-orientation=\"horizontal\" class=\"flex-1 w-0 text-xs leading-6 rounded-tl-xl gap-1 flex overflow-x-auto overflow-y-hidden scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-orientation=\"horizontal\" role=\"tablist\" style=\"outline:none\" tabindex=\"-1\"><button aria-controls=\"radix-_R_1t3eqcuav5tl9t5qbsnpfdb_-content-0\" aria-selected=\"true\" class=\"group flex items-center relative gap-1.5 my-1 mb-1.5 outline-0 whitespace-nowrap font-medium !ml-0 first:!ml-2.5 focus:outline-2 text-primary dark:text-primary-light\" data-orientation=\"horizontal\" data-radix-collection-item=\"\" data-state=\"active\" id=\"radix-_R_1t3eqcuav5tl9t5qbsnpfdb_-trigger-0\" role=\"tab\" tabindex=\"-1\" type=\"button\"><div class=\"flex items-center gap-1.5 px-1.5 rounded-lg z-10 group-hover:bg-gray-200/50 dark:group-hover:bg-gray-700/70 group-hover:text-primary dark:group-hover:text-primary-light\">init_chat_model</div><div class=\"absolute -bottom-1.5 left-0 right-0 h-0.5 rounded-full bg-primary dark:bg-primary-light\"></div></button><button aria-controls=\"radix-_R_1t3eqcuav5tl9t5qbsnpfdb_-content-1\" aria-selected=\"false\" class=\"group flex items-center relative gap-1.5 my-1 mb-1.5 outline-0 whitespace-nowrap font-medium !ml-0 first:!ml-2.5 focus:outline-2 text-gray-500 dark:text-gray-400\" data-orientation=\"horizontal\" data-radix-collection-item=\"\" data-state=\"inactive\" id=\"radix-_R_1t3eqcuav5tl9t5qbsnpfdb_-trigger-1\" role=\"tab\" tabindex=\"-1\" type=\"button\"><div class=\"flex items-center gap-1.5 px-1.5 rounded-lg z-10 group-hover:bg-gray-200/50 dark:group-hover:bg-gray-700/70 group-hover:text-primary dark:group-hover:text-primary-light\">Model Class</div></button></div><div class=\"flex items-center justify-end shrink-0 gap-1.5\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div></div><div class=\"flex flex-1 overflow-hidden\"><div aria-labelledby=\"radix-_R_1t3eqcuav5tl9t5qbsnpfdb_-trigger-0\" class=\"w-full min-w-full max-w-full h-full max-h-full relative\" data-orientation=\"horizontal\" data-state=\"active\" id=\"radix-_R_1t3eqcuav5tl9t5qbsnpfdb_-content-0\" role=\"tabpanel\" style=\"animation-duration:0s\" tabindex=\"-1\"><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-xt bg-white overflow-auto overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:100%;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre flex-none text-sm h-full leading-6\" data-component-part=\"code-group-tab-content\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"11\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> os</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain.chat_models </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> init_chat_model</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">os.environ[</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"HUGGINGFACEHUB_API_TOKEN\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">] </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> \"hf_...\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">model </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> init_chat_model(</span></span>\n<span class=\"line\"><span style=\"color:#0A3069;--shiki-dark:#CE9178\">    \"microsoft/Phi-3-mini-4k-instruct\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">,</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    model_provider</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"huggingface\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">,</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    temperature</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0550AE;--shiki-dark:#B5CEA8\">0.7</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">,</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    max_tokens</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0550AE;--shiki-dark:#B5CEA8\">1024</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">,</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div aria-labelledby=\"radix-_R_1t3eqcuav5tl9t5qbsnpfdb_-trigger-1\" class=\"w-full min-w-full max-w-full h-full max-h-full relative\" data-orientation=\"horizontal\" data-state=\"inactive\" hidden=\"\" id=\"radix-_R_1t3eqcuav5tl9t5qbsnpfdb_-content-1\" role=\"tabpanel\" tabindex=\"-1\"></div></div></div></div></div></div>\n<span data-as=\"p\">Select an embeddings model:</span>\n<div class=\"tabs tabs tab-container\" id=\"openai-2\"><ul class=\"not-prose mb-6 pb-[1px] flex-none min-w-full overflow-auto border-b border-gray-200 gap-x-6 flex dark:border-gray-200/10\" data-component-part=\"tabs-list\" role=\"tablist\"><li aria-controls=\"panel-openai-2-0\" aria-selected=\"true\" class=\"cursor-pointer\" id=\"openai-2\" role=\"tab\" tabindex=\"0\"><div class=\"flex text-sm items-center gap-1.5 leading-6 font-semibold whitespace-nowrap pt-3 pb-2.5 -mb-px max-w-max border-b text-primary dark:text-primary-light border-current\" data-active=\"true\" data-component-part=\"tab-button\" data-testid=\"tab-OpenAI\"> <!-- -->OpenAI</div></li><li aria-controls=\"panel-azure-2-1\" aria-selected=\"false\" class=\"cursor-pointer\" id=\"azure-2\" role=\"tab\" tabindex=\"-1\"><div class=\"flex text-sm items-center gap-1.5 leading-6 font-semibold whitespace-nowrap pt-3 pb-2.5 -mb-px max-w-max border-b text-gray-900 border-transparent hover:border-gray-300 dark:text-gray-200 dark:hover:border-gray-700\" data-active=\"false\" data-component-part=\"tab-button\" data-testid=\"tab-Azure\"> <!-- -->Azure</div></li><li aria-controls=\"panel-google-gemini-2-2\" aria-selected=\"false\" class=\"cursor-pointer\" id=\"google-gemini-2\" role=\"tab\" tabindex=\"-1\"><div class=\"flex text-sm items-center gap-1.5 leading-6 font-semibold whitespace-nowrap pt-3 pb-2.5 -mb-px max-w-max border-b text-gray-900 border-transparent hover:border-gray-300 dark:text-gray-200 dark:hover:border-gray-700\" data-active=\"false\" data-component-part=\"tab-button\" data-testid=\"tab-Google Gemini\"> <!-- -->Google Gemini</div></li><li aria-controls=\"panel-google-vertex-3\" aria-selected=\"false\" class=\"cursor-pointer\" id=\"google-vertex\" role=\"tab\" tabindex=\"-1\"><div class=\"flex text-sm items-center gap-1.5 leading-6 font-semibold whitespace-nowrap pt-3 pb-2.5 -mb-px max-w-max border-b text-gray-900 border-transparent hover:border-gray-300 dark:text-gray-200 dark:hover:border-gray-700\" data-active=\"false\" data-component-part=\"tab-button\" data-testid=\"tab-Google Vertex\"> <!-- -->Google Vertex</div></li><li aria-controls=\"panel-aws-4\" aria-selected=\"false\" class=\"cursor-pointer\" id=\"aws\" role=\"tab\" tabindex=\"-1\"><div class=\"flex text-sm items-center gap-1.5 leading-6 font-semibold whitespace-nowrap pt-3 pb-2.5 -mb-px max-w-max border-b text-gray-900 border-transparent hover:border-gray-300 dark:text-gray-200 dark:hover:border-gray-700\" data-active=\"false\" data-component-part=\"tab-button\" data-testid=\"tab-AWS\"> <!-- -->AWS</div></li><li aria-controls=\"panel-huggingface-2-5\" aria-selected=\"false\" class=\"cursor-pointer\" id=\"huggingface-2\" role=\"tab\" tabindex=\"-1\"><div class=\"flex text-sm items-center gap-1.5 leading-6 font-semibold whitespace-nowrap pt-3 pb-2.5 -mb-px max-w-max border-b text-gray-900 border-transparent hover:border-gray-300 dark:text-gray-200 dark:hover:border-gray-700\" data-active=\"false\" data-component-part=\"tab-button\" data-testid=\"tab-HuggingFace\"> <!-- -->HuggingFace</div></li><li aria-controls=\"panel-ollama-6\" aria-selected=\"false\" class=\"cursor-pointer\" id=\"ollama\" role=\"tab\" tabindex=\"-1\"><div class=\"flex text-sm items-center gap-1.5 leading-6 font-semibold whitespace-nowrap pt-3 pb-2.5 -mb-px max-w-max border-b text-gray-900 border-transparent hover:border-gray-300 dark:text-gray-200 dark:hover:border-gray-700\" data-active=\"false\" data-component-part=\"tab-button\" data-testid=\"tab-Ollama\"> <!-- -->Ollama</div></li><li aria-controls=\"panel-cohere-7\" aria-selected=\"false\" class=\"cursor-pointer\" id=\"cohere\" role=\"tab\" tabindex=\"-1\"><div class=\"flex text-sm items-center gap-1.5 leading-6 font-semibold whitespace-nowrap pt-3 pb-2.5 -mb-px max-w-max border-b text-gray-900 border-transparent hover:border-gray-300 dark:text-gray-200 dark:hover:border-gray-700\" data-active=\"false\" data-component-part=\"tab-button\" data-testid=\"tab-Cohere\"> <!-- -->Cohere</div></li><li aria-controls=\"panel-mistralai-8\" aria-selected=\"false\" class=\"cursor-pointer\" id=\"mistralai\" role=\"tab\" tabindex=\"-1\"><div class=\"flex text-sm items-center gap-1.5 leading-6 font-semibold whitespace-nowrap pt-3 pb-2.5 -mb-px max-w-max border-b text-gray-900 border-transparent hover:border-gray-300 dark:text-gray-200 dark:hover:border-gray-700\" data-active=\"false\" data-component-part=\"tab-button\" data-testid=\"tab-MistralAI\"> <!-- -->MistralAI</div></li><li aria-controls=\"panel-nomic-9\" aria-selected=\"false\" class=\"cursor-pointer\" id=\"nomic\" role=\"tab\" tabindex=\"-1\"><div class=\"flex text-sm items-center gap-1.5 leading-6 font-semibold whitespace-nowrap pt-3 pb-2.5 -mb-px max-w-max border-b text-gray-900 border-transparent hover:border-gray-300 dark:text-gray-200 dark:hover:border-gray-700\" data-active=\"false\" data-component-part=\"tab-button\" data-testid=\"tab-Nomic\"> <!-- -->Nomic</div></li><li aria-controls=\"panel-nvidia-10\" aria-selected=\"false\" class=\"cursor-pointer\" id=\"nvidia\" role=\"tab\" tabindex=\"-1\"><div class=\"flex text-sm items-center gap-1.5 leading-6 font-semibold whitespace-nowrap pt-3 pb-2.5 -mb-px max-w-max border-b text-gray-900 border-transparent hover:border-gray-300 dark:text-gray-200 dark:hover:border-gray-700\" data-active=\"false\" data-component-part=\"tab-button\" data-testid=\"tab-NVIDIA\"> <!-- -->NVIDIA</div></li><li aria-controls=\"panel-voyage-ai-11\" aria-selected=\"false\" class=\"cursor-pointer\" id=\"voyage-ai\" role=\"tab\" tabindex=\"-1\"><div class=\"flex text-sm items-center gap-1.5 leading-6 font-semibold whitespace-nowrap pt-3 pb-2.5 -mb-px max-w-max border-b text-gray-900 border-transparent hover:border-gray-300 dark:text-gray-200 dark:hover:border-gray-700\" data-active=\"false\" data-component-part=\"tab-button\" data-testid=\"tab-Voyage AI\"> <!-- -->Voyage AI</div></li><li aria-controls=\"panel-ibm-watsonx-12\" aria-selected=\"false\" class=\"cursor-pointer\" id=\"ibm-watsonx\" role=\"tab\" tabindex=\"-1\"><div class=\"flex text-sm items-center gap-1.5 leading-6 font-semibold whitespace-nowrap pt-3 pb-2.5 -mb-px max-w-max border-b text-gray-900 border-transparent hover:border-gray-300 dark:text-gray-200 dark:hover:border-gray-700\" data-active=\"false\" data-component-part=\"tab-button\" data-testid=\"tab-IBM watsonx\"> <!-- -->IBM watsonx</div></li><li aria-controls=\"panel-fake-13\" aria-selected=\"false\" class=\"cursor-pointer\" id=\"fake\" role=\"tab\" tabindex=\"-1\"><div class=\"flex text-sm items-center gap-1.5 leading-6 font-semibold whitespace-nowrap pt-3 pb-2.5 -mb-px max-w-max border-b text-gray-900 border-transparent hover:border-gray-300 dark:text-gray-200 dark:hover:border-gray-700\" data-active=\"false\" data-component-part=\"tab-button\" data-testid=\"tab-Fake\"> <!-- -->Fake</div></li><li aria-controls=\"panel-isaacus-14\" aria-selected=\"false\" class=\"cursor-pointer\" id=\"isaacus\" role=\"tab\" tabindex=\"-1\"><div class=\"flex text-sm items-center gap-1.5 leading-6 font-semibold whitespace-nowrap pt-3 pb-2.5 -mb-px max-w-max border-b text-gray-900 border-transparent hover:border-gray-300 dark:text-gray-200 dark:hover:border-gray-700\" data-active=\"false\" data-component-part=\"tab-button\" data-testid=\"tab-Isaacus\"> <!-- -->Isaacus</div></li></ul><div><div aria-labelledby=\"openai-2\" class='prose dark:prose-dark overflow-x-auto [&amp;_[data-table-wrapper]]:![--page-padding:0px] [&amp;_[role=\"listitem\"]]:pl-4' data-component-part=\"tab-content\" id=\"panel-openai-2-0\" role=\"tabpanel\"><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"shellscript\" numberoflines=\"1\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"shellscript\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"shellscript\" numberoflines=\"1\"><span class=\"line\"><span style=\"color:#953800;--shiki-dark:#DCDCAA\">pip</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> install</span><span style=\"color:#0550AE;--shiki-dark:#569CD6\"> -U</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> \"langchain-openai\"</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"9\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"9\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> getpass</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> os</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">if</span><span style=\"color:#CF222E;--shiki-dark:#569CD6\"> not</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> os.environ.get(</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"OPENAI_API_KEY\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">):</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">    os.environ[</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"OPENAI_API_KEY\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">] </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> getpass.getpass(</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"Enter API key for OpenAI: \"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain_openai </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> OpenAIEmbeddings</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">embeddings </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> OpenAIEmbeddings(</span><span style=\"color:#953800;--shiki-dark:#9CDCFE\">model</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"text-embedding-3-large\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div></div><div aria-labelledby=\"azure-2\" class='prose dark:prose-dark overflow-x-auto [&amp;_[data-table-wrapper]]:![--page-padding:0px] [&amp;_[role=\"listitem\"]]:pl-4 hidden' data-component-part=\"tab-content\" id=\"panel-azure-2-1\" role=\"tabpanel\"><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"shellscript\" numberoflines=\"1\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"shellscript\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"shellscript\" numberoflines=\"1\"><span class=\"line\"><span style=\"color:#953800;--shiki-dark:#DCDCAA\">pip</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> install</span><span style=\"color:#0550AE;--shiki-dark:#569CD6\"> -U</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> \"langchain-openai\"</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"13\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"13\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> getpass</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> os</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">if</span><span style=\"color:#CF222E;--shiki-dark:#569CD6\"> not</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> os.environ.get(</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"AZURE_OPENAI_API_KEY\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">):</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">    os.environ[</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"AZURE_OPENAI_API_KEY\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">] </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> getpass.getpass(</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"Enter API key for Azure: \"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain_openai </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> AzureOpenAIEmbeddings</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">embeddings </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> AzureOpenAIEmbeddings(</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    azure_endpoint</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">os.environ[</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"AZURE_OPENAI_ENDPOINT\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">],</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    azure_deployment</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">os.environ[</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"AZURE_OPENAI_DEPLOYMENT_NAME\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">],</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    openai_api_version</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">os.environ[</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"AZURE_OPENAI_API_VERSION\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">],</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div></div><div aria-labelledby=\"google-gemini-2\" class='prose dark:prose-dark overflow-x-auto [&amp;_[data-table-wrapper]]:![--page-padding:0px] [&amp;_[role=\"listitem\"]]:pl-4 hidden' data-component-part=\"tab-content\" id=\"panel-google-gemini-2-2\" role=\"tabpanel\"><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"shellscript\" numberoflines=\"1\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"shellscript\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"shellscript\" numberoflines=\"1\"><span class=\"line\"><span style=\"color:#953800;--shiki-dark:#DCDCAA\">pip</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> install</span><span style=\"color:#0550AE;--shiki-dark:#569CD6\"> -qU</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> langchain-google-genai</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"9\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"9\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> getpass</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> os</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">if</span><span style=\"color:#CF222E;--shiki-dark:#569CD6\"> not</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> os.environ.get(</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"GOOGLE_API_KEY\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">):</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">    os.environ[</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"GOOGLE_API_KEY\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">] </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> getpass.getpass(</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"Enter API key for Google Gemini: \"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain_google_genai </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> GoogleGenerativeAIEmbeddings</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">embeddings </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> GoogleGenerativeAIEmbeddings(</span><span style=\"color:#953800;--shiki-dark:#9CDCFE\">model</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"models/gemini-embedding-001\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div></div><div aria-labelledby=\"google-vertex\" class='prose dark:prose-dark overflow-x-auto [&amp;_[data-table-wrapper]]:![--page-padding:0px] [&amp;_[role=\"listitem\"]]:pl-4 hidden' data-component-part=\"tab-content\" id=\"panel-google-vertex-3\" role=\"tabpanel\"><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"shellscript\" numberoflines=\"1\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"shellscript\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"shellscript\" numberoflines=\"1\"><span class=\"line\"><span style=\"color:#953800;--shiki-dark:#DCDCAA\">pip</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> install</span><span style=\"color:#0550AE;--shiki-dark:#569CD6\"> -qU</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> langchain-google-vertexai</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"3\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"3\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain_google_vertexai </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> VertexAIEmbeddings</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">embeddings </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> VertexAIEmbeddings(</span><span style=\"color:#953800;--shiki-dark:#9CDCFE\">model</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"text-embedding-005\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div></div><div aria-labelledby=\"aws\" class='prose dark:prose-dark overflow-x-auto [&amp;_[data-table-wrapper]]:![--page-padding:0px] [&amp;_[role=\"listitem\"]]:pl-4 hidden' data-component-part=\"tab-content\" id=\"panel-aws-4\" role=\"tabpanel\"><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"shellscript\" numberoflines=\"1\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"shellscript\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"shellscript\" numberoflines=\"1\"><span class=\"line\"><span style=\"color:#953800;--shiki-dark:#DCDCAA\">pip</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> install</span><span style=\"color:#0550AE;--shiki-dark:#569CD6\"> -qU</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> langchain-aws</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"3\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"3\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain_aws </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> BedrockEmbeddings</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">embeddings </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> BedrockEmbeddings(</span><span style=\"color:#953800;--shiki-dark:#9CDCFE\">model_id</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"amazon.titan-embed-text-v2:0\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div></div><div aria-labelledby=\"huggingface-2\" class='prose dark:prose-dark overflow-x-auto [&amp;_[data-table-wrapper]]:![--page-padding:0px] [&amp;_[role=\"listitem\"]]:pl-4 hidden' data-component-part=\"tab-content\" id=\"panel-huggingface-2-5\" role=\"tabpanel\"><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"shellscript\" numberoflines=\"1\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"shellscript\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"shellscript\" numberoflines=\"1\"><span class=\"line\"><span style=\"color:#953800;--shiki-dark:#DCDCAA\">pip</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> install</span><span style=\"color:#0550AE;--shiki-dark:#569CD6\"> -qU</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> langchain-huggingface</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"3\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"3\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain_huggingface </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> HuggingFaceEmbeddings</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">embeddings </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> HuggingFaceEmbeddings(</span><span style=\"color:#953800;--shiki-dark:#9CDCFE\">model_name</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"sentence-transformers/all-mpnet-base-v2\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div></div><div aria-labelledby=\"ollama\" class='prose dark:prose-dark overflow-x-auto [&amp;_[data-table-wrapper]]:![--page-padding:0px] [&amp;_[role=\"listitem\"]]:pl-4 hidden' data-component-part=\"tab-content\" id=\"panel-ollama-6\" role=\"tabpanel\"><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"shellscript\" numberoflines=\"1\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"shellscript\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"shellscript\" numberoflines=\"1\"><span class=\"line\"><span style=\"color:#953800;--shiki-dark:#DCDCAA\">pip</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> install</span><span style=\"color:#0550AE;--shiki-dark:#569CD6\"> -qU</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> langchain-ollama</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"3\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"3\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain_ollama </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> OllamaEmbeddings</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">embeddings </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> OllamaEmbeddings(</span><span style=\"color:#953800;--shiki-dark:#9CDCFE\">model</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"llama3\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div></div><div aria-labelledby=\"cohere\" class='prose dark:prose-dark overflow-x-auto [&amp;_[data-table-wrapper]]:![--page-padding:0px] [&amp;_[role=\"listitem\"]]:pl-4 hidden' data-component-part=\"tab-content\" id=\"panel-cohere-7\" role=\"tabpanel\"><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"shellscript\" numberoflines=\"1\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"shellscript\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"shellscript\" numberoflines=\"1\"><span class=\"line\"><span style=\"color:#953800;--shiki-dark:#DCDCAA\">pip</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> install</span><span style=\"color:#0550AE;--shiki-dark:#569CD6\"> -qU</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> langchain-cohere</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"9\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"9\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> getpass</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> os</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">if</span><span style=\"color:#CF222E;--shiki-dark:#569CD6\"> not</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> os.environ.get(</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"COHERE_API_KEY\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">):</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">    os.environ[</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"COHERE_API_KEY\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">] </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> getpass.getpass(</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"Enter API key for Cohere: \"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain_cohere </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> CohereEmbeddings</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">embeddings </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> CohereEmbeddings(</span><span style=\"color:#953800;--shiki-dark:#9CDCFE\">model</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"embed-english-v3.0\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div></div><div aria-labelledby=\"mistralai\" class='prose dark:prose-dark overflow-x-auto [&amp;_[data-table-wrapper]]:![--page-padding:0px] [&amp;_[role=\"listitem\"]]:pl-4 hidden' data-component-part=\"tab-content\" id=\"panel-mistralai-8\" role=\"tabpanel\"><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"shellscript\" numberoflines=\"1\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"shellscript\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"shellscript\" numberoflines=\"1\"><span class=\"line\"><span style=\"color:#953800;--shiki-dark:#DCDCAA\">pip</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> install</span><span style=\"color:#0550AE;--shiki-dark:#569CD6\"> -qU</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> langchain-mistralai</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"9\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"9\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> getpass</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> os</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">if</span><span style=\"color:#CF222E;--shiki-dark:#569CD6\"> not</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> os.environ.get(</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"MISTRALAI_API_KEY\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">):</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">    os.environ[</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"MISTRALAI_API_KEY\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">] </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> getpass.getpass(</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"Enter API key for MistralAI: \"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain_mistralai </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> MistralAIEmbeddings</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">embeddings </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> MistralAIEmbeddings(</span><span style=\"color:#953800;--shiki-dark:#9CDCFE\">model</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"mistral-embed\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div></div><div aria-labelledby=\"nomic\" class='prose dark:prose-dark overflow-x-auto [&amp;_[data-table-wrapper]]:![--page-padding:0px] [&amp;_[role=\"listitem\"]]:pl-4 hidden' data-component-part=\"tab-content\" id=\"panel-nomic-9\" role=\"tabpanel\"><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"shellscript\" numberoflines=\"1\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"shellscript\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"shellscript\" numberoflines=\"1\"><span class=\"line\"><span style=\"color:#953800;--shiki-dark:#DCDCAA\">pip</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> install</span><span style=\"color:#0550AE;--shiki-dark:#569CD6\"> -qU</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> langchain-nomic</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"9\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"9\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> getpass</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> os</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">if</span><span style=\"color:#CF222E;--shiki-dark:#569CD6\"> not</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> os.environ.get(</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"NOMIC_API_KEY\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">):</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">    os.environ[</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"NOMIC_API_KEY\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">] </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> getpass.getpass(</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"Enter API key for Nomic: \"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain_nomic </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> NomicEmbeddings</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">embeddings </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> NomicEmbeddings(</span><span style=\"color:#953800;--shiki-dark:#9CDCFE\">model</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"nomic-embed-text-v1.5\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div></div><div aria-labelledby=\"nvidia\" class='prose dark:prose-dark overflow-x-auto [&amp;_[data-table-wrapper]]:![--page-padding:0px] [&amp;_[role=\"listitem\"]]:pl-4 hidden' data-component-part=\"tab-content\" id=\"panel-nvidia-10\" role=\"tabpanel\"><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"shellscript\" numberoflines=\"1\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"shellscript\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"shellscript\" numberoflines=\"1\"><span class=\"line\"><span style=\"color:#953800;--shiki-dark:#DCDCAA\">pip</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> install</span><span style=\"color:#0550AE;--shiki-dark:#569CD6\"> -qU</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> langchain-nvidia-ai-endpoints</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"9\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"9\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> getpass</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> os</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">if</span><span style=\"color:#CF222E;--shiki-dark:#569CD6\"> not</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> os.environ.get(</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"NVIDIA_API_KEY\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">):</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">    os.environ[</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"NVIDIA_API_KEY\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">] </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> getpass.getpass(</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"Enter API key for NVIDIA: \"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain_nvidia_ai_endpoints </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> NVIDIAEmbeddings</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">embeddings </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> NVIDIAEmbeddings(</span><span style=\"color:#953800;--shiki-dark:#9CDCFE\">model</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"NV-Embed-QA\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div></div><div aria-labelledby=\"voyage-ai\" class='prose dark:prose-dark overflow-x-auto [&amp;_[data-table-wrapper]]:![--page-padding:0px] [&amp;_[role=\"listitem\"]]:pl-4 hidden' data-component-part=\"tab-content\" id=\"panel-voyage-ai-11\" role=\"tabpanel\"><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"shellscript\" numberoflines=\"1\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"shellscript\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"shellscript\" numberoflines=\"1\"><span class=\"line\"><span style=\"color:#953800;--shiki-dark:#DCDCAA\">pip</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> install</span><span style=\"color:#0550AE;--shiki-dark:#569CD6\"> -qU</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> langchain-voyageai</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"9\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"9\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> getpass</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> os</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">if</span><span style=\"color:#CF222E;--shiki-dark:#569CD6\"> not</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> os.environ.get(</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"VOYAGE_API_KEY\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">):</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">    os.environ[</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"VOYAGE_API_KEY\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">] </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> getpass.getpass(</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"Enter API key for Voyage AI: \"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">-</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">voyageai </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> VoyageAIEmbeddings</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">embeddings </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> VoyageAIEmbeddings(</span><span style=\"color:#953800;--shiki-dark:#9CDCFE\">model</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"voyage-3\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div></div><div aria-labelledby=\"ibm-watsonx\" class='prose dark:prose-dark overflow-x-auto [&amp;_[data-table-wrapper]]:![--page-padding:0px] [&amp;_[role=\"listitem\"]]:pl-4 hidden' data-component-part=\"tab-content\" id=\"panel-ibm-watsonx-12\" role=\"tabpanel\"><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"shellscript\" numberoflines=\"1\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"shellscript\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"shellscript\" numberoflines=\"1\"><span class=\"line\"><span style=\"color:#953800;--shiki-dark:#DCDCAA\">pip</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> install</span><span style=\"color:#0550AE;--shiki-dark:#569CD6\"> -qU</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> langchain-ibm</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"13\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"13\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> getpass</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> os</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">if</span><span style=\"color:#CF222E;--shiki-dark:#569CD6\"> not</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> os.environ.get(</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"WATSONX_APIKEY\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">):</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">    os.environ[</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"WATSONX_APIKEY\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">] </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> getpass.getpass(</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"Enter API key for IBM watsonx: \"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain_ibm </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> WatsonxEmbeddings</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">embeddings </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> WatsonxEmbeddings(</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    model_id</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"ibm/slate-125m-english-rtrvr\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">,</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    url</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"https://us-south.ml.cloud.ibm.com\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">,</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    project_id</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"&lt;WATSONX PROJECT_ID&gt;\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">,</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div></div><div aria-labelledby=\"fake\" class='prose dark:prose-dark overflow-x-auto [&amp;_[data-table-wrapper]]:![--page-padding:0px] [&amp;_[role=\"listitem\"]]:pl-4 hidden' data-component-part=\"tab-content\" id=\"panel-fake-13\" role=\"tabpanel\"><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"shellscript\" numberoflines=\"1\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"shellscript\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"shellscript\" numberoflines=\"1\"><span class=\"line\"><span style=\"color:#953800;--shiki-dark:#DCDCAA\">pip</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> install</span><span style=\"color:#0550AE;--shiki-dark:#569CD6\"> -qU</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> langchain-core</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"3\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"3\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain_core.embeddings </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> DeterministicFakeEmbedding</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">embeddings </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> DeterministicFakeEmbedding(</span><span style=\"color:#953800;--shiki-dark:#9CDCFE\">size</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0550AE;--shiki-dark:#B5CEA8\">4096</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div></div><div aria-labelledby=\"isaacus\" class='prose dark:prose-dark overflow-x-auto [&amp;_[data-table-wrapper]]:![--page-padding:0px] [&amp;_[role=\"listitem\"]]:pl-4 hidden' data-component-part=\"tab-content\" id=\"panel-isaacus-14\" role=\"tabpanel\"><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"shellscript\" numberoflines=\"1\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"shellscript\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"shellscript\" numberoflines=\"1\"><span class=\"line\"><span style=\"color:#953800;--shiki-dark:#DCDCAA\">pip</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> install</span><span style=\"color:#0550AE;--shiki-dark:#569CD6\"> -qU</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> langchain-isaacus</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"9\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"9\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> getpass</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> os</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">if</span><span style=\"color:#CF222E;--shiki-dark:#569CD6\"> not</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> os.environ.get(</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"ISAACUS_API_KEY\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">):</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">os.environ[</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"ISAACUS_API_KEY\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">] </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> getpass.getpass(</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"Enter API key for Isaacus: \"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain_isaacus </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> IsaacusEmbeddings</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">embeddings </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> IsaacusEmbeddings(</span><span style=\"color:#953800;--shiki-dark:#9CDCFE\">model</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"kanon-2-embedder\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div></div></div></div>\n<span data-as=\"p\">Select a vector store:</span>\n<div class=\"tabs tabs tab-container\" id=\"in-memory\"><ul class=\"not-prose mb-6 pb-[1px] flex-none min-w-full overflow-auto border-b border-gray-200 gap-x-6 flex dark:border-gray-200/10\" data-component-part=\"tabs-list\" role=\"tablist\"><li aria-controls=\"panel-in-memory-0\" aria-selected=\"true\" class=\"cursor-pointer\" id=\"in-memory\" role=\"tab\" tabindex=\"0\"><div class=\"flex text-sm items-center gap-1.5 leading-6 font-semibold whitespace-nowrap pt-3 pb-2.5 -mb-px max-w-max border-b text-primary dark:text-primary-light border-current\" data-active=\"true\" data-component-part=\"tab-button\" data-testid=\"tab-In-memory\"> <!-- -->In-memory</div></li><li aria-controls=\"panel-amazon-opensearch-1\" aria-selected=\"false\" class=\"cursor-pointer\" id=\"amazon-opensearch\" role=\"tab\" tabindex=\"-1\"><div class=\"flex text-sm items-center gap-1.5 leading-6 font-semibold whitespace-nowrap pt-3 pb-2.5 -mb-px max-w-max border-b text-gray-900 border-transparent hover:border-gray-300 dark:text-gray-200 dark:hover:border-gray-700\" data-active=\"false\" data-component-part=\"tab-button\" data-testid=\"tab-Amazon OpenSearch\"> <!-- -->Amazon OpenSearch</div></li><li aria-controls=\"panel-astradb-2\" aria-selected=\"false\" class=\"cursor-pointer\" id=\"astradb\" role=\"tab\" tabindex=\"-1\"><div class=\"flex text-sm items-center gap-1.5 leading-6 font-semibold whitespace-nowrap pt-3 pb-2.5 -mb-px max-w-max border-b text-gray-900 border-transparent hover:border-gray-300 dark:text-gray-200 dark:hover:border-gray-700\" data-active=\"false\" data-component-part=\"tab-button\" data-testid=\"tab-AstraDB\"> <!-- -->AstraDB</div></li><li aria-controls=\"panel-chroma-3\" aria-selected=\"false\" class=\"cursor-pointer\" id=\"chroma\" role=\"tab\" tabindex=\"-1\"><div class=\"flex text-sm items-center gap-1.5 leading-6 font-semibold whitespace-nowrap pt-3 pb-2.5 -mb-px max-w-max border-b text-gray-900 border-transparent hover:border-gray-300 dark:text-gray-200 dark:hover:border-gray-700\" data-active=\"false\" data-component-part=\"tab-button\" data-testid=\"tab-Chroma\"> <!-- -->Chroma</div></li><li aria-controls=\"panel-faiss-4\" aria-selected=\"false\" class=\"cursor-pointer\" id=\"faiss\" role=\"tab\" tabindex=\"-1\"><div class=\"flex text-sm items-center gap-1.5 leading-6 font-semibold whitespace-nowrap pt-3 pb-2.5 -mb-px max-w-max border-b text-gray-900 border-transparent hover:border-gray-300 dark:text-gray-200 dark:hover:border-gray-700\" data-active=\"false\" data-component-part=\"tab-button\" data-testid=\"tab-FAISS\"> <!-- -->FAISS</div></li><li aria-controls=\"panel-milvus-5\" aria-selected=\"false\" class=\"cursor-pointer\" id=\"milvus\" role=\"tab\" tabindex=\"-1\"><div class=\"flex text-sm items-center gap-1.5 leading-6 font-semibold whitespace-nowrap pt-3 pb-2.5 -mb-px max-w-max border-b text-gray-900 border-transparent hover:border-gray-300 dark:text-gray-200 dark:hover:border-gray-700\" data-active=\"false\" data-component-part=\"tab-button\" data-testid=\"tab-Milvus\"> <!-- -->Milvus</div></li><li aria-controls=\"panel-mongodb-6\" aria-selected=\"false\" class=\"cursor-pointer\" id=\"mongodb\" role=\"tab\" tabindex=\"-1\"><div class=\"flex text-sm items-center gap-1.5 leading-6 font-semibold whitespace-nowrap pt-3 pb-2.5 -mb-px max-w-max border-b text-gray-900 border-transparent hover:border-gray-300 dark:text-gray-200 dark:hover:border-gray-700\" data-active=\"false\" data-component-part=\"tab-button\" data-testid=\"tab-MongoDB\"> <!-- -->MongoDB</div></li><li aria-controls=\"panel-pgvector-7\" aria-selected=\"false\" class=\"cursor-pointer\" id=\"pgvector\" role=\"tab\" tabindex=\"-1\"><div class=\"flex text-sm items-center gap-1.5 leading-6 font-semibold whitespace-nowrap pt-3 pb-2.5 -mb-px max-w-max border-b text-gray-900 border-transparent hover:border-gray-300 dark:text-gray-200 dark:hover:border-gray-700\" data-active=\"false\" data-component-part=\"tab-button\" data-testid=\"tab-PGVector\"> <!-- -->PGVector</div></li><li aria-controls=\"panel-pgvectorstore-8\" aria-selected=\"false\" class=\"cursor-pointer\" id=\"pgvectorstore\" role=\"tab\" tabindex=\"-1\"><div class=\"flex text-sm items-center gap-1.5 leading-6 font-semibold whitespace-nowrap pt-3 pb-2.5 -mb-px max-w-max border-b text-gray-900 border-transparent hover:border-gray-300 dark:text-gray-200 dark:hover:border-gray-700\" data-active=\"false\" data-component-part=\"tab-button\" data-testid=\"tab-PGVectorStore\"> <!-- -->PGVectorStore</div></li><li aria-controls=\"panel-pinecone-9\" aria-selected=\"false\" class=\"cursor-pointer\" id=\"pinecone\" role=\"tab\" tabindex=\"-1\"><div class=\"flex text-sm items-center gap-1.5 leading-6 font-semibold whitespace-nowrap pt-3 pb-2.5 -mb-px max-w-max border-b text-gray-900 border-transparent hover:border-gray-300 dark:text-gray-200 dark:hover:border-gray-700\" data-active=\"false\" data-component-part=\"tab-button\" data-testid=\"tab-Pinecone\"> <!-- -->Pinecone</div></li><li aria-controls=\"panel-qdrant-10\" aria-selected=\"false\" class=\"cursor-pointer\" id=\"qdrant\" role=\"tab\" tabindex=\"-1\"><div class=\"flex text-sm items-center gap-1.5 leading-6 font-semibold whitespace-nowrap pt-3 pb-2.5 -mb-px max-w-max border-b text-gray-900 border-transparent hover:border-gray-300 dark:text-gray-200 dark:hover:border-gray-700\" data-active=\"false\" data-component-part=\"tab-button\" data-testid=\"tab-Qdrant\"> <!-- -->Qdrant</div></li></ul><div><div aria-labelledby=\"in-memory\" class='prose dark:prose-dark overflow-x-auto [&amp;_[data-table-wrapper]]:![--page-padding:0px] [&amp;_[role=\"listitem\"]]:pl-4' data-component-part=\"tab-content\" id=\"panel-in-memory-0\" role=\"tabpanel\"><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"shellscript\" numberoflines=\"1\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"shellscript\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"shellscript\" numberoflines=\"1\"><span class=\"line\"><span style=\"color:#953800;--shiki-dark:#DCDCAA\">pip</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> install</span><span style=\"color:#0550AE;--shiki-dark:#569CD6\"> -U</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> \"langchain-core\"</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"3\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"3\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain_core.vectorstores </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> InMemoryVectorStore</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">vector_store </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> InMemoryVectorStore(embeddings)</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div></div><div aria-labelledby=\"amazon-opensearch\" class='prose dark:prose-dark overflow-x-auto [&amp;_[data-table-wrapper]]:![--page-padding:0px] [&amp;_[role=\"listitem\"]]:pl-4 hidden' data-component-part=\"tab-content\" id=\"panel-amazon-opensearch-1\" role=\"tabpanel\"><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"shellscript\" numberoflines=\"1\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"shellscript\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"shellscript\" numberoflines=\"1\"><span class=\"line\"><span style=\"color:#953800;--shiki-dark:#DCDCAA\">pip</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> install</span><span style=\"color:#0550AE;--shiki-dark:#569CD6\"> -qU</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">  boto3</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"20\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"20\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> opensearchpy </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> RequestsHttpConnection</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">service </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> \"es\"</span><span style=\"color:#6E7781;--shiki-dark:#6A9955\">  # must set the service as 'es'</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">region </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> \"us-east-2\"</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">credentials </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> boto3.Session(</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    aws_access_key_id</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"xxxxxx\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">, </span><span style=\"color:#953800;--shiki-dark:#9CDCFE\">aws_secret_access_key</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"xxxxx\"</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">).get_credentials()</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">awsauth </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> AWS4Auth(</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"xxxxx\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">, </span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"xxxxxx\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">, region, service, </span><span style=\"color:#953800;--shiki-dark:#9CDCFE\">session_token</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">credentials.token)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">vector_store </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> OpenSearchVectorSearch.from_documents(</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">    docs,</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">    embeddings,</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    opensearch_url</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"host url\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">,</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    http_auth</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">awsauth,</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    timeout</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0550AE;--shiki-dark:#B5CEA8\">300</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">,</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    use_ssl</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0550AE;--shiki-dark:#569CD6\">True</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">,</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    verify_certs</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0550AE;--shiki-dark:#569CD6\">True</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">,</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    connection_class</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">RequestsHttpConnection,</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    index_name</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"test-index\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">,</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div></div><div aria-labelledby=\"astradb\" class='prose dark:prose-dark overflow-x-auto [&amp;_[data-table-wrapper]]:![--page-padding:0px] [&amp;_[role=\"listitem\"]]:pl-4 hidden' data-component-part=\"tab-content\" id=\"panel-astradb-2\" role=\"tabpanel\"><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"shellscript\" numberoflines=\"1\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"shellscript\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"shellscript\" numberoflines=\"1\"><span class=\"line\"><span style=\"color:#953800;--shiki-dark:#DCDCAA\">pip</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> install</span><span style=\"color:#0550AE;--shiki-dark:#569CD6\"> -U</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> \"langchain-astradb\"</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"9\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"9\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain_astradb </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> AstraDBVectorStore</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">vector_store </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> AstraDBVectorStore(</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    embedding</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">embeddings,</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    api_endpoint</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0550AE;--shiki-dark:#D4D4D4\">ASTRA_DB_API_ENDPOINT</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">,</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    collection_name</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"astra_vector_langchain\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">,</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    token</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0550AE;--shiki-dark:#D4D4D4\">ASTRA_DB_APPLICATION_TOKEN</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">,</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    namespace</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0550AE;--shiki-dark:#D4D4D4\">ASTRA_DB_NAMESPACE</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">,</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div></div><div aria-labelledby=\"chroma\" class='prose dark:prose-dark overflow-x-auto [&amp;_[data-table-wrapper]]:![--page-padding:0px] [&amp;_[role=\"listitem\"]]:pl-4 hidden' data-component-part=\"tab-content\" id=\"panel-chroma-3\" role=\"tabpanel\"><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"shellscript\" numberoflines=\"1\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"shellscript\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"shellscript\" numberoflines=\"1\"><span class=\"line\"><span style=\"color:#953800;--shiki-dark:#DCDCAA\">pip</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> install</span><span style=\"color:#0550AE;--shiki-dark:#569CD6\"> -qU</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> langchain-chroma</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"7\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"7\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain_chroma </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> Chroma</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">vector_store </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> Chroma(</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    collection_name</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"example_collection\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">,</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    embedding_function</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">embeddings,</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    persist_directory</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"./chroma_langchain_db\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">,  </span><span style=\"color:#6E7781;--shiki-dark:#6A9955\"># Where to save data locally, remove if not necessary</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div></div><div aria-labelledby=\"faiss\" class='prose dark:prose-dark overflow-x-auto [&amp;_[data-table-wrapper]]:![--page-padding:0px] [&amp;_[role=\"listitem\"]]:pl-4 hidden' data-component-part=\"tab-content\" id=\"panel-faiss-4\" role=\"tabpanel\"><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"shellscript\" numberoflines=\"1\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"shellscript\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"shellscript\" numberoflines=\"1\"><span class=\"line\"><span style=\"color:#953800;--shiki-dark:#DCDCAA\">pip</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> install</span><span style=\"color:#0550AE;--shiki-dark:#569CD6\"> -qU</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> langchain-community</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> faiss-cpu</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"13\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"13\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> faiss</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain_community.docstore.in_memory </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> InMemoryDocstore</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain_community.vectorstores </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#0550AE;--shiki-dark:#D4D4D4\"> FAISS</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">embedding_dim </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0550AE;--shiki-dark:#DCDCAA\"> len</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">(embeddings.embed_query(</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"hello world\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">))</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">index </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> faiss.IndexFlatL2(embedding_dim)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">vector_store </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> FAISS(</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    embedding_function</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">embeddings,</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    index</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">index,</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    docstore</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">InMemoryDocstore(),</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    index_to_docstore_id</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">{},</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div></div><div aria-labelledby=\"milvus\" class='prose dark:prose-dark overflow-x-auto [&amp;_[data-table-wrapper]]:![--page-padding:0px] [&amp;_[role=\"listitem\"]]:pl-4 hidden' data-component-part=\"tab-content\" id=\"panel-milvus-5\" role=\"tabpanel\"><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"shellscript\" numberoflines=\"1\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"shellscript\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"shellscript\" numberoflines=\"1\"><span class=\"line\"><span style=\"color:#953800;--shiki-dark:#DCDCAA\">pip</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> install</span><span style=\"color:#0550AE;--shiki-dark:#569CD6\"> -qU</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> langchain-milvus</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"9\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"9\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain_milvus </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> Milvus</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#0550AE;--shiki-dark:#D4D4D4\">URI</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\"> =</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> \"./milvus_example.db\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">vector_store </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> Milvus(</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    embedding_function</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">embeddings,</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    connection_args</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">{</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"uri\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">: </span><span style=\"color:#0550AE;--shiki-dark:#D4D4D4\">URI</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">},</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    index_params</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">{</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"index_type\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">: </span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"FLAT\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">, </span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"metric_type\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">: </span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"L2\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">},</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div></div><div aria-labelledby=\"mongodb\" class='prose dark:prose-dark overflow-x-auto [&amp;_[data-table-wrapper]]:![--page-padding:0px] [&amp;_[role=\"listitem\"]]:pl-4 hidden' data-component-part=\"tab-content\" id=\"panel-mongodb-6\" role=\"tabpanel\"><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"shellscript\" numberoflines=\"1\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"shellscript\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"shellscript\" numberoflines=\"1\"><span class=\"line\"><span style=\"color:#953800;--shiki-dark:#DCDCAA\">pip</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> install</span><span style=\"color:#0550AE;--shiki-dark:#569CD6\"> -qU</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> langchain-mongodb</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"8\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"8\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain_mongodb </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> MongoDBAtlasVectorSearch</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">vector_store </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> MongoDBAtlasVectorSearch(</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    embedding</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">embeddings,</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    collection</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0550AE;--shiki-dark:#D4D4D4\">MONGODB_COLLECTION</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">,</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    index_name</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0550AE;--shiki-dark:#D4D4D4\">ATLAS_VECTOR_SEARCH_INDEX_NAME</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">,</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    relevance_score_fn</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"cosine\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">,</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div></div><div aria-labelledby=\"pgvector\" class='prose dark:prose-dark overflow-x-auto [&amp;_[data-table-wrapper]]:![--page-padding:0px] [&amp;_[role=\"listitem\"]]:pl-4 hidden' data-component-part=\"tab-content\" id=\"panel-pgvector-7\" role=\"tabpanel\"><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"shellscript\" numberoflines=\"1\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"shellscript\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"shellscript\" numberoflines=\"1\"><span class=\"line\"><span style=\"color:#953800;--shiki-dark:#DCDCAA\">pip</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> install</span><span style=\"color:#0550AE;--shiki-dark:#569CD6\"> -qU</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> langchain-postgres</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"7\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"7\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain_postgres </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> PGVector</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">vector_store </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> PGVector(</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    embeddings</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">embeddings,</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    collection_name</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"my_docs\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">,</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    connection</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"postgresql+psycopg://...\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">,</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div></div><div aria-labelledby=\"pgvectorstore\" class='prose dark:prose-dark overflow-x-auto [&amp;_[data-table-wrapper]]:![--page-padding:0px] [&amp;_[role=\"listitem\"]]:pl-4 hidden' data-component-part=\"tab-content\" id=\"panel-pgvectorstore-8\" role=\"tabpanel\"><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"shellscript\" numberoflines=\"1\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"shellscript\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"shellscript\" numberoflines=\"1\"><span class=\"line\"><span style=\"color:#953800;--shiki-dark:#DCDCAA\">pip</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> install</span><span style=\"color:#0550AE;--shiki-dark:#569CD6\"> -qU</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> langchain-postgres</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"11\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"11\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain_postgres </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> PGEngine, PGVectorStore</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">pg_engine </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> PGEngine.from_connection_string(</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    url</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"postgresql+psycopg://...\"</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">vector_store </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> PGVectorStore.create_sync(</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    engine</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">pg_engine,</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    table_name</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">'test_table'</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">,</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    embedding_service</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">embedding</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div></div><div aria-labelledby=\"pinecone\" class='prose dark:prose-dark overflow-x-auto [&amp;_[data-table-wrapper]]:![--page-padding:0px] [&amp;_[role=\"listitem\"]]:pl-4 hidden' data-component-part=\"tab-content\" id=\"panel-pinecone-9\" role=\"tabpanel\"><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"shellscript\" numberoflines=\"1\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"shellscript\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"shellscript\" numberoflines=\"1\"><span class=\"line\"><span style=\"color:#953800;--shiki-dark:#DCDCAA\">pip</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> install</span><span style=\"color:#0550AE;--shiki-dark:#569CD6\"> -qU</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> langchain-pinecone</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"7\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"7\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain_pinecone </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> PineconeVectorStore</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> pinecone </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> Pinecone</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">pc </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> Pinecone(</span><span style=\"color:#953800;--shiki-dark:#9CDCFE\">api_key</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0550AE;--shiki-dark:#D4D4D4\">...</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">index </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> pc.Index(index_name)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">vector_store </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> PineconeVectorStore(</span><span style=\"color:#953800;--shiki-dark:#9CDCFE\">embedding</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">embeddings, </span><span style=\"color:#953800;--shiki-dark:#9CDCFE\">index</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">index)</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div></div><div aria-labelledby=\"qdrant\" class='prose dark:prose-dark overflow-x-auto [&amp;_[data-table-wrapper]]:![--page-padding:0px] [&amp;_[role=\"listitem\"]]:pl-4 hidden' data-component-part=\"tab-content\" id=\"panel-qdrant-10\" role=\"tabpanel\"><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"shellscript\" numberoflines=\"1\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"shellscript\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"shellscript\" numberoflines=\"1\"><span class=\"line\"><span style=\"color:#953800;--shiki-dark:#DCDCAA\">pip</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> install</span><span style=\"color:#0550AE;--shiki-dark:#569CD6\"> -qU</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> langchain-qdrant</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"18\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"18\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> qdrant_client.models </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> Distance, VectorParams</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain_qdrant </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> QdrantVectorStore</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> qdrant_client </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> QdrantClient</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">client </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> QdrantClient(</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\":memory:\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">vector_size </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0550AE;--shiki-dark:#DCDCAA\"> len</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">(embeddings.embed_query(</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"sample text\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">))</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">if</span><span style=\"color:#CF222E;--shiki-dark:#569CD6\"> not</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> client.collection_exists(</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"test\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">):</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">    client.create_collection(</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">        collection_name</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"test\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">,</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">        vectors_config</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">VectorParams(</span><span style=\"color:#953800;--shiki-dark:#9CDCFE\">size</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">vector_size, </span><span style=\"color:#953800;--shiki-dark:#9CDCFE\">distance</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">Distance.</span><span style=\"color:#0550AE;--shiki-dark:#D4D4D4\">COSINE</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">    )</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">vector_store </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> QdrantVectorStore(</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    client</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">client,</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    collection_name</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"test\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">,</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    embedding</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">embeddings,</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div></div></div></div>\n<h2 class=\"flex whitespace-pre-wrap group font-semibold\" id=\"1-indexing\"><div class=\"absolute\" tabindex=\"-1\"><a aria-label=\"Navigate to header\" class=\"-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100 focus:opacity-100 focus:outline-0 group/link\" href=\"https://python.langchain.com/docs/tutorials/rag/#1-indexing\" target=\"_blank\">​<div class=\"w-6 h-6 rounded-md flex items-center justify-center shadow-sm text-gray-400 dark:text-white/50 dark:bg-background-dark dark:brightness-[1.35] dark:ring-1 dark:hover:brightness-150 bg-white ring-1 ring-gray-400/30 dark:ring-gray-700/25 hover:ring-gray-400/60 dark:hover:ring-white/20 group-focus/link:border-2 group-focus/link:border-primary dark:group-focus/link:border-primary-light\"><svg fill=\"gray\" height=\"12px\" viewbox=\"0 0 576 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 256C0 167.6 71.6 96 160 96h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C98.1 144 48 194.1 48 256s50.1 112 112 112h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C71.6 416 0 344.4 0 256zm576 0c0 88.4-71.6 160-160 160H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c61.9 0 112-50.1 112-112s-50.1-112-112-112H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c88.4 0 160 71.6 160 160zM184 232H392c13.3 0 24 10.7 24 24s-10.7 24-24 24H184c-13.3 0-24-10.7-24-24s10.7-24 24-24z\"></path></svg></div></a></div><span class=\"cursor-pointer\">1. Indexing</span></h2>\n<div class=\"callout my-4 px-5 py-4 overflow-hidden rounded-2xl flex gap-3 border border-sky-500/20 bg-sky-50/50 dark:border-sky-500/30 dark:bg-sky-500/10\" data-callout-type=\"note\"><div class=\"mt-0.5 w-4\" data-component-part=\"callout-icon\"><svg aria-label=\"Note\" class=\"w-4 h-4 text-sky-500\" fill=\"currentColor\" height=\"14\" viewbox=\"0 0 14 14\" width=\"14\" xmlns=\"http://www.w3.org/2000/svg\"><path clip-rule=\"evenodd\" d=\"M7 1.3C10.14 1.3 12.7 3.86 12.7 7C12.7 10.14 10.14 12.7 7 12.7C5.48908 12.6974 4.0408 12.096 2.97241 11.0276C1.90403 9.9592 1.30264 8.51092 1.3 7C1.3 3.86 3.86 1.3 7 1.3ZM7 0C3.14 0 0 3.14 0 7C0 10.86 3.14 14 7 14C10.86 14 14 10.86 14 7C14 3.14 10.86 0 7 0ZM8 3H6V8H8V3ZM8 9H6V11H8V9Z\" fill-rule=\"evenodd\"></path></svg></div><div class=\"text-sm prose dark:prose-invert min-w-0 w-full [&amp;_kbd]:bg-background-light dark:[&amp;_kbd]:bg-background-dark [&amp;_code]:!text-current [&amp;_kbd]:!text-current [&amp;_a]:!text-current [&amp;_a]:border-current text-sky-900 dark:text-sky-200\" data-component-part=\"callout-content\"><span data-as=\"p\"><strong>This section is an abbreviated version of the content in the <a class=\"link\" href=\"https://python.langchain.com/oss/python/langchain/knowledge-base\" target=\"_blank\">semantic search tutorial</a>.</strong></span><span data-as=\"p\">If your data is already indexed and available for search (i.e., you have a function to execute a search), or if you’re comfortable with <a class=\"link\" href=\"https://python.langchain.com/oss/python/langchain/retrieval#document_loaders\" target=\"_blank\">document loaders</a>, <a class=\"link\" href=\"https://python.langchain.com/oss/python/langchain/retrieval#embedding_models\" target=\"_blank\">embeddings</a>, and <a class=\"link\" href=\"https://python.langchain.com/oss/python/langchain/retrieval#vectorstores\" target=\"_blank\">vector stores</a>, feel free to skip to the next section on <a class=\"link\" href=\"https://python.langchain.com/oss/python/langchain/rag#2-retrieval-and-generation\" target=\"_blank\">retrieval and generation</a>.</span></div></div>\n<span data-as=\"p\">Indexing commonly works as follows:</span>\n<ol>\n<li><strong>Load</strong>: First we need to load our data. This is done with <a class=\"link\" href=\"https://python.langchain.com/oss/python/langchain/retrieval#document_loaders\" target=\"_blank\">Document Loaders</a>.</li>\n<li><strong>Split</strong>: <a class=\"link\" href=\"https://python.langchain.com/oss/python/langchain/retrieval#text_splitters\" target=\"_blank\">Text splitters</a> break large <code>Documents</code> into smaller chunks. This is useful both for indexing data and passing it into a model, as large chunks are harder to search over and won’t fit in a model’s finite context window.</li>\n<li><strong>Store</strong>: We need somewhere to store and index our splits, so that they can be searched over later. This is often done using a <a class=\"link\" href=\"https://python.langchain.com/oss/python/langchain/retrieval#vectorstores\" target=\"_blank\">VectorStore</a> and <a class=\"link\" href=\"https://python.langchain.com/oss/python/langchain/retrieval#embedding_models\" target=\"_blank\">Embeddings</a> model.</li>\n</ol>\n<span aria-owns=\"rmiz-modal-\" data-rmiz=\"\"><span data-rmiz-content=\"not-found\" style=\"visibility:visible\"><picture class=\"contents\"><img alt=\"index_diagram\" class=\"object-contain\" data-optimize=\"true\" data-path=\"images/rag_indexing.png\" decoding=\"async\" height=\"1299\" sizes=\"(max-width: 1024px) and (min-resolution: 2.5dppx) 37vw, (max-width: 1024px) and (min-resolution: 1.5dppx) 55vw, (max-width: 1024px) 100vw, (min-resolution: 2.5dppx) 258px, (min-resolution: 1.5dppx) 387px, 704px\" src=\"https://mintcdn.com/langchain-5e9cc07a/I6RpA28iE233vhYX/images/rag_indexing.png?fit=max&amp;auto=format&amp;n=I6RpA28iE233vhYX&amp;q=85&amp;s=21403ce0d0c772da84dcc5b75cff4451\" srcset=\"https://mintcdn.com/langchain-5e9cc07a/I6RpA28iE233vhYX/images/rag_indexing.png?w=280&amp;fit=max&amp;auto=format&amp;n=I6RpA28iE233vhYX&amp;q=85&amp;s=bf4eb8255b82a809dbbd2bc2a96d2ed7 280w, https://mintcdn.com/langchain-5e9cc07a/I6RpA28iE233vhYX/images/rag_indexing.png?w=560&amp;fit=max&amp;auto=format&amp;n=I6RpA28iE233vhYX&amp;q=85&amp;s=4ebc538b2c4765b609f416025e4dbbda 560w, https://mintcdn.com/langchain-5e9cc07a/I6RpA28iE233vhYX/images/rag_indexing.png?w=840&amp;fit=max&amp;auto=format&amp;n=I6RpA28iE233vhYX&amp;q=85&amp;s=1838328a870c7353c42bf1cc2290a779 840w, https://mintcdn.com/langchain-5e9cc07a/I6RpA28iE233vhYX/images/rag_indexing.png?w=1100&amp;fit=max&amp;auto=format&amp;n=I6RpA28iE233vhYX&amp;q=85&amp;s=675f55e100bab5e2904d27db01775ccc 1100w, https://mintcdn.com/langchain-5e9cc07a/I6RpA28iE233vhYX/images/rag_indexing.png?w=1650&amp;fit=max&amp;auto=format&amp;n=I6RpA28iE233vhYX&amp;q=85&amp;s=4b9e544a7a3ec168651558bce854eb60 1650w, https://mintcdn.com/langchain-5e9cc07a/I6RpA28iE233vhYX/images/rag_indexing.png?w=2500&amp;fit=max&amp;auto=format&amp;n=I6RpA28iE233vhYX&amp;q=85&amp;s=f5aeaaaea103128f374c03b05a317263 2500w\" style=\"aspect-ratio:2583 / 1299\" width=\"2583\"/></picture></span></span>\n<h3 class=\"flex whitespace-pre-wrap group font-semibold\" id=\"loading-documents\"><div class=\"absolute\" tabindex=\"-1\"><a aria-label=\"Navigate to header\" class=\"-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100 focus:opacity-100 focus:outline-0 group/link\" href=\"https://python.langchain.com/docs/tutorials/rag/#loading-documents\" target=\"_blank\">​<div class=\"w-6 h-6 rounded-md flex items-center justify-center shadow-sm text-gray-400 dark:text-white/50 dark:bg-background-dark dark:brightness-[1.35] dark:ring-1 dark:hover:brightness-150 bg-white ring-1 ring-gray-400/30 dark:ring-gray-700/25 hover:ring-gray-400/60 dark:hover:ring-white/20 group-focus/link:border-2 group-focus/link:border-primary dark:group-focus/link:border-primary-light\"><svg fill=\"gray\" height=\"12px\" viewbox=\"0 0 576 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 256C0 167.6 71.6 96 160 96h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C98.1 144 48 194.1 48 256s50.1 112 112 112h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C71.6 416 0 344.4 0 256zm576 0c0 88.4-71.6 160-160 160H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c61.9 0 112-50.1 112-112s-50.1-112-112-112H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c88.4 0 160 71.6 160 160zM184 232H392c13.3 0 24 10.7 24 24s-10.7 24-24 24H184c-13.3 0-24-10.7-24-24s10.7-24 24-24z\"></path></svg></div></a></div><span class=\"cursor-pointer\">Loading documents</span></h3>\n<span data-as=\"p\">We need to first load the blog post contents. We can use <a class=\"link\" href=\"https://python.langchain.com/oss/python/langchain/retrieval#document_loaders\" target=\"_blank\">DocumentLoaders</a> for this, which are objects that load in data from a source and return a list of <a class=\"link\" href=\"https://reference.langchain.com/python/langchain_core/documents/#langchain_core.documents.base.Document\" rel=\"noreferrer\" target=\"_blank\">Document</a> objects.</span>\n<span data-as=\"p\">In this case we’ll use the <a class=\"link\" href=\"https://python.langchain.com/oss/python/integrations/document_loaders/web_base\" target=\"_blank\"><code>WebBaseLoader</code></a>, which uses <code>urllib</code> to load HTML from web URLs and <code>BeautifulSoup</code> to parse it to text. We can customize the HTML -&gt; text parsing by passing in parameters into the <code>BeautifulSoup</code> parser via <code>bs_kwargs</code> (see <a class=\"link\" href=\"https://beautiful-soup-4.readthedocs.io/en/latest/#beautifulsoup\" rel=\"noreferrer\" target=\"_blank\">BeautifulSoup docs</a>). In this case only HTML tags with class “post-content”, “post-title”, or “post-header” are relevant, so we’ll remove all others.</span>\n<div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"13\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"13\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> bs4</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain_community.document_loaders </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> WebBaseLoader</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#6E7781;--shiki-dark:#6A9955\"># Only keep post title, headers, and content from the full HTML.</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">bs4_strainer </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> bs4.SoupStrainer(</span><span style=\"color:#953800;--shiki-dark:#9CDCFE\">class_</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">(</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"post-title\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">, </span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"post-header\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">, </span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"post-content\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">))</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">loader </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> WebBaseLoader(</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    web_paths</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">(</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"https://lilianweng.github.io/posts/2023-06-23-agent/\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">,),</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    bs_kwargs</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">{</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"parse_only\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">: bs4_strainer},</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">docs </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> loader.load()</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">assert</span><span style=\"color:#0550AE;--shiki-dark:#DCDCAA\"> len</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">(docs) </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">==</span><span style=\"color:#0550AE;--shiki-dark:#B5CEA8\"> 1</span></span>\n<span class=\"line\"><span style=\"color:#0550AE;--shiki-dark:#DCDCAA\">print</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">(</span><span style=\"color:#CF222E;--shiki-dark:#569CD6\">f</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"Total characters: </span><span style=\"color:#CF222E;--shiki-dark:#569CD6\">{</span><span style=\"color:#0550AE;--shiki-dark:#DCDCAA\">len</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">(docs[</span><span style=\"color:#0550AE;--shiki-dark:#B5CEA8\">0</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">].page_content)</span><span style=\"color:#CF222E;--shiki-dark:#569CD6\">}</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div>\n<div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"text\" numberoflines=\"2\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"text\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"text\" numberoflines=\"2\"><span class=\"line\"><span>Total characters: 43131</span></span>\n<span class=\"line\"><span></span></span></code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div>\n<div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"1\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"1\"><span class=\"line\"><span style=\"color:#0550AE;--shiki-dark:#DCDCAA\">print</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">(docs[</span><span style=\"color:#0550AE;--shiki-dark:#B5CEA8\">0</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">].page_content[:</span><span style=\"color:#0550AE;--shiki-dark:#B5CEA8\">500</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">])</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div>\n<div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"text\" numberoflines=\"9\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"text\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"text\" numberoflines=\"9\"><span class=\"line\"><span>      LLM Powered Autonomous Agents</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>Date: June 23, 2023  |  Estimated Reading Time: 31 min  |  Author: Lilian Weng</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>Building agents with LLM (large language model) as its core controller is a cool concept. Several proof-of-concepts demos, such as AutoGPT, GPT-Engineer and BabyAGI, serve as inspiring examples. The potentiality of LLM extends beyond generating well-written copies, stories, essays and programs; it can be framed as a powerful general problem solver.</span></span>\n<span class=\"line\"><span>Agent System Overview#</span></span>\n<span class=\"line\"><span>In</span></span>\n<span class=\"line\"><span></span></span></code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div>\n<span data-as=\"p\"><strong>Go deeper</strong></span>\n<span data-as=\"p\"><code>DocumentLoader</code>: Object that loads data from a source as list of <code>Documents</code>.</span>\n<ul>\n<li><a class=\"link\" href=\"https://python.langchain.com/oss/python/integrations/document_loaders\" target=\"_blank\">Integrations</a>: 160+ integrations to choose from.</li>\n<li><a class=\"link\" href=\"https://reference.langchain.com/python/langchain_core/document_loaders/#langchain_core.document_loaders.BaseLoader\" rel=\"noreferrer\" target=\"_blank\"><code>BaseLoader</code></a>: API reference for the base interface.</li>\n</ul>\n<h3 class=\"flex whitespace-pre-wrap group font-semibold\" id=\"splitting-documents\"><div class=\"absolute\" tabindex=\"-1\"><a aria-label=\"Navigate to header\" class=\"-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100 focus:opacity-100 focus:outline-0 group/link\" href=\"https://python.langchain.com/docs/tutorials/rag/#splitting-documents\" target=\"_blank\">​<div class=\"w-6 h-6 rounded-md flex items-center justify-center shadow-sm text-gray-400 dark:text-white/50 dark:bg-background-dark dark:brightness-[1.35] dark:ring-1 dark:hover:brightness-150 bg-white ring-1 ring-gray-400/30 dark:ring-gray-700/25 hover:ring-gray-400/60 dark:hover:ring-white/20 group-focus/link:border-2 group-focus/link:border-primary dark:group-focus/link:border-primary-light\"><svg fill=\"gray\" height=\"12px\" viewbox=\"0 0 576 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 256C0 167.6 71.6 96 160 96h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C98.1 144 48 194.1 48 256s50.1 112 112 112h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C71.6 416 0 344.4 0 256zm576 0c0 88.4-71.6 160-160 160H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c61.9 0 112-50.1 112-112s-50.1-112-112-112H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c88.4 0 160 71.6 160 160zM184 232H392c13.3 0 24 10.7 24 24s-10.7 24-24 24H184c-13.3 0-24-10.7-24-24s10.7-24 24-24z\"></path></svg></div></a></div><span class=\"cursor-pointer\">Splitting documents</span></h3>\n<span data-as=\"p\">Our loaded document is over 42k characters which is too long to fit into the context window of many models. Even for those models that could fit the full post in their context window, models can struggle to find information in very long inputs.</span>\n<span data-as=\"p\">To handle this we’ll split the <a class=\"link\" href=\"https://reference.langchain.com/python/langchain_core/documents/#langchain_core.documents.base.Document\" rel=\"noreferrer\" target=\"_blank\"><code>Document</code></a> into chunks for embedding and vector storage. This should help us retrieve only the most relevant parts of the blog post at run time.</span>\n<span data-as=\"p\">As in the <a class=\"link\" href=\"https://python.langchain.com/oss/python/langchain/knowledge-base\" target=\"_blank\">semantic search tutorial</a>, we use a <code>RecursiveCharacterTextSplitter</code>, which will recursively split the document using common separators like new lines until each chunk is the appropriate size. This is the recommended text splitter for generic text use cases.</span>\n<div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"10\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"10\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain_text_splitters </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> RecursiveCharacterTextSplitter</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">text_splitter </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> RecursiveCharacterTextSplitter(</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    chunk_size</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0550AE;--shiki-dark:#B5CEA8\">1000</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">,  </span><span style=\"color:#6E7781;--shiki-dark:#6A9955\"># chunk size (characters)</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    chunk_overlap</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0550AE;--shiki-dark:#B5CEA8\">200</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">,  </span><span style=\"color:#6E7781;--shiki-dark:#6A9955\"># chunk overlap (characters)</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    add_start_index</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0550AE;--shiki-dark:#569CD6\">True</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">,  </span><span style=\"color:#6E7781;--shiki-dark:#6A9955\"># track index in original document</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">all_splits </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> text_splitter.split_documents(docs)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#0550AE;--shiki-dark:#DCDCAA\">print</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">(</span><span style=\"color:#CF222E;--shiki-dark:#569CD6\">f</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"Split blog post into </span><span style=\"color:#CF222E;--shiki-dark:#569CD6\">{</span><span style=\"color:#0550AE;--shiki-dark:#DCDCAA\">len</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">(all_splits)</span><span style=\"color:#CF222E;--shiki-dark:#569CD6\">}</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> sub-documents.\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div>\n<div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"text\" numberoflines=\"2\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"text\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"text\" numberoflines=\"2\"><span class=\"line\"><span>Split blog post into 66 sub-documents.</span></span>\n<span class=\"line\"><span></span></span></code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div>\n<span data-as=\"p\"><strong>Go deeper</strong></span>\n<span data-as=\"p\"><code>TextSplitter</code>: Object that splits a list of <a class=\"link\" href=\"https://reference.langchain.com/python/langchain_core/documents/#langchain_core.documents.base.Document\" rel=\"noreferrer\" target=\"_blank\"><code>Document</code></a> objects into smaller\nchunks for storage and retrieval.</span>\n<ul>\n<li><a class=\"link\" href=\"https://python.langchain.com/oss/python/integrations/splitters\" target=\"_blank\">Integrations</a></li>\n<li><a class=\"link\" href=\"https://python.langchain.com/api_reference/text_splitters/base/langchain_text_splitters.base.TextSplitter.html\" rel=\"noreferrer\" target=\"_blank\">Interface</a>: API reference for the base interface.</li>\n</ul>\n<h3 class=\"flex whitespace-pre-wrap group font-semibold\" id=\"storing-documents\"><div class=\"absolute\" tabindex=\"-1\"><a aria-label=\"Navigate to header\" class=\"-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100 focus:opacity-100 focus:outline-0 group/link\" href=\"https://python.langchain.com/docs/tutorials/rag/#storing-documents\" target=\"_blank\">​<div class=\"w-6 h-6 rounded-md flex items-center justify-center shadow-sm text-gray-400 dark:text-white/50 dark:bg-background-dark dark:brightness-[1.35] dark:ring-1 dark:hover:brightness-150 bg-white ring-1 ring-gray-400/30 dark:ring-gray-700/25 hover:ring-gray-400/60 dark:hover:ring-white/20 group-focus/link:border-2 group-focus/link:border-primary dark:group-focus/link:border-primary-light\"><svg fill=\"gray\" height=\"12px\" viewbox=\"0 0 576 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 256C0 167.6 71.6 96 160 96h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C98.1 144 48 194.1 48 256s50.1 112 112 112h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C71.6 416 0 344.4 0 256zm576 0c0 88.4-71.6 160-160 160H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c61.9 0 112-50.1 112-112s-50.1-112-112-112H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c88.4 0 160 71.6 160 160zM184 232H392c13.3 0 24 10.7 24 24s-10.7 24-24 24H184c-13.3 0-24-10.7-24-24s10.7-24 24-24z\"></path></svg></div></a></div><span class=\"cursor-pointer\">Storing documents</span></h3>\n<span data-as=\"p\">Now we need to index our 66 text chunks so that we can search over them at runtime. Following the <a class=\"link\" href=\"https://python.langchain.com/oss/python/langchain/knowledge-base\" target=\"_blank\">semantic search tutorial</a>, our approach is to <a class=\"link\" href=\"https://python.langchain.com/oss/python/langchain/retrieval#embedding_models/\" target=\"_blank\">embed</a> the contents of each document split and insert these embeddings into a <a class=\"link\" href=\"https://python.langchain.com/oss/python/langchain/retrieval#vectorstores/\" target=\"_blank\">vector store</a>. Given an input query, we can then use vector search to retrieve relevant documents.</span>\n<span data-as=\"p\">We can embed and store all of our document splits in a single command using the vector store and embeddings model selected at the <a class=\"link\" href=\"https://python.langchain.com/oss/python/langchain/rag#components\" target=\"_blank\">start of the tutorial</a>.</span>\n<div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"3\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"3\"><span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">document_ids </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> vector_store.add_documents(</span><span style=\"color:#953800;--shiki-dark:#9CDCFE\">documents</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">all_splits)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#0550AE;--shiki-dark:#DCDCAA\">print</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">(document_ids[:</span><span style=\"color:#0550AE;--shiki-dark:#B5CEA8\">3</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">])</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div>\n<div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"1\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"1\"><span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">[</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">'07c18af6-ad58-479a-bfb1-d508033f9c64'</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">, </span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">'9000bf8e-1993-446f-8d4d-f4e507ba4b8f'</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">, </span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">'ba3b5d14-bed9-4f5f-88be-44c88aedc2e6'</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">]</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div>\n<span data-as=\"p\"><strong>Go deeper</strong></span>\n<span data-as=\"p\"><code>Embeddings</code>: Wrapper around a text embedding model, used for converting text to embeddings.</span>\n<ul>\n<li><a class=\"link\" href=\"https://python.langchain.com/oss/python/integrations/text_embedding\" target=\"_blank\">Integrations</a>: 30+ integrations to choose from.</li>\n<li><a class=\"link\" href=\"https://reference.langchain.com/python/langchain_core/embeddings/#langchain_core.embeddings.embeddings.Embeddings\" rel=\"noreferrer\" target=\"_blank\">Interface</a>: API reference for the base interface.</li>\n</ul>\n<span data-as=\"p\"><code>VectorStore</code>: Wrapper around a vector database, used for storing and querying embeddings.</span>\n<ul>\n<li><a class=\"link\" href=\"https://python.langchain.com/oss/python/integrations/vectorstores\" target=\"_blank\">Integrations</a>: 40+ integrations to choose from.</li>\n<li><a class=\"link\" href=\"https://python.langchain.com/api_reference/core/vectorstores/langchain_core.vectorstores.base.VectorStore.html\" rel=\"noreferrer\" target=\"_blank\">Interface</a>: API reference for the base interface.</li>\n</ul>\n<span data-as=\"p\">This completes the <strong>Indexing</strong> portion of the pipeline. At this point we have a query-able vector store containing the chunked contents of our blog post. Given a user question, we should ideally be able to return the snippets of the blog post that answer the question.</span>\n<h2 class=\"flex whitespace-pre-wrap group font-semibold\" id=\"2-retrieval-and-generation\"><div class=\"absolute\" tabindex=\"-1\"><a aria-label=\"Navigate to header\" class=\"-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100 focus:opacity-100 focus:outline-0 group/link\" href=\"https://python.langchain.com/docs/tutorials/rag/#2-retrieval-and-generation\" target=\"_blank\">​<div class=\"w-6 h-6 rounded-md flex items-center justify-center shadow-sm text-gray-400 dark:text-white/50 dark:bg-background-dark dark:brightness-[1.35] dark:ring-1 dark:hover:brightness-150 bg-white ring-1 ring-gray-400/30 dark:ring-gray-700/25 hover:ring-gray-400/60 dark:hover:ring-white/20 group-focus/link:border-2 group-focus/link:border-primary dark:group-focus/link:border-primary-light\"><svg fill=\"gray\" height=\"12px\" viewbox=\"0 0 576 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 256C0 167.6 71.6 96 160 96h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C98.1 144 48 194.1 48 256s50.1 112 112 112h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C71.6 416 0 344.4 0 256zm576 0c0 88.4-71.6 160-160 160H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c61.9 0 112-50.1 112-112s-50.1-112-112-112H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c88.4 0 160 71.6 160 160zM184 232H392c13.3 0 24 10.7 24 24s-10.7 24-24 24H184c-13.3 0-24-10.7-24-24s10.7-24 24-24z\"></path></svg></div></a></div><span class=\"cursor-pointer\">2. Retrieval and Generation</span></h2>\n<span data-as=\"p\">RAG applications commonly work as follows:</span>\n<ol>\n<li><strong>Retrieve</strong>: Given a user input, relevant splits are retrieved from storage using a <a class=\"link\" href=\"https://python.langchain.com/oss/python/langchain/retrieval#retrievers\" target=\"_blank\">Retriever</a>.</li>\n<li><strong>Generate</strong>: A <a class=\"link\" href=\"https://python.langchain.com/oss/python/langchain/models\" target=\"_blank\">model</a> produces an answer using a prompt that includes both the question with the retrieved data</li>\n</ol>\n<span aria-owns=\"rmiz-modal-\" data-rmiz=\"\"><span data-rmiz-content=\"not-found\" style=\"visibility:visible\"><picture class=\"contents\"><img alt=\"retrieval_diagram\" class=\"object-contain\" data-optimize=\"true\" data-path=\"images/rag_retrieval_generation.png\" decoding=\"async\" height=\"1299\" sizes=\"(max-width: 1024px) and (min-resolution: 2.5dppx) 37vw, (max-width: 1024px) and (min-resolution: 1.5dppx) 55vw, (max-width: 1024px) 100vw, (min-resolution: 2.5dppx) 258px, (min-resolution: 1.5dppx) 387px, 704px\" src=\"https://mintcdn.com/langchain-5e9cc07a/I6RpA28iE233vhYX/images/rag_retrieval_generation.png?fit=max&amp;auto=format&amp;n=I6RpA28iE233vhYX&amp;q=85&amp;s=994c3585cece93c80873d369960afd44\" srcset=\"https://mintcdn.com/langchain-5e9cc07a/I6RpA28iE233vhYX/images/rag_retrieval_generation.png?w=280&amp;fit=max&amp;auto=format&amp;n=I6RpA28iE233vhYX&amp;q=85&amp;s=3bd28b3662e08c8364b60b74f510751e 280w, https://mintcdn.com/langchain-5e9cc07a/I6RpA28iE233vhYX/images/rag_retrieval_generation.png?w=560&amp;fit=max&amp;auto=format&amp;n=I6RpA28iE233vhYX&amp;q=85&amp;s=43484903ca631a47a54e86191eb5ba22 560w, https://mintcdn.com/langchain-5e9cc07a/I6RpA28iE233vhYX/images/rag_retrieval_generation.png?w=840&amp;fit=max&amp;auto=format&amp;n=I6RpA28iE233vhYX&amp;q=85&amp;s=67fe2302e241fc24238a5df1cf56573d 840w, https://mintcdn.com/langchain-5e9cc07a/I6RpA28iE233vhYX/images/rag_retrieval_generation.png?w=1100&amp;fit=max&amp;auto=format&amp;n=I6RpA28iE233vhYX&amp;q=85&amp;s=d390a6a758e688ec36352d30b22249b0 1100w, https://mintcdn.com/langchain-5e9cc07a/I6RpA28iE233vhYX/images/rag_retrieval_generation.png?w=1650&amp;fit=max&amp;auto=format&amp;n=I6RpA28iE233vhYX&amp;q=85&amp;s=59729377317a0631598b6a4a2a7d8c92 1650w, https://mintcdn.com/langchain-5e9cc07a/I6RpA28iE233vhYX/images/rag_retrieval_generation.png?w=2500&amp;fit=max&amp;auto=format&amp;n=I6RpA28iE233vhYX&amp;q=85&amp;s=c07711c71153c3b2dfd5b0104ad3e324 2500w\" style=\"aspect-ratio:2532 / 1299\" width=\"2532\"/></picture></span></span>\n<span data-as=\"p\">Now let’s write the actual application logic. We want to create a simple application that takes a user question, searches for documents relevant to that question, passes the retrieved documents and initial question to a model, and returns an answer.</span>\n<span data-as=\"p\">We will demonstrate:</span>\n<ol>\n<li>A RAG <a class=\"link\" href=\"https://python.langchain.com/docs/tutorials/rag/#rag-agents\" target=\"_blank\">agent</a> that executes searches with a simple tool. This is a good general-purpose implementation.</li>\n<li>A two-step RAG <a class=\"link\" href=\"https://python.langchain.com/docs/tutorials/rag/#rag-chains\" target=\"_blank\">chain</a> that uses just a single LLM call per query. This is a fast and effective method for simple queries.</li>\n</ol>\n<h3 class=\"flex whitespace-pre-wrap group font-semibold\" id=\"rag-agents\"><div class=\"absolute\" tabindex=\"-1\"><a aria-label=\"Navigate to header\" class=\"-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100 focus:opacity-100 focus:outline-0 group/link\" href=\"https://python.langchain.com/docs/tutorials/rag/#rag-agents\" target=\"_blank\">​<div class=\"w-6 h-6 rounded-md flex items-center justify-center shadow-sm text-gray-400 dark:text-white/50 dark:bg-background-dark dark:brightness-[1.35] dark:ring-1 dark:hover:brightness-150 bg-white ring-1 ring-gray-400/30 dark:ring-gray-700/25 hover:ring-gray-400/60 dark:hover:ring-white/20 group-focus/link:border-2 group-focus/link:border-primary dark:group-focus/link:border-primary-light\"><svg fill=\"gray\" height=\"12px\" viewbox=\"0 0 576 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 256C0 167.6 71.6 96 160 96h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C98.1 144 48 194.1 48 256s50.1 112 112 112h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C71.6 416 0 344.4 0 256zm576 0c0 88.4-71.6 160-160 160H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c61.9 0 112-50.1 112-112s-50.1-112-112-112H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c88.4 0 160 71.6 160 160zM184 232H392c13.3 0 24 10.7 24 24s-10.7 24-24 24H184c-13.3 0-24-10.7-24-24s10.7-24 24-24z\"></path></svg></div></a></div><span class=\"cursor-pointer\">RAG agents</span></h3>\n<span data-as=\"p\">One formulation of a RAG application is as a simple <a class=\"link\" href=\"https://python.langchain.com/oss/python/langchain/agents\" target=\"_blank\">agent</a> with a tool that retrieves information. We can assemble a minimal RAG agent by implementing a <a class=\"link\" href=\"https://python.langchain.com/oss/python/langchain/tools\" target=\"_blank\">tool</a> that wraps our vector store:</span>\n<div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"11\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"11\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain.tools </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> tool</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#8250DF;--shiki-dark:#DCDCAA\">@tool</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">(</span><span style=\"color:#953800;--shiki-dark:#9CDCFE\">response_format</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"content_and_artifact\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#569CD6\">def</span><span style=\"color:#8250DF;--shiki-dark:#DCDCAA\"> retrieve_context</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">(</span><span style=\"color:#1F2328;--shiki-dark:#9CDCFE\">query</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">: </span><span style=\"color:#0550AE;--shiki-dark:#4EC9B0\">str</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">):</span></span>\n<span class=\"line\"><span style=\"color:#0A3069;--shiki-dark:#CE9178\">    \"\"\"Retrieve information to help answer a query.\"\"\"</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">    retrieved_docs </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> vector_store.similarity_search(query, </span><span style=\"color:#953800;--shiki-dark:#9CDCFE\">k</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0550AE;--shiki-dark:#B5CEA8\">2</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">    serialized </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> \"</span><span style=\"color:#CF222E;--shiki-dark:#D7BA7D\">\\n\\n</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">.join(</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">        (</span><span style=\"color:#CF222E;--shiki-dark:#569CD6\">f</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"Source: </span><span style=\"color:#CF222E;--shiki-dark:#569CD6\">{</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">doc.metadata</span><span style=\"color:#CF222E;--shiki-dark:#569CD6\">}</span><span style=\"color:#CF222E;--shiki-dark:#D7BA7D\">\\n</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">Content: </span><span style=\"color:#CF222E;--shiki-dark:#569CD6\">{</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">doc.page_content</span><span style=\"color:#CF222E;--shiki-dark:#569CD6\">}</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">        for</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> doc </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">in</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> retrieved_docs</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">    )</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">    return</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> serialized, retrieved_docs</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div>\n<div class=\"callout my-4 px-5 py-4 overflow-hidden rounded-2xl flex gap-3 border border-emerald-500/20 bg-emerald-50/50 dark:border-emerald-500/30 dark:bg-emerald-500/10 [&amp;_[data-component-part='callout-icon']]:mt-px\" data-callout-type=\"tip\"><div class=\"mt-0.5 w-4\" data-component-part=\"callout-icon\"><svg aria-label=\"Tip\" class=\"text-emerald-600 dark:text-emerald-400/80 w-3.5 h-auto\" fill=\"currentColor\" height=\"14\" viewbox=\"0 0 11 14\" width=\"11\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M3.12794 12.4232C3.12794 12.5954 3.1776 12.7634 3.27244 12.907L3.74114 13.6095C3.88471 13.8248 4.21067 14 4.46964 14H6.15606C6.41415 14 6.74017 13.825 6.88373 13.6095L7.3508 12.9073C7.43114 12.7859 7.49705 12.569 7.49705 12.4232L7.50055 11.3513H3.12521L3.12794 12.4232ZM5.31288 0C2.52414 0.00875889 0.5 2.26889 0.5 4.78826C0.5 6.00188 0.949566 7.10829 1.69119 7.95492C2.14321 8.47011 2.84901 9.54727 3.11919 10.4557C3.12005 10.4625 3.12175 10.4698 3.12261 10.4771H7.50342C7.50427 10.4698 7.50598 10.463 7.50684 10.4557C7.77688 9.54727 8.48281 8.47011 8.93484 7.95492C9.67728 7.13181 10.1258 6.02703 10.1258 4.78826C10.1258 2.15486 7.9709 0.000106649 5.31288 0ZM7.94902 7.11267C7.52078 7.60079 6.99082 8.37878 6.6077 9.18794H4.02051C3.63739 8.37878 3.10743 7.60079 2.67947 7.11294C2.11997 6.47551 1.8126 5.63599 1.8126 4.78826C1.8126 3.09829 3.12794 1.31944 5.28827 1.3126C7.2435 1.3126 8.81315 2.88226 8.81315 4.78826C8.81315 5.63599 8.50688 6.47551 7.94902 7.11267ZM4.87534 2.18767C3.66939 2.18767 2.68767 3.16939 2.68767 4.37534C2.68767 4.61719 2.88336 4.81288 3.12521 4.81288C3.36705 4.81288 3.56274 4.61599 3.56274 4.37534C3.56274 3.6515 4.1515 3.06274 4.87534 3.06274C5.11719 3.06274 5.31288 2.86727 5.31288 2.62548C5.31288 2.38369 5.11599 2.18767 4.87534 2.18767Z\"></path></svg></div><div class=\"text-sm prose dark:prose-invert min-w-0 w-full [&amp;_kbd]:bg-background-light dark:[&amp;_kbd]:bg-background-dark [&amp;_code]:!text-current [&amp;_kbd]:!text-current [&amp;_a]:!text-current [&amp;_a]:border-current text-emerald-900 dark:text-emerald-200\" data-component-part=\"callout-content\"><span data-as=\"p\">Here we use the <a class=\"link\" href=\"https://reference.langchain.com/python/langchain/tools/#langchain.tools.tool\" rel=\"noreferrer\" target=\"_blank\">tool decorator</a> to configure the tool to attach raw documents as <a class=\"link\" href=\"https://python.langchain.com/oss/python/langchain/messages#param-artifact\" target=\"_blank\">artifacts</a> to each <a class=\"link\" href=\"https://python.langchain.com/oss/python/langchain/messages#tool-message\" target=\"_blank\">ToolMessage</a>. This will let us access document metadata in our application, separate from the stringified representation that is sent to the model.</span></div></div>\n<div class=\"callout my-4 px-5 py-4 overflow-hidden rounded-2xl flex gap-3 border border-emerald-500/20 bg-emerald-50/50 dark:border-emerald-500/30 dark:bg-emerald-500/10 [&amp;_[data-component-part='callout-icon']]:mt-px\" data-callout-type=\"tip\"><div class=\"mt-0.5 w-4\" data-component-part=\"callout-icon\"><svg aria-label=\"Tip\" class=\"text-emerald-600 dark:text-emerald-400/80 w-3.5 h-auto\" fill=\"currentColor\" height=\"14\" viewbox=\"0 0 11 14\" width=\"11\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M3.12794 12.4232C3.12794 12.5954 3.1776 12.7634 3.27244 12.907L3.74114 13.6095C3.88471 13.8248 4.21067 14 4.46964 14H6.15606C6.41415 14 6.74017 13.825 6.88373 13.6095L7.3508 12.9073C7.43114 12.7859 7.49705 12.569 7.49705 12.4232L7.50055 11.3513H3.12521L3.12794 12.4232ZM5.31288 0C2.52414 0.00875889 0.5 2.26889 0.5 4.78826C0.5 6.00188 0.949566 7.10829 1.69119 7.95492C2.14321 8.47011 2.84901 9.54727 3.11919 10.4557C3.12005 10.4625 3.12175 10.4698 3.12261 10.4771H7.50342C7.50427 10.4698 7.50598 10.463 7.50684 10.4557C7.77688 9.54727 8.48281 8.47011 8.93484 7.95492C9.67728 7.13181 10.1258 6.02703 10.1258 4.78826C10.1258 2.15486 7.9709 0.000106649 5.31288 0ZM7.94902 7.11267C7.52078 7.60079 6.99082 8.37878 6.6077 9.18794H4.02051C3.63739 8.37878 3.10743 7.60079 2.67947 7.11294C2.11997 6.47551 1.8126 5.63599 1.8126 4.78826C1.8126 3.09829 3.12794 1.31944 5.28827 1.3126C7.2435 1.3126 8.81315 2.88226 8.81315 4.78826C8.81315 5.63599 8.50688 6.47551 7.94902 7.11267ZM4.87534 2.18767C3.66939 2.18767 2.68767 3.16939 2.68767 4.37534C2.68767 4.61719 2.88336 4.81288 3.12521 4.81288C3.36705 4.81288 3.56274 4.61599 3.56274 4.37534C3.56274 3.6515 4.1515 3.06274 4.87534 3.06274C5.11719 3.06274 5.31288 2.86727 5.31288 2.62548C5.31288 2.38369 5.11599 2.18767 4.87534 2.18767Z\"></path></svg></div><div class=\"text-sm prose dark:prose-invert min-w-0 w-full [&amp;_kbd]:bg-background-light dark:[&amp;_kbd]:bg-background-dark [&amp;_code]:!text-current [&amp;_kbd]:!text-current [&amp;_a]:!text-current [&amp;_a]:border-current text-emerald-900 dark:text-emerald-200\" data-component-part=\"callout-content\"><span data-as=\"p\">Retrieval tools are not limited to a single string <code>query</code> argument, as in the above example. You can\nforce the LLM to specify additional search parameters by adding arguments— for example, a category:</span><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"3\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"3\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> typing </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> Literal</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#569CD6\">def</span><span style=\"color:#8250DF;--shiki-dark:#DCDCAA\"> retrieve_context</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">(</span><span style=\"color:#1F2328;--shiki-dark:#9CDCFE\">query</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">: </span><span style=\"color:#0550AE;--shiki-dark:#4EC9B0\">str</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">, </span><span style=\"color:#1F2328;--shiki-dark:#9CDCFE\">section</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">: Literal[</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"beginning\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">, </span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"middle\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">, </span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"end\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">]):</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div></div></div>\n<span data-as=\"p\">Given our tool, we can construct the agent:</span>\n<div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"10\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"10\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain.agents </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> create_agent</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">tools </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> [retrieve_context]</span></span>\n<span class=\"line\"><span style=\"color:#6E7781;--shiki-dark:#6A9955\"># If desired, specify custom instructions</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">prompt </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> (</span></span>\n<span class=\"line\"><span style=\"color:#0A3069;--shiki-dark:#CE9178\">    \"You have access to a tool that retrieves context from a blog post. \"</span></span>\n<span class=\"line\"><span style=\"color:#0A3069;--shiki-dark:#CE9178\">    \"Use the tool to help answer user queries.\"</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">agent </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> create_agent(model, tools, </span><span style=\"color:#953800;--shiki-dark:#9CDCFE\">system_prompt</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">prompt)</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div>\n<span data-as=\"p\">Let’s test this out. We construct a question that would typically require an iterative sequence of retrieval steps to answer:</span>\n<div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"10\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"10\"><span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">query </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> (</span></span>\n<span class=\"line\"><span style=\"color:#0A3069;--shiki-dark:#CE9178\">    \"What is the standard method for Task Decomposition?</span><span style=\"color:#CF222E;--shiki-dark:#D7BA7D\">\\n\\n</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"</span></span>\n<span class=\"line\"><span style=\"color:#0A3069;--shiki-dark:#CE9178\">    \"Once you get the answer, look up common extensions of that method.\"</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">for</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> event </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">in</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> agent.stream(</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">    {</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"messages\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">: [{</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"role\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">: </span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"user\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">, </span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"content\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">: query}]},</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    stream_mode</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"values\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">,</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">):</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">    event[</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"messages\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">][</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">-</span><span style=\"color:#0550AE;--shiki-dark:#B5CEA8\">1</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">].pretty_print()</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div>\n<div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"text\" numberoflines=\"37\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"text\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"text\" numberoflines=\"37\"><span class=\"line\"><span>================================ Human Message =================================</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>What is the standard method for Task Decomposition?</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>Once you get the answer, look up common extensions of that method.</span></span>\n<span class=\"line\"><span>================================== Ai Message ==================================</span></span>\n<span class=\"line\"><span>Tool Calls:</span></span>\n<span class=\"line\"><span>  retrieve_context (call_d6AVxICMPQYwAKj9lgH4E337)</span></span>\n<span class=\"line\"><span> Call ID: call_d6AVxICMPQYwAKj9lgH4E337</span></span>\n<span class=\"line\"><span>  Args:</span></span>\n<span class=\"line\"><span>    query: standard method for Task Decomposition</span></span>\n<span class=\"line\"><span>================================= Tool Message =================================</span></span>\n<span class=\"line\"><span>Name: retrieve_context</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>Source: {'source': 'https://lilianweng.github.io/posts/2023-06-23-agent/'}</span></span>\n<span class=\"line\"><span>Content: Task decomposition can be done...</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>Source: {'source': 'https://lilianweng.github.io/posts/2023-06-23-agent/'}</span></span>\n<span class=\"line\"><span>Content: Component One: Planning...</span></span>\n<span class=\"line\"><span>================================== Ai Message ==================================</span></span>\n<span class=\"line\"><span>Tool Calls:</span></span>\n<span class=\"line\"><span>  retrieve_context (call_0dbMOw7266jvETbXWn4JqWpR)</span></span>\n<span class=\"line\"><span> Call ID: call_0dbMOw7266jvETbXWn4JqWpR</span></span>\n<span class=\"line\"><span>  Args:</span></span>\n<span class=\"line\"><span>    query: common extensions of the standard method for Task Decomposition</span></span>\n<span class=\"line\"><span>================================= Tool Message =================================</span></span>\n<span class=\"line\"><span>Name: retrieve_context</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>Source: {'source': 'https://lilianweng.github.io/posts/2023-06-23-agent/'}</span></span>\n<span class=\"line\"><span>Content: Task decomposition can be done...</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>Source: {'source': 'https://lilianweng.github.io/posts/2023-06-23-agent/'}</span></span>\n<span class=\"line\"><span>Content: Component One: Planning...</span></span>\n<span class=\"line\"><span>================================== Ai Message ==================================</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>The standard method for Task Decomposition often used is the Chain of Thought (CoT)...</span></span>\n<span class=\"line\"><span></span></span></code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div>\n<span data-as=\"p\">Note that the agent:</span>\n<ol>\n<li>Generates a query to search for a standard method for task decomposition;</li>\n<li>Receiving the answer, generates a second query to search for common extensions of it;</li>\n<li>Having received all necessary context, answers the question.</li>\n</ol>\n<span data-as=\"p\">We can see the full sequence of steps, along with latency and other metadata, in the <a class=\"link\" href=\"https://smith.langchain.com/public/7b42d478-33d2-4631-90a4-7cb731681e88/r\" rel=\"noreferrer\" target=\"_blank\">LangSmith trace</a>.</span>\n<div class=\"callout my-4 px-5 py-4 overflow-hidden rounded-2xl flex gap-3 border border-emerald-500/20 bg-emerald-50/50 dark:border-emerald-500/30 dark:bg-emerald-500/10 [&amp;_[data-component-part='callout-icon']]:mt-px\" data-callout-type=\"tip\"><div class=\"mt-0.5 w-4\" data-component-part=\"callout-icon\"><svg aria-label=\"Tip\" class=\"text-emerald-600 dark:text-emerald-400/80 w-3.5 h-auto\" fill=\"currentColor\" height=\"14\" viewbox=\"0 0 11 14\" width=\"11\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M3.12794 12.4232C3.12794 12.5954 3.1776 12.7634 3.27244 12.907L3.74114 13.6095C3.88471 13.8248 4.21067 14 4.46964 14H6.15606C6.41415 14 6.74017 13.825 6.88373 13.6095L7.3508 12.9073C7.43114 12.7859 7.49705 12.569 7.49705 12.4232L7.50055 11.3513H3.12521L3.12794 12.4232ZM5.31288 0C2.52414 0.00875889 0.5 2.26889 0.5 4.78826C0.5 6.00188 0.949566 7.10829 1.69119 7.95492C2.14321 8.47011 2.84901 9.54727 3.11919 10.4557C3.12005 10.4625 3.12175 10.4698 3.12261 10.4771H7.50342C7.50427 10.4698 7.50598 10.463 7.50684 10.4557C7.77688 9.54727 8.48281 8.47011 8.93484 7.95492C9.67728 7.13181 10.1258 6.02703 10.1258 4.78826C10.1258 2.15486 7.9709 0.000106649 5.31288 0ZM7.94902 7.11267C7.52078 7.60079 6.99082 8.37878 6.6077 9.18794H4.02051C3.63739 8.37878 3.10743 7.60079 2.67947 7.11294C2.11997 6.47551 1.8126 5.63599 1.8126 4.78826C1.8126 3.09829 3.12794 1.31944 5.28827 1.3126C7.2435 1.3126 8.81315 2.88226 8.81315 4.78826C8.81315 5.63599 8.50688 6.47551 7.94902 7.11267ZM4.87534 2.18767C3.66939 2.18767 2.68767 3.16939 2.68767 4.37534C2.68767 4.61719 2.88336 4.81288 3.12521 4.81288C3.36705 4.81288 3.56274 4.61599 3.56274 4.37534C3.56274 3.6515 4.1515 3.06274 4.87534 3.06274C5.11719 3.06274 5.31288 2.86727 5.31288 2.62548C5.31288 2.38369 5.11599 2.18767 4.87534 2.18767Z\"></path></svg></div><div class=\"text-sm prose dark:prose-invert min-w-0 w-full [&amp;_kbd]:bg-background-light dark:[&amp;_kbd]:bg-background-dark [&amp;_code]:!text-current [&amp;_kbd]:!text-current [&amp;_a]:!text-current [&amp;_a]:border-current text-emerald-900 dark:text-emerald-200\" data-component-part=\"callout-content\"><span data-as=\"p\">You can add a deeper level of control and customization using the <a class=\"link\" href=\"https://python.langchain.com/oss/python/langgraph/overview\" target=\"_blank\">LangGraph</a> framework directly— for example, you can add steps to grade document relevance and rewrite search queries. Check out LangGraph’s <a class=\"link\" href=\"https://python.langchain.com/oss/python/langgraph/agentic-rag\" target=\"_blank\">Agentic RAG tutorial</a> for more advanced formulations.</span></div></div>\n<h3 class=\"flex whitespace-pre-wrap group font-semibold\" id=\"rag-chains\"><div class=\"absolute\" tabindex=\"-1\"><a aria-label=\"Navigate to header\" class=\"-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100 focus:opacity-100 focus:outline-0 group/link\" href=\"https://python.langchain.com/docs/tutorials/rag/#rag-chains\" target=\"_blank\">​<div class=\"w-6 h-6 rounded-md flex items-center justify-center shadow-sm text-gray-400 dark:text-white/50 dark:bg-background-dark dark:brightness-[1.35] dark:ring-1 dark:hover:brightness-150 bg-white ring-1 ring-gray-400/30 dark:ring-gray-700/25 hover:ring-gray-400/60 dark:hover:ring-white/20 group-focus/link:border-2 group-focus/link:border-primary dark:group-focus/link:border-primary-light\"><svg fill=\"gray\" height=\"12px\" viewbox=\"0 0 576 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 256C0 167.6 71.6 96 160 96h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C98.1 144 48 194.1 48 256s50.1 112 112 112h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C71.6 416 0 344.4 0 256zm576 0c0 88.4-71.6 160-160 160H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c61.9 0 112-50.1 112-112s-50.1-112-112-112H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c88.4 0 160 71.6 160 160zM184 232H392c13.3 0 24 10.7 24 24s-10.7 24-24 24H184c-13.3 0-24-10.7-24-24s10.7-24 24-24z\"></path></svg></div></a></div><span class=\"cursor-pointer\">RAG chains</span></h3>\n<span data-as=\"p\">In the above <a class=\"link\" href=\"https://python.langchain.com/docs/tutorials/rag/#rag-agents\" target=\"_blank\">agentic RAG</a> formulation we allow the LLM to use its discretion in generating a <a class=\"link\" href=\"https://python.langchain.com/oss/python/langchain/models#tool-calling\" target=\"_blank\">tool call</a> to help answer user queries. This is a good general-purpose solution, but comes with some trade-offs:</span>\n<div class=\"[--page-padding:20px] overflow-x-auto flex w-[calc(100%+(var(--page-padding)*2))] my-[1em] py-[1em] -mx-[var(--page-padding)] max-w-none [contain:inline-size]\" data-table-wrapper=\"true\"><div class=\"px-[var(--page-padding)] grow max-w-none table\"><table class=\"m-0 min-w-full w-full max-w-none table [&amp;_td]:min-w-[150px] [&amp;_th]:text-left [&amp;_td[data-numeric]]:tabular-nums\"><thead><tr><th>✅ Benefits</th><th>⚠️ Drawbacks</th></tr></thead><tbody><tr><td><strong>Search only when needed</strong> – The LLM can handle greetings, follow-ups, and simple queries without triggering unnecessary searches.</td><td><strong>Two inference calls</strong> – When a search is performed, it requires one call to generate the query and another to produce the final response.</td></tr><tr><td><strong>Contextual search queries</strong> – By treating search as a tool with a <code>query</code> input, the LLM crafts its own queries that incorporate conversational context.</td><td><strong>Reduced control</strong> – The LLM may skip searches when they are actually needed, or issue extra searches when unnecessary.</td></tr><tr><td><strong>Multiple searches allowed</strong> – The LLM can execute several searches in support of a single user query.</td><td></td></tr></tbody></table></div></div>\n<span data-as=\"p\">Another common approach is a two-step chain, in which we always run a search (potentially using the raw user query) and incorporate the result as context for a single LLM query. This results in a single inference call per query, buying reduced latency at the expense of flexibility.</span>\n<span data-as=\"p\">In this approach we no longer call the model in a loop, but instead make a single pass.</span>\n<span data-as=\"p\">We can implement this chain by removing tools from the agent and instead incorporating the retrieval step into a custom prompt:</span>\n<div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"19\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"19\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain.agents.middleware </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> dynamic_prompt, ModelRequest</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#8250DF;--shiki-dark:#DCDCAA\">@dynamic_prompt</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#569CD6\">def</span><span style=\"color:#8250DF;--shiki-dark:#DCDCAA\"> prompt_with_context</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">(</span><span style=\"color:#1F2328;--shiki-dark:#9CDCFE\">request</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">: ModelRequest) -&gt; </span><span style=\"color:#0550AE;--shiki-dark:#4EC9B0\">str</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">:</span></span>\n<span class=\"line\"><span style=\"color:#0A3069;--shiki-dark:#CE9178\">    \"\"\"Inject context into state messages.\"\"\"</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">    last_query </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> request.state[</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"messages\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">][</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">-</span><span style=\"color:#0550AE;--shiki-dark:#B5CEA8\">1</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">].text</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">    retrieved_docs </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> vector_store.similarity_search(last_query)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">    docs_content </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> \"</span><span style=\"color:#CF222E;--shiki-dark:#D7BA7D\">\\n\\n</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">.join(doc.page_content </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">for</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> doc </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">in</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> retrieved_docs)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">    system_message </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> (</span></span>\n<span class=\"line\"><span style=\"color:#0A3069;--shiki-dark:#CE9178\">        \"You are a helpful assistant. Use the following context in your response:\"</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#569CD6\">        f</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"</span><span style=\"color:#CF222E;--shiki-dark:#D7BA7D\">\\n\\n</span><span style=\"color:#CF222E;--shiki-dark:#569CD6\">{</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">docs_content</span><span style=\"color:#CF222E;--shiki-dark:#569CD6\">}</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">    )</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">    return</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> system_message</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">agent </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> create_agent(model, </span><span style=\"color:#953800;--shiki-dark:#9CDCFE\">tools</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">[], </span><span style=\"color:#953800;--shiki-dark:#9CDCFE\">middleware</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">[prompt_with_context])</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div>\n<span data-as=\"p\">Let’s try this out:</span>\n<div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"6\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"6\"><span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">query </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> \"What is task decomposition?\"</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">for</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> step </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">in</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> agent.stream(</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">    {</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"messages\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">: [{</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"role\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">: </span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"user\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">, </span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"content\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">: query}]},</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    stream_mode</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"values\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">,</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">):</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">    step[</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"messages\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">][</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">-</span><span style=\"color:#0550AE;--shiki-dark:#B5CEA8\">1</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">].pretty_print()</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div>\n<div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"text\" numberoflines=\"7\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"text\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"text\" numberoflines=\"7\"><span class=\"line\"><span>================================ Human Message =================================</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>What is task decomposition?</span></span>\n<span class=\"line\"><span>================================== Ai Message ==================================</span></span>\n<span class=\"line\"><span></span></span>\n<span class=\"line\"><span>Task decomposition is...</span></span>\n<span class=\"line\"><span></span></span></code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div>\n<span data-as=\"p\">In the <a class=\"link\" href=\"https://smith.langchain.com/public/0322904b-bc4c-4433-a568-54c6b31bbef4/r/9ef1c23e-380e-46bf-94b3-d8bb33df440c\" rel=\"noreferrer\" target=\"_blank\">LangSmith trace</a> we can see the retrieved context incorporated into the model prompt.</span>\n<span data-as=\"p\">This is a fast and effective method for simple queries in constrained settings, when we typically do want to run user queries through semantic search to pull additional context.</span>\n<details class=\"accordion border-standard rounded-2xl mb-3 overflow-hidden bg-background-light dark:bg-codeblock cursor-default\"><summary aria-controls=\"returning-source-documents accordion children\" aria-expanded=\"false\" class=\"relative not-prose flex flex-row items-center content-center w-full cursor-pointer list-none [&amp;::-webkit-details-marker]:hidden py-4 px-5 space-x-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded-t-xl\" data-component-part=\"accordion-button\"><div class=\"absolute -top-[8rem]\" id=\"returning-source-documents\"></div><div class=\"mr-0.5\" data-component-part=\"accordion-caret-right\"><svg class=\"h-3 w-3 transition bg-gray-700 dark:bg-gray-400 duration-75\" style=\"-webkit-mask-image:url(https://d3gk2c5xim1je2.cloudfront.net/v7.1.0/solid/caret-right.svg);-webkit-mask-repeat:no-repeat;-webkit-mask-position:center;mask-image:url(https://d3gk2c5xim1je2.cloudfront.net/v7.1.0/solid/caret-right.svg);mask-repeat:no-repeat;mask-position:center\"></svg></div><div class=\"leading-tight text-left\" contenteditable=\"false\" data-component-part=\"accordion-title-container\"><p class=\"m-0 font-medium text-gray-900 dark:text-gray-200\" data-component-part=\"accordion-title\">Returning source documents</p></div></summary><div aria-labelledby=\"returning-source-documents\" class=\"mt-2 mb-4 mx-6 prose prose-gray dark:prose-invert overflow-x-auto cursor-default\" data-component-part=\"accordion-content\" id=\"returning-source-documents accordion children\" role=\"region\"><span data-as=\"p\">The above <a class=\"link\" href=\"https://python.langchain.com/docs/tutorials/rag/#rag-chains\" target=\"_blank\">RAG chain</a> incorporates retrieved context into a single system message for that run.</span><span data-as=\"p\">As in the <a class=\"link\" href=\"https://python.langchain.com/docs/tutorials/rag/#rag-agents\" target=\"_blank\">agentic RAG</a> formulation, we sometimes want to include raw source documents in the application state to have access to document metadata. We can do this for the two-step chain case by:</span><ol>\n<li>Adding a key to the state to store the retrieved documents</li>\n<li>Adding a new node via a <a class=\"link\" href=\"https://python.langchain.com/oss/python/langchain/agents#pre-model-hook\" target=\"_blank\">pre-model hook</a> to populate that key (as well as inject the context).</li>\n</ol><div class=\"code-block mt-5 mb-8 not-prose rounded-2xl relative group text-gray-950 dark:text-gray-50 codeblock-light border border-gray-950/10 dark:border-white/10 dark:twoslash-dark bg-transparent dark:bg-transparent\" language=\"python\" numberoflines=\"34\"><div class=\"absolute top-3 right-4 flex items-center gap-1.5\" data-floating-buttons=\"true\"><div class=\"z-10 relative select-none\"><button aria-label=\"Copy the contents from the code block\" class=\"h-[26px] w-[26px] flex items-center justify-center rounded-md backdrop-blur peer group/copy-button\" data-testid=\"copy-code-button\"><svg class=\"w-4 h-4 text-gray-400 group-hover/copy-button:text-gray-500 dark:text-white/40 dark:group-hover/copy-button:text-white/60\" fill=\"none\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.25 5.25H7.25C6.14543 5.25 5.25 6.14543 5.25 7.25V14.25C5.25 15.3546 6.14543 16.25 7.25 16.25H14.25C15.3546 16.25 16.25 15.3546 16.25 14.25V7.25C16.25 6.14543 15.3546 5.25 14.25 5.25Z\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path><path d=\"M2.80103 11.998L1.77203 5.07397C1.61003 3.98097 2.36403 2.96397 3.45603 2.80197L10.38 1.77297C11.313 1.63397 12.19 2.16297 12.528 3.00097\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\"></path></svg></button><div aria-hidden=\"true\" class=\"absolute top-11 left-1/2 transform whitespace-nowrap -translate-x-1/2 -translate-y-1/2 peer-hover:opacity-100 opacity-0 text-tooltip-foreground rounded-lg px-1.5 py-0.5 text-xs bg-primary-dark\">Copy</div></div></div><div class=\"w-0 min-w-full max-w-full py-3.5 px-4 h-full dark:bg-codeblock relative text-sm leading-6 children:!my-0 children:!shadow-none children:!bg-transparent transition-[height] duration-300 ease-in-out code-block-background [&amp;_*]:ring-0 [&amp;_*]:outline-0 [&amp;_*]:focus:ring-0 [&amp;_*]:focus:outline-0 rounded-2xl bg-white overflow-x-auto scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-black/15 hover:scrollbar-thumb-black/20 active:scrollbar-thumb-black/20 dark:scrollbar-thumb-white/20 dark:hover:scrollbar-thumb-white/25 dark:active:scrollbar-thumb-white/25\" data-component-part=\"code-block-root\" style=\"font-variant-ligatures:none;height:auto;background-color:#ffffff;--shiki-dark-bg:#0B0C0E\" tabindex=\"0\"><div class=\"font-mono whitespace-pre leading-6\"><pre class=\"shiki shiki-themes github-light-default dark-plus\" language=\"python\" style=\"background-color:#ffffff;--shiki-dark-bg:#0B0C0E;color:#1f2328;--shiki-dark:#D4D4D4\"><code language=\"python\" numberoflines=\"34\"><span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> typing </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> Any</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain_core.documents </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> Document</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">from</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> langchain.agents.middleware </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">import</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> AgentMiddleware, AgentState</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#569CD6\">class</span><span style=\"color:#953800;--shiki-dark:#4EC9B0\"> State</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">(</span><span style=\"color:#0550AE;--shiki-dark:#4EC9B0\">AgentState</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">):</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">    context: list[Document]</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#569CD6\">class</span><span style=\"color:#953800;--shiki-dark:#4EC9B0\"> RetrieveDocumentsMiddleware</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">(AgentMiddleware[State]):</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">    state_schema </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> State</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#569CD6\">    def</span><span style=\"color:#8250DF;--shiki-dark:#DCDCAA\"> before_model</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">(</span><span style=\"color:#1F2328;--shiki-dark:#9CDCFE\">self</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">, </span><span style=\"color:#1F2328;--shiki-dark:#9CDCFE\">state</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">: AgentState) -&gt; dict[</span><span style=\"color:#0550AE;--shiki-dark:#4EC9B0\">str</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">, Any] </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">|</span><span style=\"color:#0550AE;--shiki-dark:#569CD6\"> None</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">:</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">        last_message </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> state[</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"messages\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">][</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">-</span><span style=\"color:#0550AE;--shiki-dark:#B5CEA8\">1</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">]</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">        retrieved_docs </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> vector_store.similarity_search(last_message.text)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">        docs_content </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\"> \"</span><span style=\"color:#CF222E;--shiki-dark:#D7BA7D\">\\n\\n</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">.join(doc.page_content </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">for</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> doc </span><span style=\"color:#CF222E;--shiki-dark:#C586C0\">in</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> retrieved_docs)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">        augmented_message_content </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> (</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#569CD6\">            f</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"</span><span style=\"color:#CF222E;--shiki-dark:#569CD6\">{</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">last_message.text</span><span style=\"color:#CF222E;--shiki-dark:#569CD6\">}</span><span style=\"color:#CF222E;--shiki-dark:#D7BA7D\">\\n\\n</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"</span></span>\n<span class=\"line\"><span style=\"color:#0A3069;--shiki-dark:#CE9178\">            \"Use the following context to answer the query:</span><span style=\"color:#CF222E;--shiki-dark:#D7BA7D\">\\n</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#569CD6\">            f</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"</span><span style=\"color:#CF222E;--shiki-dark:#569CD6\">{</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">docs_content</span><span style=\"color:#CF222E;--shiki-dark:#569CD6\">}</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">        )</span></span>\n<span class=\"line\"><span style=\"color:#CF222E;--shiki-dark:#C586C0\">        return</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> {</span></span>\n<span class=\"line\"><span style=\"color:#0A3069;--shiki-dark:#CE9178\">            \"messages\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">: [last_message.model_copy(</span><span style=\"color:#953800;--shiki-dark:#9CDCFE\">update</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">{</span><span style=\"color:#0A3069;--shiki-dark:#CE9178\">\"content\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">: augmented_message_content})],</span></span>\n<span class=\"line\"><span style=\"color:#0A3069;--shiki-dark:#CE9178\">            \"context\"</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">: retrieved_docs,</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">        }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">agent </span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\"> create_agent(</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">    model,</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    tools</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">[],</span></span>\n<span class=\"line\"><span style=\"color:#953800;--shiki-dark:#9CDCFE\">    middleware</span><span style=\"color:#CF222E;--shiki-dark:#D4D4D4\">=</span><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">[RetrieveDocumentsMiddleware()],</span></span>\n<span class=\"line\"><span style=\"color:#1F2328;--shiki-dark:#D4D4D4\">)</span></span>\n</code></pre></div></div><div aria-hidden=\"true\" data-fade-overlay=\"true\" style=\"--fade-color-light:#ffffff;--fade-color-dark:#0B0C0E\"></div></div></div></details>\n<h2 class=\"flex whitespace-pre-wrap group font-semibold\" id=\"next-steps\"><div class=\"absolute\" tabindex=\"-1\"><a aria-label=\"Navigate to header\" class=\"-ml-10 flex items-center opacity-0 border-0 group-hover:opacity-100 focus:opacity-100 focus:outline-0 group/link\" href=\"https://python.langchain.com/docs/tutorials/rag/#next-steps\" target=\"_blank\">​<div class=\"w-6 h-6 rounded-md flex items-center justify-center shadow-sm text-gray-400 dark:text-white/50 dark:bg-background-dark dark:brightness-[1.35] dark:ring-1 dark:hover:brightness-150 bg-white ring-1 ring-gray-400/30 dark:ring-gray-700/25 hover:ring-gray-400/60 dark:hover:ring-white/20 group-focus/link:border-2 group-focus/link:border-primary dark:group-focus/link:border-primary-light\"><svg fill=\"gray\" height=\"12px\" viewbox=\"0 0 576 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 256C0 167.6 71.6 96 160 96h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C98.1 144 48 194.1 48 256s50.1 112 112 112h72c13.3 0 24 10.7 24 24s-10.7 24-24 24H160C71.6 416 0 344.4 0 256zm576 0c0 88.4-71.6 160-160 160H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c61.9 0 112-50.1 112-112s-50.1-112-112-112H344c-13.3 0-24-10.7-24-24s10.7-24 24-24h72c88.4 0 160 71.6 160 160zM184 232H392c13.3 0 24 10.7 24 24s-10.7 24-24 24H184c-13.3 0-24-10.7-24-24s10.7-24 24-24z\"></path></svg></div></a></div><span class=\"cursor-pointer\">Next steps</span></h2>\n<span data-as=\"p\">Now that we’ve implemented a simple RAG application via <a class=\"link\" href=\"https://reference.langchain.com/python/langchain/agents/#langchain.agents.create_agent\" rel=\"noreferrer\" target=\"_blank\"><code>create_agent</code></a>, we can easily incorporate new features and go deeper:</span>\n<ul>\n<li><a class=\"link\" href=\"https://python.langchain.com/oss/python/langchain/streaming\" target=\"_blank\">Stream</a> tokens and other information for responsive user experiences</li>\n<li>Add <a class=\"link\" href=\"https://python.langchain.com/oss/python/langchain/short-term-memory\" target=\"_blank\">conversational memory</a> to support multi-turn interactions</li>\n<li>Add <a class=\"link\" href=\"https://python.langchain.com/oss/python/langchain/long-term-memory\" target=\"_blank\">long-term memory</a> to support memory across conversational threads</li>\n<li>Add <a class=\"link\" href=\"https://python.langchain.com/oss/python/langchain/structured-output\" target=\"_blank\">structured responses</a></li>\n<li>Deploy your application with <a class=\"link\" href=\"https://python.langchain.com/langsmith/deployments\" target=\"_blank\">LangSmith Deployment</a></li>\n</ul>\n<hr/>\n<div class=\"callout my-4 px-5 py-4 overflow-hidden rounded-2xl flex gap-3 border border-zinc-500/20 bg-zinc-50/50 dark:border-zinc-500/30 dark:bg-zinc-500/10\" data-callout-type=\"callout\"><div class=\"mt-0.5 w-4\" data-component-part=\"callout-icon\"><svg class=\"h-4 w-4 !m-0 shrink-0 bg-gray-800 dark:bg-gray-100\" style=\"-webkit-mask-image:url(https://d3gk2c5xim1je2.cloudfront.net/v7.1.0/regular/pen-to-square.svg);-webkit-mask-repeat:no-repeat;-webkit-mask-position:center;mask-image:url(https://d3gk2c5xim1je2.cloudfront.net/v7.1.0/regular/pen-to-square.svg);mask-repeat:no-repeat;mask-position:center\"></svg></div><div class=\"text-sm prose dark:prose-invert min-w-0 w-full [&amp;_kbd]:bg-background-light dark:[&amp;_kbd]:bg-background-dark [&amp;_code]:!text-current [&amp;_kbd]:!text-current [&amp;_a]:!text-current [&amp;_a]:border-current text-zinc-900 dark:text-zinc-200\" data-component-part=\"callout-content\"><span data-as=\"p\"><a class=\"link\" href=\"https://github.com/langchain-ai/docs/edit/main/src/oss/langchain/rag.mdx\" rel=\"noreferrer\" target=\"_blank\">Edit this page on GitHub</a> or <a class=\"link\" href=\"https://github.com/langchain-ai/docs/issues/new/choose\" rel=\"noreferrer\" target=\"_blank\">file an issue</a>.</span></div></div>\n<div class=\"callout my-4 px-5 py-4 overflow-hidden rounded-2xl flex gap-3 border border-emerald-500/20 bg-emerald-50/50 dark:border-emerald-500/30 dark:bg-emerald-500/10 [&amp;_[data-component-part='callout-icon']]:mt-px\" data-callout-type=\"tip\"><div class=\"mt-0.5 w-4\" data-component-part=\"callout-icon\"><svg aria-label=\"Tip\" class=\"text-emerald-600 dark:text-emerald-400/80 w-3.5 h-auto\" fill=\"currentColor\" height=\"14\" viewbox=\"0 0 11 14\" width=\"11\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M3.12794 12.4232C3.12794 12.5954 3.1776 12.7634 3.27244 12.907L3.74114 13.6095C3.88471 13.8248 4.21067 14 4.46964 14H6.15606C6.41415 14 6.74017 13.825 6.88373 13.6095L7.3508 12.9073C7.43114 12.7859 7.49705 12.569 7.49705 12.4232L7.50055 11.3513H3.12521L3.12794 12.4232ZM5.31288 0C2.52414 0.00875889 0.5 2.26889 0.5 4.78826C0.5 6.00188 0.949566 7.10829 1.69119 7.95492C2.14321 8.47011 2.84901 9.54727 3.11919 10.4557C3.12005 10.4625 3.12175 10.4698 3.12261 10.4771H7.50342C7.50427 10.4698 7.50598 10.463 7.50684 10.4557C7.77688 9.54727 8.48281 8.47011 8.93484 7.95492C9.67728 7.13181 10.1258 6.02703 10.1258 4.78826C10.1258 2.15486 7.9709 0.000106649 5.31288 0ZM7.94902 7.11267C7.52078 7.60079 6.99082 8.37878 6.6077 9.18794H4.02051C3.63739 8.37878 3.10743 7.60079 2.67947 7.11294C2.11997 6.47551 1.8126 5.63599 1.8126 4.78826C1.8126 3.09829 3.12794 1.31944 5.28827 1.3126C7.2435 1.3126 8.81315 2.88226 8.81315 4.78826C8.81315 5.63599 8.50688 6.47551 7.94902 7.11267ZM4.87534 2.18767C3.66939 2.18767 2.68767 3.16939 2.68767 4.37534C2.68767 4.61719 2.88336 4.81288 3.12521 4.81288C3.36705 4.81288 3.56274 4.61599 3.56274 4.37534C3.56274 3.6515 4.1515 3.06274 4.87534 3.06274C5.11719 3.06274 5.31288 2.86727 5.31288 2.62548C5.31288 2.38369 5.11599 2.18767 4.87534 2.18767Z\"></path></svg></div><div class=\"text-sm prose dark:prose-invert min-w-0 w-full [&amp;_kbd]:bg-background-light dark:[&amp;_kbd]:bg-background-dark [&amp;_code]:!text-current [&amp;_kbd]:!text-current [&amp;_a]:!text-current [&amp;_a]:border-current text-emerald-900 dark:text-emerald-200\" data-component-part=\"callout-content\"><span data-as=\"p\"><a class=\"link\" href=\"https://python.langchain.com/use-these-docs\" target=\"_blank\">Connect these docs</a> to Claude, VSCode, and more via MCP for real-time answers.</span></div></div></div>",
      "text": "​\nOverview\nOne of the most powerful applications enabled by LLMs is sophisticated question-answering (Q&A) chatbots. These are applications that can answer questions about specific source information. These applications use a technique known as Retrieval Augmented Generation, or\nRAG\n.\nThis tutorial will show how to build a simple Q&A application over an unstructured text data source. We will demonstrate:\nA RAG\nagent\nthat executes searches with a simple tool. This is a good general-purpose implementation.\nA two-step RAG\nchain\nthat uses just a single LLM call per query. This is a fast and effective method for simple queries.\n​\nConcepts\nWe will cover the following concepts:\nIndexing\n: a pipeline for ingesting data from a source and indexing it.\nThis usually happens in a separate process.\nRetrieval and generation\n: the actual RAG process, which takes the user query at run time and retrieves the relevant data from the index, then passes that to the model.\nOnce we’ve indexed our data, we will use an\nagent\nas our orchestration framework to implement the retrieval and generation steps.\nThe indexing portion of this tutorial will largely follow the\nsemantic search tutorial\n.\nIf your data is already available for search (i.e., you have a function to execute a search), or you’re comfortable with the content from that tutorial, feel free to skip to the section on\nretrieval and generation\n​\nPreview\nIn this guide we’ll build an app that answers questions about the website’s content. The specific website we will use is the\nLLM Powered Autonomous Agents\nblog post by Lilian Weng, which allows us to ask questions about the contents of the post.\nWe can create a simple indexing pipeline and RAG chain to do this in ~40 lines of code. See below for the full code snippet:\nExpand for full code snippet\nCopy\nimport\nbs4\nfrom\nlangchain.agents\nimport\nAgentState, create_agent\nfrom\nlangchain_community.document_loaders\nimport\nWebBaseLoader\nfrom\nlangchain.messages\nimport\nMessageLikeRepresentation\nfrom\nlangchain_text_splitters\nimport\nRecursiveCharacterTextSplitter\n# Load and chunk contents of the blog\nloader\n=\nWebBaseLoader(\nweb_paths\n=\n(\n\"https://lilianweng.github.io/posts/2023-06-23-agent/\"\n,),\nbs_kwargs\n=\ndict\n(\nparse_only\n=\nbs4.SoupStrainer(\nclass_\n=\n(\n\"post-content\"\n,\n\"post-title\"\n,\n\"post-header\"\n)\n)\n),\n)\ndocs\n=\nloader.load()\ntext_splitter\n=\nRecursiveCharacterTextSplitter(\nchunk_size\n=\n1000\n,\nchunk_overlap\n=\n200\n)\nall_splits\n=\ntext_splitter.split_documents(docs)\n# Index chunks\n_\n=\nvector_store.add_documents(\ndocuments\n=\nall_splits)\n# Construct a tool for retrieving context\n@tool\n(\nresponse_format\n=\n\"content_and_artifact\"\n)\ndef\nretrieve_context\n(\nquery\n:\nstr\n):\n\"\"\"Retrieve information to help answer a query.\"\"\"\nretrieved_docs\n=\nvector_store.similarity_search(query,\nk\n=\n2\n)\nserialized\n=\n\"\n\\n\\n\n\"\n.join(\n(\nf\n\"Source:\n{\ndoc.metadata\n}\n\\n\nContent:\n{\ndoc.page_content\n}\n\"\n)\nfor\ndoc\nin\nretrieved_docs\n)\nreturn\nserialized, retrieved_docs\ntools\n=\n[retrieve_context]\n# If desired, specify custom instructions\nprompt\n=\n(\n\"You have access to a tool that retrieves context from a blog post. \"\n\"Use the tool to help answer user queries.\"\n)\nagent\n=\ncreate_agent(model, tools,\nsystem_prompt\n=\nprompt)\nCopy\nquery\n=\n\"What is task decomposition?\"\nfor\nstep\nin\nagent.stream(\n{\n\"messages\"\n: [{\n\"role\"\n:\n\"user\"\n,\n\"content\"\n: query}]},\nstream_mode\n=\n\"values\"\n,\n):\nstep[\n\"messages\"\n][\n-\n1\n].pretty_print()\nCopy\n================================ Human Message =================================\nWhat is task decomposition?\n================================== Ai Message ==================================\nTool Calls:\nretrieve_context (call_xTkJr8njRY0geNz43ZvGkX0R)\nCall ID: call_xTkJr8njRY0geNz43ZvGkX0R\nArgs:\nquery: task decomposition\n================================= Tool Message =================================\nName: retrieve_context\nSource: {'source': 'https://lilianweng.github.io/posts/2023-06-23-agent/'}\nContent: Task decomposition can be done by...\nSource: {'source': 'https://lilianweng.github.io/posts/2023-06-23-agent/'}\nContent: Component One: Planning...\n================================== Ai Message ==================================\nTask decomposition refers to...\nCheck out the\nLangSmith trace\n.\n​\nSetup\n​\nInstallation\nThis tutorial requires these langchain dependencies:\npip\nuv\nCopy\npip\ninstall\nlangchain\nlangchain-text-splitters\nlangchain-community\nbs4\nFor more details, see our\nInstallation guide\n.\n​\nLangSmith\nMany of the applications you build with LangChain will contain multiple steps with multiple invocations of LLM calls. As these applications get more complex, it becomes crucial to be able to inspect what exactly is going on inside your chain or agent. The best way to do this is with\nLangSmith\n.\nAfter you sign up at the link above, make sure to set your environment variables to start logging traces:\nCopy\nexport\nLANGSMITH_TRACING\n=\n\"true\"\nexport\nLANGSMITH_API_KEY\n=\n\"...\"\nOr, set them in Python:\nCopy\nimport\ngetpass\nimport\nos\nos.environ[\n\"LANGSMITH_TRACING\"\n]\n=\n\"true\"\nos.environ[\n\"LANGSMITH_API_KEY\"\n]\n=\ngetpass.getpass()\n​\nComponents\nWe will need to select three components from LangChain’s suite of integrations.\nSelect a chat model:\nOpenAI\nAnthropic\nAzure\nGoogle Gemini\nAWS Bedrock\nHuggingFace\n👉 Read the\nOpenAI chat model integration docs\nCopy\npip\ninstall\n-U\n\"langchain[openai]\"\ninit_chat_model\nModel Class\nCopy\nimport\nos\nfrom\nlangchain.chat_models\nimport\ninit_chat_model\nos.environ[\n\"OPENAI_API_KEY\"\n]\n=\n\"sk-...\"\nmodel\n=\ninit_chat_model(\n\"gpt-4.1\"\n)\n👉 Read the\nAnthropic chat model integration docs\nCopy\npip\ninstall\n-U\n\"langchain[anthropic]\"\ninit_chat_model\nModel Class\nCopy\nimport\nos\nfrom\nlangchain.chat_models\nimport\ninit_chat_model\nos.environ[\n\"ANTHROPIC_API_KEY\"\n]\n=\n\"sk-...\"\nmodel\n=\ninit_chat_model(\n\"claude-sonnet-4-5-20250929\"\n)\n👉 Read the\nAzure chat model integration docs\nCopy\npip\ninstall\n-U\n\"langchain[openai]\"\ninit_chat_model\nModel Class\nCopy\nimport\nos\nfrom\nlangchain.chat_models\nimport\ninit_chat_model\nos.environ[\n\"AZURE_OPENAI_API_KEY\"\n]\n=\n\"...\"\nos.environ[\n\"AZURE_OPENAI_ENDPOINT\"\n]\n=\n\"...\"\nos.environ[\n\"OPENAI_API_VERSION\"\n]\n=\n\"2025-03-01-preview\"\nmodel\n=\ninit_chat_model(\n\"azure_openai:gpt-4.1\"\n,\nazure_deployment\n=\nos.environ[\n\"AZURE_OPENAI_DEPLOYMENT_NAME\"\n],\n)\n👉 Read the\nGoogle GenAI chat model integration docs\nCopy\npip\ninstall\n-U\n\"langchain[google-genai]\"\ninit_chat_model\nModel Class\nCopy\nimport\nos\nfrom\nlangchain.chat_models\nimport\ninit_chat_model\nos.environ[\n\"GOOGLE_API_KEY\"\n]\n=\n\"...\"\nmodel\n=\ninit_chat_model(\n\"google_genai:gemini-2.5-flash-lite\"\n)\n👉 Read the\nAWS Bedrock chat model integration docs\nCopy\npip\ninstall\n-U\n\"langchain[aws]\"\ninit_chat_model\nModel Class\nCopy\nfrom\nlangchain.chat_models\nimport\ninit_chat_model\n# Follow the steps here to configure your credentials:\n# https://docs.aws.amazon.com/bedrock/latest/userguide/getting-started.html\nmodel\n=\ninit_chat_model(\n\"anthropic.claude-3-5-sonnet-20240620-v1:0\"\n,\nmodel_provider\n=\n\"bedrock_converse\"\n,\n)\n👉 Read the\nHuggingFace chat model integration docs\nCopy\npip\ninstall\n-U\n\"langchain[huggingface]\"\ninit_chat_model\nModel Class\nCopy\nimport\nos\nfrom\nlangchain.chat_models\nimport\ninit_chat_model\nos.environ[\n\"HUGGINGFACEHUB_API_TOKEN\"\n]\n=\n\"hf_...\"\nmodel\n=\ninit_chat_model(\n\"microsoft/Phi-3-mini-4k-instruct\"\n,\nmodel_provider\n=\n\"huggingface\"\n,\ntemperature\n=\n0.7\n,\nmax_tokens\n=\n1024\n,\n)\nSelect an embeddings model:\nOpenAI\nAzure\nGoogle Gemini\nGoogle Vertex\nAWS\nHuggingFace\nOllama\nCohere\nMistralAI\nNomic\nNVIDIA\nVoyage AI\nIBM watsonx\nFake\nIsaacus\nCopy\npip\ninstall\n-U\n\"langchain-openai\"\nCopy\nimport\ngetpass\nimport\nos\nif\nnot\nos.environ.get(\n\"OPENAI_API_KEY\"\n):\nos.environ[\n\"OPENAI_API_KEY\"\n]\n=\ngetpass.getpass(\n\"Enter API key for OpenAI: \"\n)\nfrom\nlangchain_openai\nimport\nOpenAIEmbeddings\nembeddings\n=\nOpenAIEmbeddings(\nmodel\n=\n\"text-embedding-3-large\"\n)\nCopy\npip\ninstall\n-U\n\"langchain-openai\"\nCopy\nimport\ngetpass\nimport\nos\nif\nnot\nos.environ.get(\n\"AZURE_OPENAI_API_KEY\"\n):\nos.environ[\n\"AZURE_OPENAI_API_KEY\"\n]\n=\ngetpass.getpass(\n\"Enter API key for Azure: \"\n)\nfrom\nlangchain_openai\nimport\nAzureOpenAIEmbeddings\nembeddings\n=\nAzureOpenAIEmbeddings(\nazure_endpoint\n=\nos.environ[\n\"AZURE_OPENAI_ENDPOINT\"\n],\nazure_deployment\n=\nos.environ[\n\"AZURE_OPENAI_DEPLOYMENT_NAME\"\n],\nopenai_api_version\n=\nos.environ[\n\"AZURE_OPENAI_API_VERSION\"\n],\n)\nCopy\npip\ninstall\n-qU\nlangchain-google-genai\nCopy\nimport\ngetpass\nimport\nos\nif\nnot\nos.environ.get(\n\"GOOGLE_API_KEY\"\n):\nos.environ[\n\"GOOGLE_API_KEY\"\n]\n=\ngetpass.getpass(\n\"Enter API key for Google Gemini: \"\n)\nfrom\nlangchain_google_genai\nimport\nGoogleGenerativeAIEmbeddings\nembeddings\n=\nGoogleGenerativeAIEmbeddings(\nmodel\n=\n\"models/gemini-embedding-001\"\n)\nCopy\npip\ninstall\n-qU\nlangchain-google-vertexai\nCopy\nfrom\nlangchain_google_vertexai\nimport\nVertexAIEmbeddings\nembeddings\n=\nVertexAIEmbeddings(\nmodel\n=\n\"text-embedding-005\"\n)\nCopy\npip\ninstall\n-qU\nlangchain-aws\nCopy\nfrom\nlangchain_aws\nimport\nBedrockEmbeddings\nembeddings\n=\nBedrockEmbeddings(\nmodel_id\n=\n\"amazon.titan-embed-text-v2:0\"\n)\nCopy\npip\ninstall\n-qU\nlangchain-huggingface\nCopy\nfrom\nlangchain_huggingface\nimport\nHuggingFaceEmbeddings\nembeddings\n=\nHuggingFaceEmbeddings(\nmodel_name\n=\n\"sentence-transformers/all-mpnet-base-v2\"\n)\nCopy\npip\ninstall\n-qU\nlangchain-ollama\nCopy\nfrom\nlangchain_ollama\nimport\nOllamaEmbeddings\nembeddings\n=\nOllamaEmbeddings(\nmodel\n=\n\"llama3\"\n)\nCopy\npip\ninstall\n-qU\nlangchain-cohere\nCopy\nimport\ngetpass\nimport\nos\nif\nnot\nos.environ.get(\n\"COHERE_API_KEY\"\n):\nos.environ[\n\"COHERE_API_KEY\"\n]\n=\ngetpass.getpass(\n\"Enter API key for Cohere: \"\n)\nfrom\nlangchain_cohere\nimport\nCohereEmbeddings\nembeddings\n=\nCohereEmbeddings(\nmodel\n=\n\"embed-english-v3.0\"\n)\nCopy\npip\ninstall\n-qU\nlangchain-mistralai\nCopy\nimport\ngetpass\nimport\nos\nif\nnot\nos.environ.get(\n\"MISTRALAI_API_KEY\"\n):\nos.environ[\n\"MISTRALAI_API_KEY\"\n]\n=\ngetpass.getpass(\n\"Enter API key for MistralAI: \"\n)\nfrom\nlangchain_mistralai\nimport\nMistralAIEmbeddings\nembeddings\n=\nMistralAIEmbeddings(\nmodel\n=\n\"mistral-embed\"\n)\nCopy\npip\ninstall\n-qU\nlangchain-nomic\nCopy\nimport\ngetpass\nimport\nos\nif\nnot\nos.environ.get(\n\"NOMIC_API_KEY\"\n):\nos.environ[\n\"NOMIC_API_KEY\"\n]\n=\ngetpass.getpass(\n\"Enter API key for Nomic: \"\n)\nfrom\nlangchain_nomic\nimport\nNomicEmbeddings\nembeddings\n=\nNomicEmbeddings(\nmodel\n=\n\"nomic-embed-text-v1.5\"\n)\nCopy\npip\ninstall\n-qU\nlangchain-nvidia-ai-endpoints\nCopy\nimport\ngetpass\nimport\nos\nif\nnot\nos.environ.get(\n\"NVIDIA_API_KEY\"\n):\nos.environ[\n\"NVIDIA_API_KEY\"\n]\n=\ngetpass.getpass(\n\"Enter API key for NVIDIA: \"\n)\nfrom\nlangchain_nvidia_ai_endpoints\nimport\nNVIDIAEmbeddings\nembeddings\n=\nNVIDIAEmbeddings(\nmodel\n=\n\"NV-Embed-QA\"\n)\nCopy\npip\ninstall\n-qU\nlangchain-voyageai\nCopy\nimport\ngetpass\nimport\nos\nif\nnot\nos.environ.get(\n\"VOYAGE_API_KEY\"\n):\nos.environ[\n\"VOYAGE_API_KEY\"\n]\n=\ngetpass.getpass(\n\"Enter API key for Voyage AI: \"\n)\nfrom\nlangchain\n-\nvoyageai\nimport\nVoyageAIEmbeddings\nembeddings\n=\nVoyageAIEmbeddings(\nmodel\n=\n\"voyage-3\"\n)\nCopy\npip\ninstall\n-qU\nlangchain-ibm\nCopy\nimport\ngetpass\nimport\nos\nif\nnot\nos.environ.get(\n\"WATSONX_APIKEY\"\n):\nos.environ[\n\"WATSONX_APIKEY\"\n]\n=\ngetpass.getpass(\n\"Enter API key for IBM watsonx: \"\n)\nfrom\nlangchain_ibm\nimport\nWatsonxEmbeddings\nembeddings\n=\nWatsonxEmbeddings(\nmodel_id\n=\n\"ibm/slate-125m-english-rtrvr\"\n,\nurl\n=\n\"https://us-south.ml.cloud.ibm.com\"\n,\nproject_id\n=\n\"<WATSONX PROJECT_ID>\"\n,\n)\nCopy\npip\ninstall\n-qU\nlangchain-core\nCopy\nfrom\nlangchain_core.embeddings\nimport\nDeterministicFakeEmbedding\nembeddings\n=\nDeterministicFakeEmbedding(\nsize\n=\n4096\n)\nCopy\npip\ninstall\n-qU\nlangchain-isaacus\nCopy\nimport\ngetpass\nimport\nos\nif\nnot\nos.environ.get(\n\"ISAACUS_API_KEY\"\n):\nos.environ[\n\"ISAACUS_API_KEY\"\n]\n=\ngetpass.getpass(\n\"Enter API key for Isaacus: \"\n)\nfrom\nlangchain_isaacus\nimport\nIsaacusEmbeddings\nembeddings\n=\nIsaacusEmbeddings(\nmodel\n=\n\"kanon-2-embedder\"\n)\nSelect a vector store:\nIn-memory\nAmazon OpenSearch\nAstraDB\nChroma\nFAISS\nMilvus\nMongoDB\nPGVector\nPGVectorStore\nPinecone\nQdrant\nCopy\npip\ninstall\n-U\n\"langchain-core\"\nCopy\nfrom\nlangchain_core.vectorstores\nimport\nInMemoryVectorStore\nvector_store\n=\nInMemoryVectorStore(embeddings)\nCopy\npip\ninstall\n-qU\nboto3\nCopy\nfrom\nopensearchpy\nimport\nRequestsHttpConnection\nservice\n=\n\"es\"\n# must set the service as 'es'\nregion\n=\n\"us-east-2\"\ncredentials\n=\nboto3.Session(\naws_access_key_id\n=\n\"xxxxxx\"\n,\naws_secret_access_key\n=\n\"xxxxx\"\n).get_credentials()\nawsauth\n=\nAWS4Auth(\n\"xxxxx\"\n,\n\"xxxxxx\"\n, region, service,\nsession_token\n=\ncredentials.token)\nvector_store\n=\nOpenSearchVectorSearch.from_documents(\ndocs,\nembeddings,\nopensearch_url\n=\n\"host url\"\n,\nhttp_auth\n=\nawsauth,\ntimeout\n=\n300\n,\nuse_ssl\n=\nTrue\n,\nverify_certs\n=\nTrue\n,\nconnection_class\n=\nRequestsHttpConnection,\nindex_name\n=\n\"test-index\"\n,\n)\nCopy\npip\ninstall\n-U\n\"langchain-astradb\"\nCopy\nfrom\nlangchain_astradb\nimport\nAstraDBVectorStore\nvector_store\n=\nAstraDBVectorStore(\nembedding\n=\nembeddings,\napi_endpoint\n=\nASTRA_DB_API_ENDPOINT\n,\ncollection_name\n=\n\"astra_vector_langchain\"\n,\ntoken\n=\nASTRA_DB_APPLICATION_TOKEN\n,\nnamespace\n=\nASTRA_DB_NAMESPACE\n,\n)\nCopy\npip\ninstall\n-qU\nlangchain-chroma\nCopy\nfrom\nlangchain_chroma\nimport\nChroma\nvector_store\n=\nChroma(\ncollection_name\n=\n\"example_collection\"\n,\nembedding_function\n=\nembeddings,\npersist_directory\n=\n\"./chroma_langchain_db\"\n,\n# Where to save data locally, remove if not necessary\n)\nCopy\npip\ninstall\n-qU\nlangchain-community\nfaiss-cpu\nCopy\nimport\nfaiss\nfrom\nlangchain_community.docstore.in_memory\nimport\nInMemoryDocstore\nfrom\nlangchain_community.vectorstores\nimport\nFAISS\nembedding_dim\n=\nlen\n(embeddings.embed_query(\n\"hello world\"\n))\nindex\n=\nfaiss.IndexFlatL2(embedding_dim)\nvector_store\n=\nFAISS(\nembedding_function\n=\nembeddings,\nindex\n=\nindex,\ndocstore\n=\nInMemoryDocstore(),\nindex_to_docstore_id\n=\n{},\n)\nCopy\npip\ninstall\n-qU\nlangchain-milvus\nCopy\nfrom\nlangchain_milvus\nimport\nMilvus\nURI\n=\n\"./milvus_example.db\"\nvector_store\n=\nMilvus(\nembedding_function\n=\nembeddings,\nconnection_args\n=\n{\n\"uri\"\n:\nURI\n},\nindex_params\n=\n{\n\"index_type\"\n:\n\"FLAT\"\n,\n\"metric_type\"\n:\n\"L2\"\n},\n)\nCopy\npip\ninstall\n-qU\nlangchain-mongodb\nCopy\nfrom\nlangchain_mongodb\nimport\nMongoDBAtlasVectorSearch\nvector_store\n=\nMongoDBAtlasVectorSearch(\nembedding\n=\nembeddings,\ncollection\n=\nMONGODB_COLLECTION\n,\nindex_name\n=\nATLAS_VECTOR_SEARCH_INDEX_NAME\n,\nrelevance_score_fn\n=\n\"cosine\"\n,\n)\nCopy\npip\ninstall\n-qU\nlangchain-postgres\nCopy\nfrom\nlangchain_postgres\nimport\nPGVector\nvector_store\n=\nPGVector(\nembeddings\n=\nembeddings,\ncollection_name\n=\n\"my_docs\"\n,\nconnection\n=\n\"postgresql+psycopg://...\"\n,\n)\nCopy\npip\ninstall\n-qU\nlangchain-postgres\nCopy\nfrom\nlangchain_postgres\nimport\nPGEngine, PGVectorStore\npg_engine\n=\nPGEngine.from_connection_string(\nurl\n=\n\"postgresql+psycopg://...\"\n)\nvector_store\n=\nPGVectorStore.create_sync(\nengine\n=\npg_engine,\ntable_name\n=\n'test_table'\n,\nembedding_service\n=\nembedding\n)\nCopy\npip\ninstall\n-qU\nlangchain-pinecone\nCopy\nfrom\nlangchain_pinecone\nimport\nPineconeVectorStore\nfrom\npinecone\nimport\nPinecone\npc\n=\nPinecone(\napi_key\n=\n...\n)\nindex\n=\npc.Index(index_name)\nvector_store\n=\nPineconeVectorStore(\nembedding\n=\nembeddings,\nindex\n=\nindex)\nCopy\npip\ninstall\n-qU\nlangchain-qdrant\nCopy\nfrom\nqdrant_client.models\nimport\nDistance, VectorParams\nfrom\nlangchain_qdrant\nimport\nQdrantVectorStore\nfrom\nqdrant_client\nimport\nQdrantClient\nclient\n=\nQdrantClient(\n\":memory:\"\n)\nvector_size\n=\nlen\n(embeddings.embed_query(\n\"sample text\"\n))\nif\nnot\nclient.collection_exists(\n\"test\"\n):\nclient.create_collection(\ncollection_name\n=\n\"test\"\n,\nvectors_config\n=\nVectorParams(\nsize\n=\nvector_size,\ndistance\n=\nDistance.\nCOSINE\n)\n)\nvector_store\n=\nQdrantVectorStore(\nclient\n=\nclient,\ncollection_name\n=\n\"test\"\n,\nembedding\n=\nembeddings,\n)\n​\n1. Indexing\nThis section is an abbreviated version of the content in the\nsemantic search tutorial\n.\nIf your data is already indexed and available for search (i.e., you have a function to execute a search), or if you’re comfortable with\ndocument loaders\n,\nembeddings\n, and\nvector stores\n, feel free to skip to the next section on\nretrieval and generation\n.\nIndexing commonly works as follows:\nLoad\n: First we need to load our data. This is done with\nDocument Loaders\n.\nSplit\n:\nText splitters\nbreak large\nDocuments\ninto smaller chunks. This is useful both for indexing data and passing it into a model, as large chunks are harder to search over and won’t fit in a model’s finite context window.\nStore\n: We need somewhere to store and index our splits, so that they can be searched over later. This is often done using a\nVectorStore\nand\nEmbeddings\nmodel.\n​\nLoading documents\nWe need to first load the blog post contents. We can use\nDocumentLoaders\nfor this, which are objects that load in data from a source and return a list of\nDocument\nobjects.\nIn this case we’ll use the\nWebBaseLoader\n, which uses\nurllib\nto load HTML from web URLs and\nBeautifulSoup\nto parse it to text. We can customize the HTML -> text parsing by passing in parameters into the\nBeautifulSoup\nparser via\nbs_kwargs\n(see\nBeautifulSoup docs\n). In this case only HTML tags with class “post-content”, “post-title”, or “post-header” are relevant, so we’ll remove all others.\nCopy\nimport\nbs4\nfrom\nlangchain_community.document_loaders\nimport\nWebBaseLoader\n# Only keep post title, headers, and content from the full HTML.\nbs4_strainer\n=\nbs4.SoupStrainer(\nclass_\n=\n(\n\"post-title\"\n,\n\"post-header\"\n,\n\"post-content\"\n))\nloader\n=\nWebBaseLoader(\nweb_paths\n=\n(\n\"https://lilianweng.github.io/posts/2023-06-23-agent/\"\n,),\nbs_kwargs\n=\n{\n\"parse_only\"\n: bs4_strainer},\n)\ndocs\n=\nloader.load()\nassert\nlen\n(docs)\n==\n1\nprint\n(\nf\n\"Total characters:\n{\nlen\n(docs[\n0\n].page_content)\n}\n\"\n)\nCopy\nTotal characters: 43131\nCopy\nprint\n(docs[\n0\n].page_content[:\n500\n])\nCopy\nLLM Powered Autonomous Agents\nDate: June 23, 2023  |  Estimated Reading Time: 31 min  |  Author: Lilian Weng\nBuilding agents with LLM (large language model) as its core controller is a cool concept. Several proof-of-concepts demos, such as AutoGPT, GPT-Engineer and BabyAGI, serve as inspiring examples. The potentiality of LLM extends beyond generating well-written copies, stories, essays and programs; it can be framed as a powerful general problem solver.\nAgent System Overview#\nIn\nGo deeper\nDocumentLoader\n: Object that loads data from a source as list of\nDocuments\n.\nIntegrations\n: 160+ integrations to choose from.\nBaseLoader\n: API reference for the base interface.\n​\nSplitting documents\nOur loaded document is over 42k characters which is too long to fit into the context window of many models. Even for those models that could fit the full post in their context window, models can struggle to find information in very long inputs.\nTo handle this we’ll split the\nDocument\ninto chunks for embedding and vector storage. This should help us retrieve only the most relevant parts of the blog post at run time.\nAs in the\nsemantic search tutorial\n, we use a\nRecursiveCharacterTextSplitter\n, which will recursively split the document using common separators like new lines until each chunk is the appropriate size. This is the recommended text splitter for generic text use cases.\nCopy\nfrom\nlangchain_text_splitters\nimport\nRecursiveCharacterTextSplitter\ntext_splitter\n=\nRecursiveCharacterTextSplitter(\nchunk_size\n=\n1000\n,\n# chunk size (characters)\nchunk_overlap\n=\n200\n,\n# chunk overlap (characters)\nadd_start_index\n=\nTrue\n,\n# track index in original document\n)\nall_splits\n=\ntext_splitter.split_documents(docs)\nprint\n(\nf\n\"Split blog post into\n{\nlen\n(all_splits)\n}\nsub-documents.\"\n)\nCopy\nSplit blog post into 66 sub-documents.\nGo deeper\nTextSplitter\n: Object that splits a list of\nDocument\nobjects into smaller\nchunks for storage and retrieval.\nIntegrations\nInterface\n: API reference for the base interface.\n​\nStoring documents\nNow we need to index our 66 text chunks so that we can search over them at runtime. Following the\nsemantic search tutorial\n, our approach is to\nembed\nthe contents of each document split and insert these embeddings into a\nvector store\n. Given an input query, we can then use vector search to retrieve relevant documents.\nWe can embed and store all of our document splits in a single command using the vector store and embeddings model selected at the\nstart of the tutorial\n.\nCopy\ndocument_ids\n=\nvector_store.add_documents(\ndocuments\n=\nall_splits)\nprint\n(document_ids[:\n3\n])\nCopy\n[\n'07c18af6-ad58-479a-bfb1-d508033f9c64'\n,\n'9000bf8e-1993-446f-8d4d-f4e507ba4b8f'\n,\n'ba3b5d14-bed9-4f5f-88be-44c88aedc2e6'\n]\nGo deeper\nEmbeddings\n: Wrapper around a text embedding model, used for converting text to embeddings.\nIntegrations\n: 30+ integrations to choose from.\nInterface\n: API reference for the base interface.\nVectorStore\n: Wrapper around a vector database, used for storing and querying embeddings.\nIntegrations\n: 40+ integrations to choose from.\nInterface\n: API reference for the base interface.\nThis completes the\nIndexing\nportion of the pipeline. At this point we have a query-able vector store containing the chunked contents of our blog post. Given a user question, we should ideally be able to return the snippets of the blog post that answer the question.\n​\n2. Retrieval and Generation\nRAG applications commonly work as follows:\nRetrieve\n: Given a user input, relevant splits are retrieved from storage using a\nRetriever\n.\nGenerate\n: A\nmodel\nproduces an answer using a prompt that includes both the question with the retrieved data\nNow let’s write the actual application logic. We want to create a simple application that takes a user question, searches for documents relevant to that question, passes the retrieved documents and initial question to a model, and returns an answer.\nWe will demonstrate:\nA RAG\nagent\nthat executes searches with a simple tool. This is a good general-purpose implementation.\nA two-step RAG\nchain\nthat uses just a single LLM call per query. This is a fast and effective method for simple queries.\n​\nRAG agents\nOne formulation of a RAG application is as a simple\nagent\nwith a tool that retrieves information. We can assemble a minimal RAG agent by implementing a\ntool\nthat wraps our vector store:\nCopy\nfrom\nlangchain.tools\nimport\ntool\n@tool\n(\nresponse_format\n=\n\"content_and_artifact\"\n)\ndef\nretrieve_context\n(\nquery\n:\nstr\n):\n\"\"\"Retrieve information to help answer a query.\"\"\"\nretrieved_docs\n=\nvector_store.similarity_search(query,\nk\n=\n2\n)\nserialized\n=\n\"\n\\n\\n\n\"\n.join(\n(\nf\n\"Source:\n{\ndoc.metadata\n}\n\\n\nContent:\n{\ndoc.page_content\n}\n\"\n)\nfor\ndoc\nin\nretrieved_docs\n)\nreturn\nserialized, retrieved_docs\nHere we use the\ntool decorator\nto configure the tool to attach raw documents as\nartifacts\nto each\nToolMessage\n. This will let us access document metadata in our application, separate from the stringified representation that is sent to the model.\nRetrieval tools are not limited to a single string\nquery\nargument, as in the above example. You can\nforce the LLM to specify additional search parameters by adding arguments— for example, a category:\nCopy\nfrom\ntyping\nimport\nLiteral\ndef\nretrieve_context\n(\nquery\n:\nstr\n,\nsection\n: Literal[\n\"beginning\"\n,\n\"middle\"\n,\n\"end\"\n]):\nGiven our tool, we can construct the agent:\nCopy\nfrom\nlangchain.agents\nimport\ncreate_agent\ntools\n=\n[retrieve_context]\n# If desired, specify custom instructions\nprompt\n=\n(\n\"You have access to a tool that retrieves context from a blog post. \"\n\"Use the tool to help answer user queries.\"\n)\nagent\n=\ncreate_agent(model, tools,\nsystem_prompt\n=\nprompt)\nLet’s test this out. We construct a question that would typically require an iterative sequence of retrieval steps to answer:\nCopy\nquery\n=\n(\n\"What is the standard method for Task Decomposition?\n\\n\\n\n\"\n\"Once you get the answer, look up common extensions of that method.\"\n)\nfor\nevent\nin\nagent.stream(\n{\n\"messages\"\n: [{\n\"role\"\n:\n\"user\"\n,\n\"content\"\n: query}]},\nstream_mode\n=\n\"values\"\n,\n):\nevent[\n\"messages\"\n][\n-\n1\n].pretty_print()\nCopy\n================================ Human Message =================================\nWhat is the standard method for Task Decomposition?\nOnce you get the answer, look up common extensions of that method.\n================================== Ai Message ==================================\nTool Calls:\nretrieve_context (call_d6AVxICMPQYwAKj9lgH4E337)\nCall ID: call_d6AVxICMPQYwAKj9lgH4E337\nArgs:\nquery: standard method for Task Decomposition\n================================= Tool Message =================================\nName: retrieve_context\nSource: {'source': 'https://lilianweng.github.io/posts/2023-06-23-agent/'}\nContent: Task decomposition can be done...\nSource: {'source': 'https://lilianweng.github.io/posts/2023-06-23-agent/'}\nContent: Component One: Planning...\n================================== Ai Message ==================================\nTool Calls:\nretrieve_context (call_0dbMOw7266jvETbXWn4JqWpR)\nCall ID: call_0dbMOw7266jvETbXWn4JqWpR\nArgs:\nquery: common extensions of the standard method for Task Decomposition\n================================= Tool Message =================================\nName: retrieve_context\nSource: {'source': 'https://lilianweng.github.io/posts/2023-06-23-agent/'}\nContent: Task decomposition can be done...\nSource: {'source': 'https://lilianweng.github.io/posts/2023-06-23-agent/'}\nContent: Component One: Planning...\n================================== Ai Message ==================================\nThe standard method for Task Decomposition often used is the Chain of Thought (CoT)...\nNote that the agent:\nGenerates a query to search for a standard method for task decomposition;\nReceiving the answer, generates a second query to search for common extensions of it;\nHaving received all necessary context, answers the question.\nWe can see the full sequence of steps, along with latency and other metadata, in the\nLangSmith trace\n.\nYou can add a deeper level of control and customization using the\nLangGraph\nframework directly— for example, you can add steps to grade document relevance and rewrite search queries. Check out LangGraph’s\nAgentic RAG tutorial\nfor more advanced formulations.\n​\nRAG chains\nIn the above\nagentic RAG\nformulation we allow the LLM to use its discretion in generating a\ntool call\nto help answer user queries. This is a good general-purpose solution, but comes with some trade-offs:\n✅ Benefits\n⚠️ Drawbacks\nSearch only when needed\n– The LLM can handle greetings, follow-ups, and simple queries without triggering unnecessary searches.\nTwo inference calls\n– When a search is performed, it requires one call to generate the query and another to produce the final response.\nContextual search queries\n– By treating search as a tool with a\nquery\ninput, the LLM crafts its own queries that incorporate conversational context.\nReduced control\n– The LLM may skip searches when they are actually needed, or issue extra searches when unnecessary.\nMultiple searches allowed\n– The LLM can execute several searches in support of a single user query.\nAnother common approach is a two-step chain, in which we always run a search (potentially using the raw user query) and incorporate the result as context for a single LLM query. This results in a single inference call per query, buying reduced latency at the expense of flexibility.\nIn this approach we no longer call the model in a loop, but instead make a single pass.\nWe can implement this chain by removing tools from the agent and instead incorporating the retrieval step into a custom prompt:\nCopy\nfrom\nlangchain.agents.middleware\nimport\ndynamic_prompt, ModelRequest\n@dynamic_prompt\ndef\nprompt_with_context\n(\nrequest\n: ModelRequest) ->\nstr\n:\n\"\"\"Inject context into state messages.\"\"\"\nlast_query\n=\nrequest.state[\n\"messages\"\n][\n-\n1\n].text\nretrieved_docs\n=\nvector_store.similarity_search(last_query)\ndocs_content\n=\n\"\n\\n\\n\n\"\n.join(doc.page_content\nfor\ndoc\nin\nretrieved_docs)\nsystem_message\n=\n(\n\"You are a helpful assistant. Use the following context in your response:\"\nf\n\"\n\\n\\n\n{\ndocs_content\n}\n\"\n)\nreturn\nsystem_message\nagent\n=\ncreate_agent(model,\ntools\n=\n[],\nmiddleware\n=\n[prompt_with_context])\nLet’s try this out:\nCopy\nquery\n=\n\"What is task decomposition?\"\nfor\nstep\nin\nagent.stream(\n{\n\"messages\"\n: [{\n\"role\"\n:\n\"user\"\n,\n\"content\"\n: query}]},\nstream_mode\n=\n\"values\"\n,\n):\nstep[\n\"messages\"\n][\n-\n1\n].pretty_print()\nCopy\n================================ Human Message =================================\nWhat is task decomposition?\n================================== Ai Message ==================================\nTask decomposition is...\nIn the\nLangSmith trace\nwe can see the retrieved context incorporated into the model prompt.\nThis is a fast and effective method for simple queries in constrained settings, when we typically do want to run user queries through semantic search to pull additional context.\nReturning source documents\nThe above\nRAG chain\nincorporates retrieved context into a single system message for that run.\nAs in the\nagentic RAG\nformulation, we sometimes want to include raw source documents in the application state to have access to document metadata. We can do this for the two-step chain case by:\nAdding a key to the state to store the retrieved documents\nAdding a new node via a\npre-model hook\nto populate that key (as well as inject the context).\nCopy\nfrom\ntyping\nimport\nAny\nfrom\nlangchain_core.documents\nimport\nDocument\nfrom\nlangchain.agents.middleware\nimport\nAgentMiddleware, AgentState\nclass\nState\n(\nAgentState\n):\ncontext: list[Document]\nclass\nRetrieveDocumentsMiddleware\n(AgentMiddleware[State]):\nstate_schema\n=\nState\ndef\nbefore_model\n(\nself\n,\nstate\n: AgentState) -> dict[\nstr\n, Any]\n|\nNone\n:\nlast_message\n=\nstate[\n\"messages\"\n][\n-\n1\n]\nretrieved_docs\n=\nvector_store.similarity_search(last_message.text)\ndocs_content\n=\n\"\n\\n\\n\n\"\n.join(doc.page_content\nfor\ndoc\nin\nretrieved_docs)\naugmented_message_content\n=\n(\nf\n\"\n{\nlast_message.text\n}\n\\n\\n\n\"\n\"Use the following context to answer the query:\n\\n\n\"\nf\n\"\n{\ndocs_content\n}\n\"\n)\nreturn\n{\n\"messages\"\n: [last_message.model_copy(\nupdate\n=\n{\n\"content\"\n: augmented_message_content})],\n\"context\"\n: retrieved_docs,\n}\nagent\n=\ncreate_agent(\nmodel,\ntools\n=\n[],\nmiddleware\n=\n[RetrieveDocumentsMiddleware()],\n)\n​\nNext steps\nNow that we’ve implemented a simple RAG application via\ncreate_agent\n, we can easily incorporate new features and go deeper:\nStream\ntokens and other information for responsive user experiences\nAdd\nconversational memory\nto support multi-turn interactions\nAdd\nlong-term memory\nto support memory across conversational threads\nAdd\nstructured responses\nDeploy your application with\nLangSmith Deployment\nEdit this page on GitHub\nor\nfile an issue\n.\nConnect these docs\nto Claude, VSCode, and more via MCP for real-time answers.",
      "code_blocks": [
        {
          "lang": "",
          "code": "import bs4\nfrom langchain.agents import AgentState, create_agent\nfrom langchain_community.document_loaders import WebBaseLoader\nfrom langchain.messages import MessageLikeRepresentation\nfrom langchain_text_splitters import RecursiveCharacterTextSplitter\n\n# Load and chunk contents of the blog\nloader = WebBaseLoader(\n    web_paths=(\"https://lilianweng.github.io/posts/2023-06-23-agent/\",),\n    bs_kwargs=dict(\n        parse_only=bs4.SoupStrainer(\n            class_=(\"post-content\", \"post-title\", \"post-header\")\n        )\n    ),\n)\ndocs = loader.load()\n\ntext_splitter = RecursiveCharacterTextSplitter(chunk_size=1000, chunk_overlap=200)\nall_splits = text_splitter.split_documents(docs)\n\n# Index chunks\n_ = vector_store.add_documents(documents=all_splits)\n\n# Construct a tool for retrieving context\n@tool(response_format=\"content_and_artifact\")\ndef retrieve_context(query: str):\n    \"\"\"Retrieve information to help answer a query.\"\"\"\n    retrieved_docs = vector_store.similarity_search(query, k=2)\n    serialized = \"\\n\\n\".join(\n        (f\"Source: {doc.metadata}\\nContent: {doc.page_content}\")\n        for doc in retrieved_docs\n    )\n    return serialized, retrieved_docs\n\ntools = [retrieve_context]\n# If desired, specify custom instructions\nprompt = (\n    \"You have access to a tool that retrieves context from a blog post. \"\n    \"Use the tool to help answer user queries.\"\n)\nagent = create_agent(model, tools, system_prompt=prompt)\n"
        },
        {
          "lang": "",
          "code": "query = \"What is task decomposition?\"\nfor step in agent.stream(\n    {\"messages\": [{\"role\": \"user\", \"content\": query}]},\n    stream_mode=\"values\",\n):\n    step[\"messages\"][-1].pretty_print()\n"
        },
        {
          "lang": "",
          "code": "================================ Human Message =================================\n\nWhat is task decomposition?\n================================== Ai Message ==================================\nTool Calls:\n  retrieve_context (call_xTkJr8njRY0geNz43ZvGkX0R)\n Call ID: call_xTkJr8njRY0geNz43ZvGkX0R\n  Args:\n    query: task decomposition\n================================= Tool Message =================================\nName: retrieve_context\n\nSource: {'source': 'https://lilianweng.github.io/posts/2023-06-23-agent/'}\nContent: Task decomposition can be done by...\n\nSource: {'source': 'https://lilianweng.github.io/posts/2023-06-23-agent/'}\nContent: Component One: Planning...\n================================== Ai Message ==================================\n\nTask decomposition refers to...\n"
        },
        {
          "lang": "",
          "code": "pip install langchain langchain-text-splitters langchain-community bs4\n"
        },
        {
          "lang": "",
          "code": "export LANGSMITH_TRACING=\"true\"\nexport LANGSMITH_API_KEY=\"...\"\n"
        },
        {
          "lang": "",
          "code": "import getpass\nimport os\n\nos.environ[\"LANGSMITH_TRACING\"] = \"true\"\nos.environ[\"LANGSMITH_API_KEY\"] = getpass.getpass()\n"
        },
        {
          "lang": "",
          "code": "pip install -U \"langchain[openai]\"\n"
        },
        {
          "lang": "",
          "code": "import os\nfrom langchain.chat_models import init_chat_model\n\nos.environ[\"OPENAI_API_KEY\"] = \"sk-...\"\n\nmodel = init_chat_model(\"gpt-4.1\")\n"
        },
        {
          "lang": "",
          "code": "pip install -U \"langchain[anthropic]\"\n"
        },
        {
          "lang": "",
          "code": "import os\nfrom langchain.chat_models import init_chat_model\n\nos.environ[\"ANTHROPIC_API_KEY\"] = \"sk-...\"\n\nmodel = init_chat_model(\"claude-sonnet-4-5-20250929\")\n"
        },
        {
          "lang": "",
          "code": "pip install -U \"langchain[openai]\"\n"
        },
        {
          "lang": "",
          "code": "import os\nfrom langchain.chat_models import init_chat_model\n\nos.environ[\"AZURE_OPENAI_API_KEY\"] = \"...\"\nos.environ[\"AZURE_OPENAI_ENDPOINT\"] = \"...\"\nos.environ[\"OPENAI_API_VERSION\"] = \"2025-03-01-preview\"\n\nmodel = init_chat_model(\n    \"azure_openai:gpt-4.1\",\n    azure_deployment=os.environ[\"AZURE_OPENAI_DEPLOYMENT_NAME\"],\n)\n"
        },
        {
          "lang": "",
          "code": "pip install -U \"langchain[google-genai]\"\n"
        },
        {
          "lang": "",
          "code": "import os\nfrom langchain.chat_models import init_chat_model\n\nos.environ[\"GOOGLE_API_KEY\"] = \"...\"\n\nmodel = init_chat_model(\"google_genai:gemini-2.5-flash-lite\")\n"
        },
        {
          "lang": "",
          "code": "pip install -U \"langchain[aws]\"\n"
        },
        {
          "lang": "",
          "code": "from langchain.chat_models import init_chat_model\n\n# Follow the steps here to configure your credentials:\n# https://docs.aws.amazon.com/bedrock/latest/userguide/getting-started.html\n\nmodel = init_chat_model(\n    \"anthropic.claude-3-5-sonnet-20240620-v1:0\",\n    model_provider=\"bedrock_converse\",\n)\n"
        },
        {
          "lang": "",
          "code": "pip install -U \"langchain[huggingface]\"\n"
        },
        {
          "lang": "",
          "code": "import os\nfrom langchain.chat_models import init_chat_model\n\nos.environ[\"HUGGINGFACEHUB_API_TOKEN\"] = \"hf_...\"\n\nmodel = init_chat_model(\n    \"microsoft/Phi-3-mini-4k-instruct\",\n    model_provider=\"huggingface\",\n    temperature=0.7,\n    max_tokens=1024,\n)\n"
        },
        {
          "lang": "",
          "code": "pip install -U \"langchain-openai\"\n"
        },
        {
          "lang": "",
          "code": "import getpass\nimport os\n\nif not os.environ.get(\"OPENAI_API_KEY\"):\n    os.environ[\"OPENAI_API_KEY\"] = getpass.getpass(\"Enter API key for OpenAI: \")\n\nfrom langchain_openai import OpenAIEmbeddings\n\nembeddings = OpenAIEmbeddings(model=\"text-embedding-3-large\")\n"
        },
        {
          "lang": "",
          "code": "pip install -U \"langchain-openai\"\n"
        },
        {
          "lang": "",
          "code": "import getpass\nimport os\n\nif not os.environ.get(\"AZURE_OPENAI_API_KEY\"):\n    os.environ[\"AZURE_OPENAI_API_KEY\"] = getpass.getpass(\"Enter API key for Azure: \")\n\nfrom langchain_openai import AzureOpenAIEmbeddings\n\nembeddings = AzureOpenAIEmbeddings(\n    azure_endpoint=os.environ[\"AZURE_OPENAI_ENDPOINT\"],\n    azure_deployment=os.environ[\"AZURE_OPENAI_DEPLOYMENT_NAME\"],\n    openai_api_version=os.environ[\"AZURE_OPENAI_API_VERSION\"],\n)\n"
        },
        {
          "lang": "",
          "code": "pip install -qU langchain-google-genai\n"
        },
        {
          "lang": "",
          "code": "import getpass\nimport os\n\nif not os.environ.get(\"GOOGLE_API_KEY\"):\n    os.environ[\"GOOGLE_API_KEY\"] = getpass.getpass(\"Enter API key for Google Gemini: \")\n\nfrom langchain_google_genai import GoogleGenerativeAIEmbeddings\n\nembeddings = GoogleGenerativeAIEmbeddings(model=\"models/gemini-embedding-001\")\n"
        },
        {
          "lang": "",
          "code": "pip install -qU langchain-google-vertexai\n"
        },
        {
          "lang": "",
          "code": "from langchain_google_vertexai import VertexAIEmbeddings\n\nembeddings = VertexAIEmbeddings(model=\"text-embedding-005\")\n"
        },
        {
          "lang": "",
          "code": "pip install -qU langchain-aws\n"
        },
        {
          "lang": "",
          "code": "from langchain_aws import BedrockEmbeddings\n\nembeddings = BedrockEmbeddings(model_id=\"amazon.titan-embed-text-v2:0\")\n"
        },
        {
          "lang": "",
          "code": "pip install -qU langchain-huggingface\n"
        },
        {
          "lang": "",
          "code": "from langchain_huggingface import HuggingFaceEmbeddings\n\nembeddings = HuggingFaceEmbeddings(model_name=\"sentence-transformers/all-mpnet-base-v2\")\n"
        },
        {
          "lang": "",
          "code": "pip install -qU langchain-ollama\n"
        },
        {
          "lang": "",
          "code": "from langchain_ollama import OllamaEmbeddings\n\nembeddings = OllamaEmbeddings(model=\"llama3\")\n"
        },
        {
          "lang": "",
          "code": "pip install -qU langchain-cohere\n"
        },
        {
          "lang": "",
          "code": "import getpass\nimport os\n\nif not os.environ.get(\"COHERE_API_KEY\"):\n    os.environ[\"COHERE_API_KEY\"] = getpass.getpass(\"Enter API key for Cohere: \")\n\nfrom langchain_cohere import CohereEmbeddings\n\nembeddings = CohereEmbeddings(model=\"embed-english-v3.0\")\n"
        },
        {
          "lang": "",
          "code": "pip install -qU langchain-mistralai\n"
        },
        {
          "lang": "",
          "code": "import getpass\nimport os\n\nif not os.environ.get(\"MISTRALAI_API_KEY\"):\n    os.environ[\"MISTRALAI_API_KEY\"] = getpass.getpass(\"Enter API key for MistralAI: \")\n\nfrom langchain_mistralai import MistralAIEmbeddings\n\nembeddings = MistralAIEmbeddings(model=\"mistral-embed\")\n"
        },
        {
          "lang": "",
          "code": "pip install -qU langchain-nomic\n"
        },
        {
          "lang": "",
          "code": "import getpass\nimport os\n\nif not os.environ.get(\"NOMIC_API_KEY\"):\n    os.environ[\"NOMIC_API_KEY\"] = getpass.getpass(\"Enter API key for Nomic: \")\n\nfrom langchain_nomic import NomicEmbeddings\n\nembeddings = NomicEmbeddings(model=\"nomic-embed-text-v1.5\")\n"
        },
        {
          "lang": "",
          "code": "pip install -qU langchain-nvidia-ai-endpoints\n"
        },
        {
          "lang": "",
          "code": "import getpass\nimport os\n\nif not os.environ.get(\"NVIDIA_API_KEY\"):\n    os.environ[\"NVIDIA_API_KEY\"] = getpass.getpass(\"Enter API key for NVIDIA: \")\n\nfrom langchain_nvidia_ai_endpoints import NVIDIAEmbeddings\n\nembeddings = NVIDIAEmbeddings(model=\"NV-Embed-QA\")\n"
        },
        {
          "lang": "",
          "code": "pip install -qU langchain-voyageai\n"
        },
        {
          "lang": "",
          "code": "import getpass\nimport os\n\nif not os.environ.get(\"VOYAGE_API_KEY\"):\n    os.environ[\"VOYAGE_API_KEY\"] = getpass.getpass(\"Enter API key for Voyage AI: \")\n\nfrom langchain-voyageai import VoyageAIEmbeddings\n\nembeddings = VoyageAIEmbeddings(model=\"voyage-3\")\n"
        },
        {
          "lang": "",
          "code": "pip install -qU langchain-ibm\n"
        },
        {
          "lang": "",
          "code": "import getpass\nimport os\n\nif not os.environ.get(\"WATSONX_APIKEY\"):\n    os.environ[\"WATSONX_APIKEY\"] = getpass.getpass(\"Enter API key for IBM watsonx: \")\n\nfrom langchain_ibm import WatsonxEmbeddings\n\nembeddings = WatsonxEmbeddings(\n    model_id=\"ibm/slate-125m-english-rtrvr\",\n    url=\"https://us-south.ml.cloud.ibm.com\",\n    project_id=\"<WATSONX PROJECT_ID>\",\n)\n"
        },
        {
          "lang": "",
          "code": "pip install -qU langchain-core\n"
        },
        {
          "lang": "",
          "code": "from langchain_core.embeddings import DeterministicFakeEmbedding\n\nembeddings = DeterministicFakeEmbedding(size=4096)\n"
        },
        {
          "lang": "",
          "code": "pip install -qU langchain-isaacus\n"
        },
        {
          "lang": "",
          "code": "import getpass\nimport os\n\nif not os.environ.get(\"ISAACUS_API_KEY\"):\nos.environ[\"ISAACUS_API_KEY\"] = getpass.getpass(\"Enter API key for Isaacus: \")\n\nfrom langchain_isaacus import IsaacusEmbeddings\n\nembeddings = IsaacusEmbeddings(model=\"kanon-2-embedder\")\n"
        },
        {
          "lang": "",
          "code": "pip install -U \"langchain-core\"\n"
        },
        {
          "lang": "",
          "code": "from langchain_core.vectorstores import InMemoryVectorStore\n\nvector_store = InMemoryVectorStore(embeddings)\n"
        },
        {
          "lang": "",
          "code": "pip install -qU  boto3\n"
        },
        {
          "lang": "",
          "code": "from opensearchpy import RequestsHttpConnection\n\nservice = \"es\"  # must set the service as 'es'\nregion = \"us-east-2\"\ncredentials = boto3.Session(\n    aws_access_key_id=\"xxxxxx\", aws_secret_access_key=\"xxxxx\"\n).get_credentials()\nawsauth = AWS4Auth(\"xxxxx\", \"xxxxxx\", region, service, session_token=credentials.token)\n\nvector_store = OpenSearchVectorSearch.from_documents(\n    docs,\n    embeddings,\n    opensearch_url=\"host url\",\n    http_auth=awsauth,\n    timeout=300,\n    use_ssl=True,\n    verify_certs=True,\n    connection_class=RequestsHttpConnection,\n    index_name=\"test-index\",\n)\n"
        },
        {
          "lang": "",
          "code": "pip install -U \"langchain-astradb\"\n"
        },
        {
          "lang": "",
          "code": "from langchain_astradb import AstraDBVectorStore\n\nvector_store = AstraDBVectorStore(\n    embedding=embeddings,\n    api_endpoint=ASTRA_DB_API_ENDPOINT,\n    collection_name=\"astra_vector_langchain\",\n    token=ASTRA_DB_APPLICATION_TOKEN,\n    namespace=ASTRA_DB_NAMESPACE,\n)\n"
        },
        {
          "lang": "",
          "code": "pip install -qU langchain-chroma\n"
        },
        {
          "lang": "",
          "code": "from langchain_chroma import Chroma\n\nvector_store = Chroma(\n    collection_name=\"example_collection\",\n    embedding_function=embeddings,\n    persist_directory=\"./chroma_langchain_db\",  # Where to save data locally, remove if not necessary\n)\n"
        },
        {
          "lang": "",
          "code": "pip install -qU langchain-community faiss-cpu\n"
        },
        {
          "lang": "",
          "code": "import faiss\nfrom langchain_community.docstore.in_memory import InMemoryDocstore\nfrom langchain_community.vectorstores import FAISS\n\nembedding_dim = len(embeddings.embed_query(\"hello world\"))\nindex = faiss.IndexFlatL2(embedding_dim)\n\nvector_store = FAISS(\n    embedding_function=embeddings,\n    index=index,\n    docstore=InMemoryDocstore(),\n    index_to_docstore_id={},\n)\n"
        },
        {
          "lang": "",
          "code": "pip install -qU langchain-milvus\n"
        },
        {
          "lang": "",
          "code": "from langchain_milvus import Milvus\n\nURI = \"./milvus_example.db\"\n\nvector_store = Milvus(\n    embedding_function=embeddings,\n    connection_args={\"uri\": URI},\n    index_params={\"index_type\": \"FLAT\", \"metric_type\": \"L2\"},\n)\n"
        },
        {
          "lang": "",
          "code": "pip install -qU langchain-mongodb\n"
        },
        {
          "lang": "",
          "code": "from langchain_mongodb import MongoDBAtlasVectorSearch\n\nvector_store = MongoDBAtlasVectorSearch(\n    embedding=embeddings,\n    collection=MONGODB_COLLECTION,\n    index_name=ATLAS_VECTOR_SEARCH_INDEX_NAME,\n    relevance_score_fn=\"cosine\",\n)\n"
        },
        {
          "lang": "",
          "code": "pip install -qU langchain-postgres\n"
        },
        {
          "lang": "",
          "code": "from langchain_postgres import PGVector\n\nvector_store = PGVector(\n    embeddings=embeddings,\n    collection_name=\"my_docs\",\n    connection=\"postgresql+psycopg://...\",\n)\n"
        },
        {
          "lang": "",
          "code": "pip install -qU langchain-postgres\n"
        },
        {
          "lang": "",
          "code": "from langchain_postgres import PGEngine, PGVectorStore\n\npg_engine = PGEngine.from_connection_string(\n    url=\"postgresql+psycopg://...\"\n)\n\nvector_store = PGVectorStore.create_sync(\n    engine=pg_engine,\n    table_name='test_table',\n    embedding_service=embedding\n)\n"
        },
        {
          "lang": "",
          "code": "pip install -qU langchain-pinecone\n"
        },
        {
          "lang": "",
          "code": "from langchain_pinecone import PineconeVectorStore\nfrom pinecone import Pinecone\n\npc = Pinecone(api_key=...)\nindex = pc.Index(index_name)\n\nvector_store = PineconeVectorStore(embedding=embeddings, index=index)\n"
        },
        {
          "lang": "",
          "code": "pip install -qU langchain-qdrant\n"
        },
        {
          "lang": "",
          "code": "from qdrant_client.models import Distance, VectorParams\nfrom langchain_qdrant import QdrantVectorStore\nfrom qdrant_client import QdrantClient\n\nclient = QdrantClient(\":memory:\")\n\nvector_size = len(embeddings.embed_query(\"sample text\"))\n\nif not client.collection_exists(\"test\"):\n    client.create_collection(\n        collection_name=\"test\",\n        vectors_config=VectorParams(size=vector_size, distance=Distance.COSINE)\n    )\nvector_store = QdrantVectorStore(\n    client=client,\n    collection_name=\"test\",\n    embedding=embeddings,\n)\n"
        },
        {
          "lang": "",
          "code": "import bs4\nfrom langchain_community.document_loaders import WebBaseLoader\n\n# Only keep post title, headers, and content from the full HTML.\nbs4_strainer = bs4.SoupStrainer(class_=(\"post-title\", \"post-header\", \"post-content\"))\nloader = WebBaseLoader(\n    web_paths=(\"https://lilianweng.github.io/posts/2023-06-23-agent/\",),\n    bs_kwargs={\"parse_only\": bs4_strainer},\n)\ndocs = loader.load()\n\nassert len(docs) == 1\nprint(f\"Total characters: {len(docs[0].page_content)}\")\n"
        },
        {
          "lang": "",
          "code": "Total characters: 43131\n"
        },
        {
          "lang": "",
          "code": "print(docs[0].page_content[:500])\n"
        },
        {
          "lang": "",
          "code": "      LLM Powered Autonomous Agents\n\nDate: June 23, 2023  |  Estimated Reading Time: 31 min  |  Author: Lilian Weng\n\n\nBuilding agents with LLM (large language model) as its core controller is a cool concept. Several proof-of-concepts demos, such as AutoGPT, GPT-Engineer and BabyAGI, serve as inspiring examples. The potentiality of LLM extends beyond generating well-written copies, stories, essays and programs; it can be framed as a powerful general problem solver.\nAgent System Overview#\nIn\n"
        },
        {
          "lang": "",
          "code": "from langchain_text_splitters import RecursiveCharacterTextSplitter\n\ntext_splitter = RecursiveCharacterTextSplitter(\n    chunk_size=1000,  # chunk size (characters)\n    chunk_overlap=200,  # chunk overlap (characters)\n    add_start_index=True,  # track index in original document\n)\nall_splits = text_splitter.split_documents(docs)\n\nprint(f\"Split blog post into {len(all_splits)} sub-documents.\")\n"
        },
        {
          "lang": "",
          "code": "Split blog post into 66 sub-documents.\n"
        },
        {
          "lang": "",
          "code": "document_ids = vector_store.add_documents(documents=all_splits)\n\nprint(document_ids[:3])\n"
        },
        {
          "lang": "",
          "code": "['07c18af6-ad58-479a-bfb1-d508033f9c64', '9000bf8e-1993-446f-8d4d-f4e507ba4b8f', 'ba3b5d14-bed9-4f5f-88be-44c88aedc2e6']\n"
        },
        {
          "lang": "",
          "code": "from langchain.tools import tool\n\n@tool(response_format=\"content_and_artifact\")\ndef retrieve_context(query: str):\n    \"\"\"Retrieve information to help answer a query.\"\"\"\n    retrieved_docs = vector_store.similarity_search(query, k=2)\n    serialized = \"\\n\\n\".join(\n        (f\"Source: {doc.metadata}\\nContent: {doc.page_content}\")\n        for doc in retrieved_docs\n    )\n    return serialized, retrieved_docs\n"
        },
        {
          "lang": "",
          "code": "from typing import Literal\n\ndef retrieve_context(query: str, section: Literal[\"beginning\", \"middle\", \"end\"]):\n"
        },
        {
          "lang": "",
          "code": "from langchain.agents import create_agent\n\n\ntools = [retrieve_context]\n# If desired, specify custom instructions\nprompt = (\n    \"You have access to a tool that retrieves context from a blog post. \"\n    \"Use the tool to help answer user queries.\"\n)\nagent = create_agent(model, tools, system_prompt=prompt)\n"
        },
        {
          "lang": "",
          "code": "query = (\n    \"What is the standard method for Task Decomposition?\\n\\n\"\n    \"Once you get the answer, look up common extensions of that method.\"\n)\n\nfor event in agent.stream(\n    {\"messages\": [{\"role\": \"user\", \"content\": query}]},\n    stream_mode=\"values\",\n):\n    event[\"messages\"][-1].pretty_print()\n"
        },
        {
          "lang": "",
          "code": "================================ Human Message =================================\n\nWhat is the standard method for Task Decomposition?\n\nOnce you get the answer, look up common extensions of that method.\n================================== Ai Message ==================================\nTool Calls:\n  retrieve_context (call_d6AVxICMPQYwAKj9lgH4E337)\n Call ID: call_d6AVxICMPQYwAKj9lgH4E337\n  Args:\n    query: standard method for Task Decomposition\n================================= Tool Message =================================\nName: retrieve_context\n\nSource: {'source': 'https://lilianweng.github.io/posts/2023-06-23-agent/'}\nContent: Task decomposition can be done...\n\nSource: {'source': 'https://lilianweng.github.io/posts/2023-06-23-agent/'}\nContent: Component One: Planning...\n================================== Ai Message ==================================\nTool Calls:\n  retrieve_context (call_0dbMOw7266jvETbXWn4JqWpR)\n Call ID: call_0dbMOw7266jvETbXWn4JqWpR\n  Args:\n    query: common extensions of the standard method for Task Decomposition\n================================= Tool Message =================================\nName: retrieve_context\n\nSource: {'source': 'https://lilianweng.github.io/posts/2023-06-23-agent/'}\nContent: Task decomposition can be done...\n\nSource: {'source': 'https://lilianweng.github.io/posts/2023-06-23-agent/'}\nContent: Component One: Planning...\n================================== Ai Message ==================================\n\nThe standard method for Task Decomposition often used is the Chain of Thought (CoT)...\n"
        },
        {
          "lang": "",
          "code": "from langchain.agents.middleware import dynamic_prompt, ModelRequest\n\n@dynamic_prompt\ndef prompt_with_context(request: ModelRequest) -> str:\n    \"\"\"Inject context into state messages.\"\"\"\n    last_query = request.state[\"messages\"][-1].text\n    retrieved_docs = vector_store.similarity_search(last_query)\n\n    docs_content = \"\\n\\n\".join(doc.page_content for doc in retrieved_docs)\n\n    system_message = (\n        \"You are a helpful assistant. Use the following context in your response:\"\n        f\"\\n\\n{docs_content}\"\n    )\n\n    return system_message\n\n\nagent = create_agent(model, tools=[], middleware=[prompt_with_context])\n"
        },
        {
          "lang": "",
          "code": "query = \"What is task decomposition?\"\nfor step in agent.stream(\n    {\"messages\": [{\"role\": \"user\", \"content\": query}]},\n    stream_mode=\"values\",\n):\n    step[\"messages\"][-1].pretty_print()\n"
        },
        {
          "lang": "",
          "code": "================================ Human Message =================================\n\nWhat is task decomposition?\n================================== Ai Message ==================================\n\nTask decomposition is...\n"
        },
        {
          "lang": "",
          "code": "from typing import Any\nfrom langchain_core.documents import Document\nfrom langchain.agents.middleware import AgentMiddleware, AgentState\n\n\nclass State(AgentState):\n    context: list[Document]\n\n\nclass RetrieveDocumentsMiddleware(AgentMiddleware[State]):\n    state_schema = State\n\n    def before_model(self, state: AgentState) -> dict[str, Any] | None:\n        last_message = state[\"messages\"][-1]\n        retrieved_docs = vector_store.similarity_search(last_message.text)\n\n        docs_content = \"\\n\\n\".join(doc.page_content for doc in retrieved_docs)\n\n        augmented_message_content = (\n            f\"{last_message.text}\\n\\n\"\n            \"Use the following context to answer the query:\\n\"\n            f\"{docs_content}\"\n        )\n        return {\n            \"messages\": [last_message.model_copy(update={\"content\": augmented_message_content})],\n            \"context\": retrieved_docs,\n        }\n\n\nagent = create_agent(\n    model,\n    tools=[],\n    middleware=[RetrieveDocumentsMiddleware()],\n)\n"
        }
      ],
      "headings": [
        {
          "level": 2,
          "text": "​Overview"
        },
        {
          "level": 3,
          "text": "​Concepts"
        },
        {
          "level": 3,
          "text": "​Preview"
        },
        {
          "level": 2,
          "text": "​Setup"
        },
        {
          "level": 3,
          "text": "​Installation"
        },
        {
          "level": 3,
          "text": "​LangSmith"
        },
        {
          "level": 3,
          "text": "​Components"
        },
        {
          "level": 2,
          "text": "​1. Indexing"
        },
        {
          "level": 3,
          "text": "​Loading documents"
        },
        {
          "level": 3,
          "text": "​Splitting documents"
        },
        {
          "level": 3,
          "text": "​Storing documents"
        },
        {
          "level": 2,
          "text": "​2. Retrieval and Generation"
        },
        {
          "level": 3,
          "text": "​RAG agents"
        },
        {
          "level": 3,
          "text": "​RAG chains"
        },
        {
          "level": 2,
          "text": "​Next steps"
        }
      ]
    }
  ]
}